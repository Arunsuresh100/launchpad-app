(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function QT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var j2={exports:{}},Yx={};var HA;function q8(){if(HA)return Yx;HA=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,r){var o=null;if(r!==void 0&&(o=""+r),s.key!==void 0&&(o=""+s.key),"key"in s){r={};for(var c in s)c!=="key"&&(r[c]=s[c])}else r=s;return s=r.ref,{$$typeof:i,type:n,key:o,ref:s!==void 0?s:null,props:r}}return Yx.Fragment=e,Yx.jsx=t,Yx.jsxs=t,Yx}var GA;function W8(){return GA||(GA=1,j2.exports=q8()),j2.exports}var _=W8(),F2={exports:{}},ln={};var XA;function Y8(){if(XA)return ln;XA=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function b(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function M(W,ae,he){this.props=W,this.context=ae,this.refs=A,this.updater=he||S}M.prototype.isReactComponent={},M.prototype.setState=function(W,ae){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,ae,"setState")},M.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function D(){}D.prototype=M.prototype;function R(W,ae,he){this.props=W,this.context=ae,this.refs=A,this.updater=he||S}var L=R.prototype=new D;L.constructor=R,E(L,M.prototype),L.isPureReactComponent=!0;var z=Array.isArray;function U(){}var I={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function P(W,ae,he){var ye=he.ref;return{$$typeof:i,type:W,key:ae,ref:ye!==void 0?ye:null,props:he}}function B(W,ae){return P(W.type,ae,W.props)}function H(W){return typeof W=="object"&&W!==null&&W.$$typeof===i}function Q(W){var ae={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(he){return ae[he]})}var ie=/\/+/g;function ue(W,ae){return typeof W=="object"&&W!==null&&W.key!=null?Q(""+W.key):ae.toString(36)}function fe(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(U,U):(W.status="pending",W.then(function(ae){W.status==="pending"&&(W.status="fulfilled",W.value=ae)},function(ae){W.status==="pending"&&(W.status="rejected",W.reason=ae)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function V(W,ae,he,ye,Pe){var pe=typeof W;(pe==="undefined"||pe==="boolean")&&(W=null);var _e=!1;if(W===null)_e=!0;else switch(pe){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(W.$$typeof){case i:case e:_e=!0;break;case m:return _e=W._init,V(_e(W._payload),ae,he,ye,Pe)}}if(_e)return Pe=Pe(W),_e=ye===""?"."+ue(W,0):ye,z(Pe)?(he="",_e!=null&&(he=_e.replace(ie,"$&/")+"/"),V(Pe,ae,he,"",function(pt){return pt})):Pe!=null&&(H(Pe)&&(Pe=B(Pe,he+(Pe.key==null||W&&W.key===Pe.key?"":(""+Pe.key).replace(ie,"$&/")+"/")+_e)),ae.push(Pe)),1;_e=0;var We=ye===""?".":ye+":";if(z(W))for(var tt=0;tt<W.length;tt++)ye=W[tt],pe=We+ue(ye,tt),_e+=V(ye,ae,he,pe,Pe);else if(tt=b(W),typeof tt=="function")for(W=tt.call(W),tt=0;!(ye=W.next()).done;)ye=ye.value,pe=We+ue(ye,tt++),_e+=V(ye,ae,he,pe,Pe);else if(pe==="object"){if(typeof W.then=="function")return V(fe(W),ae,he,ye,Pe);throw ae=String(W),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return _e}function X(W,ae,he){if(W==null)return W;var ye=[],Pe=0;return V(W,ye,"","",function(pe){return ae.call(he,pe,Pe++)}),ye}function K(W){if(W._status===-1){var ae=W._result;ae=ae(),ae.then(function(he){(W._status===0||W._status===-1)&&(W._status=1,W._result=he)},function(he){(W._status===0||W._status===-1)&&(W._status=2,W._result=he)}),W._status===-1&&(W._status=0,W._result=ae)}if(W._status===1)return W._result.default;throw W._result}var ce=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},Y={map:X,forEach:function(W,ae,he){X(W,function(){ae.apply(this,arguments)},he)},count:function(W){var ae=0;return X(W,function(){ae++}),ae},toArray:function(W){return X(W,function(ae){return ae})||[]},only:function(W){if(!H(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return ln.Activity=g,ln.Children=Y,ln.Component=M,ln.Fragment=t,ln.Profiler=s,ln.PureComponent=R,ln.StrictMode=n,ln.Suspense=d,ln.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,ln.__COMPILER_RUNTIME={__proto__:null,c:function(W){return I.H.useMemoCache(W)}},ln.cache=function(W){return function(){return W.apply(null,arguments)}},ln.cacheSignal=function(){return null},ln.cloneElement=function(W,ae,he){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var ye=E({},W.props),Pe=W.key;if(ae!=null)for(pe in ae.key!==void 0&&(Pe=""+ae.key),ae)!F.call(ae,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&ae.ref===void 0||(ye[pe]=ae[pe]);var pe=arguments.length-2;if(pe===1)ye.children=he;else if(1<pe){for(var _e=Array(pe),We=0;We<pe;We++)_e[We]=arguments[We+2];ye.children=_e}return P(W.type,Pe,ye)},ln.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:r,_context:W},W},ln.createElement=function(W,ae,he){var ye,Pe={},pe=null;if(ae!=null)for(ye in ae.key!==void 0&&(pe=""+ae.key),ae)F.call(ae,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(Pe[ye]=ae[ye]);var _e=arguments.length-2;if(_e===1)Pe.children=he;else if(1<_e){for(var We=Array(_e),tt=0;tt<_e;tt++)We[tt]=arguments[tt+2];Pe.children=We}if(W&&W.defaultProps)for(ye in _e=W.defaultProps,_e)Pe[ye]===void 0&&(Pe[ye]=_e[ye]);return P(W,pe,Pe)},ln.createRef=function(){return{current:null}},ln.forwardRef=function(W){return{$$typeof:c,render:W}},ln.isValidElement=H,ln.lazy=function(W){return{$$typeof:m,_payload:{_status:-1,_result:W},_init:K}},ln.memo=function(W,ae){return{$$typeof:p,type:W,compare:ae===void 0?null:ae}},ln.startTransition=function(W){var ae=I.T,he={};I.T=he;try{var ye=W(),Pe=I.S;Pe!==null&&Pe(he,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(U,ce)}catch(pe){ce(pe)}finally{ae!==null&&he.types!==null&&(ae.types=he.types),I.T=ae}},ln.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},ln.use=function(W){return I.H.use(W)},ln.useActionState=function(W,ae,he){return I.H.useActionState(W,ae,he)},ln.useCallback=function(W,ae){return I.H.useCallback(W,ae)},ln.useContext=function(W){return I.H.useContext(W)},ln.useDebugValue=function(){},ln.useDeferredValue=function(W,ae){return I.H.useDeferredValue(W,ae)},ln.useEffect=function(W,ae){return I.H.useEffect(W,ae)},ln.useEffectEvent=function(W){return I.H.useEffectEvent(W)},ln.useId=function(){return I.H.useId()},ln.useImperativeHandle=function(W,ae,he){return I.H.useImperativeHandle(W,ae,he)},ln.useInsertionEffect=function(W,ae){return I.H.useInsertionEffect(W,ae)},ln.useLayoutEffect=function(W,ae){return I.H.useLayoutEffect(W,ae)},ln.useMemo=function(W,ae){return I.H.useMemo(W,ae)},ln.useOptimistic=function(W,ae){return I.H.useOptimistic(W,ae)},ln.useReducer=function(W,ae,he){return I.H.useReducer(W,ae,he)},ln.useRef=function(W){return I.H.useRef(W)},ln.useState=function(W){return I.H.useState(W)},ln.useSyncExternalStore=function(W,ae,he){return I.H.useSyncExternalStore(W,ae,he)},ln.useTransition=function(){return I.H.useTransition()},ln.version="19.2.1",ln}var qA;function d0(){return qA||(qA=1,F2.exports=Y8()),F2.exports}var se=d0();const u5=QT(se);var V2={exports:{}},Zx={},k2={exports:{}},H2={};var WA;function Z8(){return WA||(WA=1,(function(i){function e(V,X){var K=V.length;V.push(X);e:for(;0<K;){var ce=K-1>>>1,Y=V[ce];if(0<s(Y,X))V[ce]=X,V[K]=Y,K=ce;else break e}}function t(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var X=V[0],K=V.pop();if(K!==X){V[0]=K;e:for(var ce=0,Y=V.length,W=Y>>>1;ce<W;){var ae=2*(ce+1)-1,he=V[ae],ye=ae+1,Pe=V[ye];if(0>s(he,K))ye<Y&&0>s(Pe,he)?(V[ce]=Pe,V[ye]=K,ce=ye):(V[ce]=he,V[ae]=K,ce=ae);else if(ye<Y&&0>s(Pe,K))V[ce]=Pe,V[ye]=K,ce=ye;else break e}}return X}function s(V,X){var K=V.sortIndex-X.sortIndex;return K!==0?K:V.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();i.unstable_now=function(){return o.now()-c}}var d=[],p=[],m=1,g=null,y=3,b=!1,S=!1,E=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function L(V){for(var X=t(p);X!==null;){if(X.callback===null)n(p);else if(X.startTime<=V)n(p),X.sortIndex=X.expirationTime,e(d,X);else break;X=t(p)}}function z(V){if(E=!1,L(V),!S)if(t(d)!==null)S=!0,U||(U=!0,Q());else{var X=t(p);X!==null&&fe(z,X.startTime-V)}}var U=!1,I=-1,F=5,P=-1;function B(){return A?!0:!(i.unstable_now()-P<F)}function H(){if(A=!1,U){var V=i.unstable_now();P=V;var X=!0;try{e:{S=!1,E&&(E=!1,D(I),I=-1),b=!0;var K=y;try{t:{for(L(V),g=t(d);g!==null&&!(g.expirationTime>V&&B());){var ce=g.callback;if(typeof ce=="function"){g.callback=null,y=g.priorityLevel;var Y=ce(g.expirationTime<=V);if(V=i.unstable_now(),typeof Y=="function"){g.callback=Y,L(V),X=!0;break t}g===t(d)&&n(d),L(V)}else n(d);g=t(d)}if(g!==null)X=!0;else{var W=t(p);W!==null&&fe(z,W.startTime-V),X=!1}}break e}finally{g=null,y=K,b=!1}X=void 0}}finally{X?Q():U=!1}}}var Q;if(typeof R=="function")Q=function(){R(H)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ue=ie.port2;ie.port1.onmessage=H,Q=function(){ue.postMessage(null)}}else Q=function(){M(H,0)};function fe(V,X){I=M(function(){V(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_next=function(V){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var K=y;y=X;try{return V()}finally{y=K}},i.unstable_requestPaint=function(){A=!0},i.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=y;y=V;try{return X()}finally{y=K}},i.unstable_scheduleCallback=function(V,X,K){var ce=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ce+K:ce):K=ce,V){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=K+Y,V={id:m++,callback:X,priorityLevel:V,startTime:K,expirationTime:Y,sortIndex:-1},K>ce?(V.sortIndex=K,e(p,V),t(d)===null&&V===t(p)&&(E?(D(I),I=-1):E=!0,fe(z,K-ce))):(V.sortIndex=Y,e(d,V),S||b||(S=!0,U||(U=!0,Q()))),V},i.unstable_shouldYield=B,i.unstable_wrapCallback=function(V){var X=y;return function(){var K=y;y=X;try{return V.apply(this,arguments)}finally{y=K}}}})(H2)),H2}var YA;function K8(){return YA||(YA=1,k2.exports=Z8()),k2.exports}var G2={exports:{}},Sa={};var ZA;function Q8(){if(ZA)return Sa;ZA=1;var i=d0();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(d,p,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:d,containerInfo:p,implementation:m}}var o=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Sa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Sa.createPortal=function(d,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return r(d,p,null,m)},Sa.flushSync=function(d){var p=o.T,m=n.p;try{if(o.T=null,n.p=2,d)return d()}finally{o.T=p,n.p=m,n.d.f()}},Sa.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(d,p))},Sa.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Sa.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var m=p.as,g=c(m,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?n.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:b}):m==="script"&&n.d.X(d,{crossOrigin:g,integrity:y,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Sa.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=c(p.as,p.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(d)},Sa.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,g=c(m,p.crossOrigin);n.d.L(d,m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Sa.preloadModule=function(d,p){if(typeof d=="string")if(p){var m=c(p.as,p.crossOrigin);n.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(d)},Sa.requestFormReset=function(d){n.d.r(d)},Sa.unstable_batchedUpdates=function(d,p){return d(p)},Sa.useFormState=function(d,p,m){return o.H.useFormState(d,p,m)},Sa.useFormStatus=function(){return o.H.useHostTransitionStatus()},Sa.version="19.2.1",Sa}var KA;function J8(){if(KA)return G2.exports;KA=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),G2.exports=Q8(),G2.exports}var QA;function $8(){if(QA)return Zx;QA=1;var i=K8(),e=d0(),t=J8();function n(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function r(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function d(a){if(r(a)!==a)throw Error(n(188))}function p(a){var l=a.alternate;if(!l){if(l=r(a),l===null)throw Error(n(188));return l!==a?null:a}for(var h=a,x=l;;){var T=h.return;if(T===null)break;var C=T.alternate;if(C===null){if(x=T.return,x!==null){h=x;continue}break}if(T.child===C.child){for(C=T.child;C;){if(C===h)return d(T),a;if(C===x)return d(T),l;C=C.sibling}throw Error(n(188))}if(h.return!==x.return)h=T,x=C;else{for(var j=!1,q=T.child;q;){if(q===h){j=!0,h=T,x=C;break}if(q===x){j=!0,x=T,h=C;break}q=q.sibling}if(!j){for(q=C.child;q;){if(q===h){j=!0,h=C,x=T;break}if(q===x){j=!0,x=C,h=T;break}q=q.sibling}if(!j)throw Error(n(189))}}if(h.alternate!==x)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:l}function m(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=m(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),R=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function Q(a){return a===null||typeof a!="object"?null:(a=H&&a[H]||a["@@iterator"],typeof a=="function"?a:null)}var ie=Symbol.for("react.client.reference");function ue(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ie?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case E:return"Fragment";case M:return"Profiler";case A:return"StrictMode";case z:return"Suspense";case U:return"SuspenseList";case P:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case R:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case L:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return l=a.displayName||null,l!==null?l:ue(a.type)||"Memo";case F:l=a._payload,a=a._init;try{return ue(a(l))}catch{}}return null}var fe=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ce=[],Y=-1;function W(a){return{current:a}}function ae(a){0>Y||(a.current=ce[Y],ce[Y]=null,Y--)}function he(a,l){Y++,ce[Y]=a.current,a.current=l}var ye=W(null),Pe=W(null),pe=W(null),_e=W(null);function We(a,l){switch(he(pe,l),he(Pe,a),he(ye,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?dA(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=dA(l),a=hA(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ae(ye),he(ye,a)}function tt(){ae(ye),ae(Pe),ae(pe)}function pt(a){a.memoizedState!==null&&he(_e,a);var l=ye.current,h=hA(l,a.type);l!==h&&(he(Pe,a),he(ye,h))}function vt(a){Pe.current===a&&(ae(ye),ae(Pe)),_e.current===a&&(ae(_e),Gx._currentValue=K)}var Gt,et;function Ce(a){if(Gt===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);Gt=l&&l[1]||"",et=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Gt+a+et}var J=!1;function Ve(a,l){if(!a||J)return"";J=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(l){var qe=function(){throw Error()};if(Object.defineProperty(qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(qe,[])}catch(ze){var De=ze}Reflect.construct(a,[],qe)}else{try{qe.call()}catch(ze){De=ze}a.call(qe.prototype)}}else{try{throw Error()}catch(ze){De=ze}(qe=a())&&typeof qe.catch=="function"&&qe.catch(function(){})}}catch(ze){if(ze&&De&&typeof ze.stack=="string")return[ze.stack,De.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=x.DetermineComponentFrameRoot(),j=C[0],q=C[1];if(j&&q){var le=j.split(`
`),Ee=q.split(`
`);for(T=x=0;x<le.length&&!le[x].includes("DetermineComponentFrameRoot");)x++;for(;T<Ee.length&&!Ee[T].includes("DetermineComponentFrameRoot");)T++;if(x===le.length||T===Ee.length)for(x=le.length-1,T=Ee.length-1;1<=x&&0<=T&&le[x]!==Ee[T];)T--;for(;1<=x&&0<=T;x--,T--)if(le[x]!==Ee[T]){if(x!==1||T!==1)do if(x--,T--,0>T||le[x]!==Ee[T]){var Fe=`
`+le[x].replace(" at new "," at ");return a.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",a.displayName)),Fe}while(1<=x&&0<=T);break}}}finally{J=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?Ce(h):""}function re(a,l){switch(a.tag){case 26:case 27:case 5:return Ce(a.type);case 16:return Ce("Lazy");case 13:return a.child!==l&&l!==null?Ce("Suspense Fallback"):Ce("Suspense");case 19:return Ce("SuspenseList");case 0:case 15:return Ve(a.type,!1);case 11:return Ve(a.type.render,!1);case 1:return Ve(a.type,!0);case 31:return Ce("Activity");default:return""}}function Qe(a){try{var l="",h=null;do l+=re(a,h),h=a,a=a.return;while(a);return l}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var Xe=Object.prototype.hasOwnProperty,at=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,ct=i.unstable_shouldYield,$=i.unstable_requestPaint,k=i.unstable_now,xe=i.unstable_getCurrentPriorityLevel,Ue=i.unstable_ImmediatePriority,Be=i.unstable_UserBlockingPriority,Re=i.unstable_NormalPriority,ft=i.unstable_LowPriority,nt=i.unstable_IdlePriority,wt=i.log,ee=i.unstable_setDisableYieldValue,Ae=null,je=null;function mt(a){if(typeof wt=="function"&&ee(a),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Ae,a)}catch{}}var ut=Math.clz32?Math.clz32:ne,ot=Math.log,Dt=Math.LN2;function ne(a){return a>>>=0,a===0?32:31-(ot(a)/Dt|0)|0}var st=256,Je=262144,Ze=4194304;function He(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ie(a,l,h){var x=a.pendingLanes;if(x===0)return 0;var T=0,C=a.suspendedLanes,j=a.pingedLanes;a=a.warmLanes;var q=x&134217727;return q!==0?(x=q&~C,x!==0?T=He(x):(j&=q,j!==0?T=He(j):h||(h=q&~a,h!==0&&(T=He(h))))):(q=x&~C,q!==0?T=He(q):j!==0?T=He(j):h||(h=x&~a,h!==0&&(T=He(h)))),T===0?0:l!==0&&l!==T&&(l&C)===0&&(C=T&-T,h=l&-l,C>=h||C===32&&(h&4194048)!==0)?l:T}function xt(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function zt(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yn(){var a=Ze;return Ze<<=1,(Ze&62914560)===0&&(Ze=4194304),a}function gt(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function Et(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function en(a,l,h,x,T,C){var j=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var q=a.entanglements,le=a.expirationTimes,Ee=a.hiddenUpdates;for(h=j&~h;0<h;){var Fe=31-ut(h),qe=1<<Fe;q[Fe]=0,le[Fe]=-1;var De=Ee[Fe];if(De!==null)for(Ee[Fe]=null,Fe=0;Fe<De.length;Fe++){var ze=De[Fe];ze!==null&&(ze.lane&=-536870913)}h&=~qe}x!==0&&dt(a,x,0),C!==0&&T===0&&a.tag!==0&&(a.suspendedLanes|=C&~(j&~l))}function dt(a,l,h){a.pendingLanes|=l,a.suspendedLanes&=~l;var x=31-ut(l);a.entangledLanes|=l,a.entanglements[x]=a.entanglements[x]|1073741824|h&261930}function Xt(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var x=31-ut(h),T=1<<x;T&l|a[x]&l&&(a[x]|=l),h&=~T}}function Ut(a,l){var h=l&-l;return h=(h&42)!==0?1:Lt(h),(h&(a.suspendedLanes|l))!==0?0:h}function Lt(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function li(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Zt(){var a=X.p;return a!==0?a:(a=window.event,a===void 0?32:PA(a.type))}function Nn(a,l){var h=X.p;try{return X.p=a,l()}finally{X.p=h}}var jn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+jn,tn="__reactProps$"+jn,mn="__reactContainer$"+jn,ns="__reactEvents$"+jn,ii="__reactListeners$"+jn,Ms="__reactHandles$"+jn,Ts="__reactResources$"+jn,ci="__reactMarker$"+jn;function yi(a){delete a[Ct],delete a[tn],delete a[ns],delete a[ii],delete a[Ms]}function _n(a){var l=a[Ct];if(l)return l;for(var h=a.parentNode;h;){if(l=h[mn]||h[Ct]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=_A(a);a!==null;){if(h=a[Ct])return h;a=_A(a)}return l}a=h,h=a.parentNode}return null}function G(a){if(a=a[Ct]||a[mn]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function ge(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(n(33))}function Te(a){var l=a[Ts];return l||(l=a[Ts]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ve(a){a[ci]=!0}var me=new Set,it={};function lt(a,l){yt(a,l),yt(a+"Capture",l)}function yt(a,l){for(it[a]=l,a=0;a<l.length;a++)me.add(l[a])}var ht=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pt={},jt={};function At(a){return Xe.call(jt,a)?!0:Xe.call(Pt,a)?!1:ht.test(a)?jt[a]=!0:(Pt[a]=!0,!1)}function on(a,l,h){if(At(l))if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var x=l.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+h)}}function On(a,l,h){if(h===null)a.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+h)}}function Un(a,l,h,x){if(x===null)a.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(l,h,""+x)}}function Mn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Kn(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function kt(a,l,h){var x=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var T=x.get,C=x.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return T.call(this)},set:function(j){h=""+j,C.call(this,j)}}),Object.defineProperty(a,l,{enumerable:x.enumerable}),{getValue:function(){return h},setValue:function(j){h=""+j},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function si(a){if(!a._valueTracker){var l=Kn(a)?"checked":"value";a._valueTracker=kt(a,l,""+a[l])}}function Tn(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),x="";return a&&(x=Kn(a)?a.checked?"true":"false":a.value),a=x,a!==h?(l.setValue(a),!0):!1}function Yi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Yo=/[\n"\\]/g;function ui(a){return a.replace(Yo,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function mo(a,l,h,x,T,C,j,q){a.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.type=j:a.removeAttribute("type"),l!=null?j==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Mn(l)):a.value!==""+Mn(l)&&(a.value=""+Mn(l)):j!=="submit"&&j!=="reset"||a.removeAttribute("value"),l!=null?is(a,j,Mn(l)):h!=null?is(a,j,Mn(h)):x!=null&&a.removeAttribute("value"),T==null&&C!=null&&(a.defaultChecked=!!C),T!=null&&(a.checked=T&&typeof T!="function"&&typeof T!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.name=""+Mn(q):a.removeAttribute("name")}function fi(a,l,h,x,T,C,j,q){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.type=C),l!=null||h!=null){if(!(C!=="submit"&&C!=="reset"||l!=null)){si(a);return}h=h!=null?""+Mn(h):"",l=l!=null?""+Mn(l):h,q||l===a.value||(a.value=l),a.defaultValue=l}x=x??T,x=typeof x!="function"&&typeof x!="symbol"&&!!x,a.checked=q?a.checked:!!x,a.defaultChecked=!!x,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(a.name=j),si(a)}function is(a,l,h){l==="number"&&Yi(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function ss(a,l,h,x){if(a=a.options,l){l={};for(var T=0;T<h.length;T++)l["$"+h[T]]=!0;for(h=0;h<a.length;h++)T=l.hasOwnProperty("$"+a[h].value),a[h].selected!==T&&(a[h].selected=T),T&&x&&(a[h].defaultSelected=!0)}else{for(h=""+Mn(h),l=null,T=0;T<a.length;T++){if(a[T].value===h){a[T].selected=!0,x&&(a[T].defaultSelected=!0);return}l!==null||a[T].disabled||(l=a[T])}l!==null&&(l.selected=!0)}}function as(a,l,h){if(l!=null&&(l=""+Mn(l),l!==a.value&&(a.value=l),h==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=h!=null?""+Mn(h):""}function Ni(a,l,h,x){if(l==null){if(x!=null){if(h!=null)throw Error(n(92));if(fe(x)){if(1<x.length)throw Error(n(93));x=x[0]}h=x}h==null&&(h=""),l=h}h=Mn(l),a.defaultValue=h,x=a.textContent,x===h&&x!==""&&x!==null&&(a.value=x),si(a)}function Fr(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var hr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wf(a,l,h){var x=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?x?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":x?a.setProperty(l,h):typeof h!="number"||h===0||hr.has(l)?l==="float"?a.cssFloat=h:a[l]=(""+h).trim():a[l]=h+"px"}function T0(a,l,h){if(l!=null&&typeof l!="object")throw Error(n(62));if(a=a.style,h!=null){for(var x in h)!h.hasOwnProperty(x)||l!=null&&l.hasOwnProperty(x)||(x.indexOf("--")===0?a.setProperty(x,""):x==="float"?a.cssFloat="":a[x]="");for(var T in l)x=l[T],l.hasOwnProperty(T)&&h[T]!==x&&Wf(a,T,x)}else for(var C in l)l.hasOwnProperty(C)&&Wf(a,C,l[C])}function Yf(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$v=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zf(a){return $v.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function xo(){}var Kf=null;function Xh(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ac=null,Nl=null;function w0(a){var l=G(a);if(l&&(a=l.stateNode)){var h=a[tn]||null;e:switch(a=l.stateNode,l.type){case"input":if(mo(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ui(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var x=h[l];if(x!==a&&x.form===a.form){var T=x[tn]||null;if(!T)throw Error(n(90));mo(x,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(l=0;l<h.length;l++)x=h[l],x.form===a.form&&Tn(x)}break e;case"textarea":as(a,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&ss(a,!!h.multiple,l,!1)}}}var qh=!1;function E0(a,l,h){if(qh)return a(l,h);qh=!0;try{var x=a(l);return x}finally{if(qh=!1,(Ac!==null||Nl!==null)&&(Z(),Ac&&(l=Ac,a=Nl,Nl=Ac=null,w0(l),a)))for(l=0;l<a.length;l++)w0(a[l])}}function Cc(a,l){var h=a.stateNode;if(h===null)return null;var x=h[tn]||null;if(x===null)return null;h=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(a=a.type,x=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!x;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wh=!1;if(go)try{var Qf={};Object.defineProperty(Qf,"passive",{get:function(){Wh=!0}}),window.addEventListener("test",Qf,Qf),window.removeEventListener("test",Qf,Qf)}catch{Wh=!1}var Rl=null,Yh=null,Dl=null;function Zh(){if(Dl)return Dl;var a,l=Yh,h=l.length,x,T="value"in Rl?Rl.value:Rl.textContent,C=T.length;for(a=0;a<h&&l[a]===T[a];a++);var j=h-a;for(x=1;x<=j&&l[h-x]===T[C-x];x++);return Dl=T.slice(a,1<x?1-x:void 0)}function Nc(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Jf(){return!0}function A0(){return!1}function Is(a){function l(h,x,T,C,j){this._reactName=h,this._targetInst=T,this.type=x,this.nativeEvent=C,this.target=j,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(h=a[q],this[q]=h?h(C):C[q]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Jf:A0,this.isPropagationStopped=A0,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Jf)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Jf)},persist:function(){},isPersistent:Jf}),l}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$f=Is(Ll),Vr=g({},Ll,{view:0,detail:0}),Kh=Is(Vr),Qh,ed,wu,td=g({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:id,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==wu&&(wu&&a.type==="mousemove"?(Qh=a.screenX-wu.screenX,ed=a.screenY-wu.screenY):ed=Qh=0,wu=a),Qh)},movementY:function(a){return"movementY"in a?a.movementY:ed}}),ey=Is(td),ws=g({},td,{dataTransfer:0}),ty=Is(ws),ny=g({},Vr,{relatedTarget:0}),Jh=Is(ny),iy=g({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),sy=Is(iy),nd=g({},Ll,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),C0=Is(nd),ay=g({},Ll,{data:0}),N0=Is(ay),ry={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oy(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=D0[a])?!!l[a]:!1}function id(){return oy}var L0=g({},Vr,{key:function(a){if(a.key){var l=ry[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Nc(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?R0[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:id,charCode:function(a){return a.type==="keypress"?Nc(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Nc(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),O0=Is(L0),ly=g({},td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$h=Is(ly),cy=g({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:id}),Zo=Is(cy),U0=g({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),s2=Is(U0),uy=g({},td,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ol=Is(uy),Ko=g({},Ll,{newState:0,oldState:0}),z0=Is(Ko),P0=[9,13,27,32],Rc=go&&"CompositionEvent"in window,Ul=null;go&&"documentMode"in document&&(Ul=document.documentMode);var Dc=go&&"TextEvent"in window&&!Ul,Es=go&&(!Rc||Ul&&8<Ul&&11>=Ul),sd=" ",B0=!1;function ep(a,l){switch(a){case"keyup":return P0.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var zl=!1;function tp(a,l){switch(a){case"compositionend":return Eu(l);case"keypress":return l.which!==32?null:(B0=!0,sd);case"textInput":return a=l.data,a===sd&&B0?null:a;default:return null}}function fy(a,l){if(zl)return a==="compositionend"||!Rc&&ep(a,l)?(a=Zh(),Dl=Yh=Rl=null,zl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Es&&l.locale!=="ko"?null:l.data;default:return null}}var Ba={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function I0(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!Ba[a.type]:l==="textarea"}function np(a,l,h,x){Ac?Nl?Nl.push(x):Nl=[x]:Ac=x,l=n_(l,"onChange"),0<l.length&&(h=new $f("onChange","change",null,h,x),a.push({event:h,listeners:l}))}var Au=null,Cu=null;function j0(a){rA(a,0)}function Nu(a){var l=ge(a);if(Tn(l))return a}function F0(a,l){if(a==="change")return l}var ad=!1;if(go){var Lc;if(go){var _i="oninput"in document;if(!_i){var dy=document.createElement("div");dy.setAttribute("oninput","return;"),_i=typeof dy.oninput=="function"}Lc=_i}else Lc=!1;ad=Lc&&(!document.documentMode||9<document.documentMode)}function hy(){Au&&(Au.detachEvent("onpropertychange",V0),Cu=Au=null)}function V0(a){if(a.propertyName==="value"&&Nu(Cu)){var l=[];np(l,Cu,a,Xh(a)),E0(j0,l)}}function rd(a,l,h){a==="focusin"?(hy(),Au=l,Cu=h,Au.attachEvent("onpropertychange",V0)):a==="focusout"&&hy()}function Pl(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Nu(Cu)}function py(a,l){if(a==="click")return Nu(l)}function my(a,l){if(a==="input"||a==="change")return Nu(l)}function Oc(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var bi=typeof Object.is=="function"?Object.is:Oc;function Ru(a,l){if(bi(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),x=Object.keys(l);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var T=h[x];if(!Xe.call(l,T)||!bi(a[T],l[T]))return!1}return!0}function k0(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function H0(a,l){var h=k0(a);a=0;for(var x;h;){if(h.nodeType===3){if(x=a+h.textContent.length,a<=l&&x>=l)return{node:h,offset:l-a};a=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=k0(h)}}function ip(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?ip(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function sp(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Yi(a.document);l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=Yi(a.document)}return l}function Du(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var xy=go&&"documentMode"in document&&11>=document.documentMode,Lu=null,ap=null,Ou=null,Ia=!1;function rp(a,l,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ia||Lu==null||Lu!==Yi(x)||(x=Lu,"selectionStart"in x&&Du(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ou&&Ru(Ou,x)||(Ou=x,x=n_(ap,"onSelect"),0<x.length&&(l=new $f("onSelect","select",null,l,h),a.push({event:l,listeners:x}),l.target=Lu)))}function Bl(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var Uu={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionrun:Bl("Transition","TransitionRun"),transitionstart:Bl("Transition","TransitionStart"),transitioncancel:Bl("Transition","TransitionCancel"),transitionend:Bl("Transition","TransitionEnd")},od={},Js={};go&&(Js=document.createElement("div").style,"AnimationEvent"in window||(delete Uu.animationend.animation,delete Uu.animationiteration.animation,delete Uu.animationstart.animation),"TransitionEvent"in window||delete Uu.transitionend.transition);function Il(a){if(od[a])return od[a];if(!Uu[a])return a;var l=Uu[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in Js)return od[a]=l[h];return a}var fa=Il("animationend"),G0=Il("animationiteration"),vo=Il("animationstart"),zu=Il("transitionrun"),jl=Il("transitionstart"),X0=Il("transitioncancel"),op=Il("transitionend"),Qo=new Map,lp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lp.push("scrollEnd");function js(a,l){Qo.set(a,l),lt(l,[a])}var Fl=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},hs=[],Uc=0,cp=0;function Vl(){for(var a=Uc,l=cp=Uc=0;l<a;){var h=hs[l];hs[l++]=null;var x=hs[l];hs[l++]=null;var T=hs[l];hs[l++]=null;var C=hs[l];if(hs[l++]=null,x!==null&&T!==null){var j=x.pending;j===null?T.next=T:(T.next=j.next,j.next=T),x.pending=T}C!==0&&up(h,T,C)}}function ld(a,l,h,x){hs[Uc++]=a,hs[Uc++]=l,hs[Uc++]=h,hs[Uc++]=x,cp|=x,a.lanes|=x,a=a.alternate,a!==null&&(a.lanes|=x)}function Pu(a,l,h,x){return ld(a,l,h,x),Bu(a)}function kl(a,l){return ld(a,null,null,l),Bu(a)}function up(a,l,h){a.lanes|=h;var x=a.alternate;x!==null&&(x.lanes|=h);for(var T=!1,C=a.return;C!==null;)C.childLanes|=h,x=C.alternate,x!==null&&(x.childLanes|=h),C.tag===22&&(a=C.stateNode,a===null||a._visibility&1||(T=!0)),a=C,C=C.return;return a.tag===3?(C=a.stateNode,T&&l!==null&&(T=31-ut(h),a=C.hiddenUpdates,x=a[T],x===null?a[T]=[l]:x.push(l),l.lane=h|536870912),C):null}function Bu(a){if(50<Qc)throw Qc=0,Jc=null,Error(n(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Hl={};function gy(a,l,h,x){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $s(a,l,h,x){return new gy(a,l,h,x)}function ea(a){return a=a.prototype,!(!a||!a.isReactComponent)}function yo(a,l){var h=a.alternate;return h===null?(h=$s(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function Fs(a,l){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,l=h.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function cd(a,l,h,x,T,C){var j=0;if(x=a,typeof a=="function")ea(a)&&(j=1);else if(typeof a=="string")j=U8(a,h,ye.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case P:return a=$s(31,h,l,T),a.elementType=P,a.lanes=C,a;case E:return Jo(h.children,T,C,l);case A:j=8,T|=24;break;case M:return a=$s(12,h,l,T|2),a.elementType=M,a.lanes=C,a;case z:return a=$s(13,h,l,T),a.elementType=z,a.lanes=C,a;case U:return a=$s(19,h,l,T),a.elementType=U,a.lanes=C,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:j=10;break e;case D:j=9;break e;case L:j=11;break e;case I:j=14;break e;case F:j=16,x=null;break e}j=29,h=Error(n(130,a===null?"null":typeof a,"")),x=null}return l=$s(j,h,l,T),l.elementType=a,l.type=x,l.lanes=C,l}function Jo(a,l,h,x){return a=$s(7,a,x,l),a.lanes=h,a}function fp(a,l,h){return a=$s(6,a,null,l),a.lanes=h,a}function vy(a){var l=$s(18,null,null,0);return l.stateNode=a,l}function kr(a,l,h){return l=$s(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var q0=new WeakMap;function da(a,l){if(typeof a=="object"&&a!==null){var h=q0.get(a);return h!==void 0?h:(l={value:a,source:l,stack:Qe(l)},q0.set(a,l),l)}return{value:a,source:l,stack:Qe(l)}}var Hr=[],zc=0,ud=null,Iu=0,ja=[],ha=0,_o=null,bo=1,So="";function $o(a,l){Hr[zc++]=Iu,Hr[zc++]=ud,ud=a,Iu=l}function W0(a,l,h){ja[ha++]=bo,ja[ha++]=So,ja[ha++]=_o,_o=a;var x=bo;a=So;var T=32-ut(x)-1;x&=~(1<<T),h+=1;var C=32-ut(l)+T;if(30<C){var j=T-T%5;C=(x&(1<<j)-1).toString(32),x>>=j,T-=j,bo=1<<32-ut(l)+T|h<<T|x,So=C+a}else bo=1<<C|h<<T|x,So=a}function dp(a){a.return!==null&&($o(a,1),W0(a,1,0))}function Gl(a){for(;a===ud;)ud=Hr[--zc],Hr[zc]=null,Iu=Hr[--zc],Hr[zc]=null;for(;a===_o;)_o=ja[--ha],ja[ha]=null,So=ja[--ha],ja[ha]=null,bo=ja[--ha],ja[ha]=null}function fd(a,l){ja[ha++]=bo,ja[ha++]=So,ja[ha++]=_o,bo=l.id,So=l.overflow,_o=a}var ps=null,pi=null,Rn=!1,el=null,ms=!1,hp=Error(n(519));function wn(a){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dd(da(l,a)),hp}function pp(a){var l=a.stateNode,h=a.type,x=a.memoizedProps;switch(l[Ct]=a,l[tn]=x,h){case"dialog":Dn("cancel",l),Dn("close",l);break;case"iframe":case"object":case"embed":Dn("load",l);break;case"video":case"audio":for(h=0;h<jx.length;h++)Dn(jx[h],l);break;case"source":Dn("error",l);break;case"img":case"image":case"link":Dn("error",l),Dn("load",l);break;case"details":Dn("toggle",l);break;case"input":Dn("invalid",l),fi(l,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":Dn("invalid",l);break;case"textarea":Dn("invalid",l),Ni(l,x.value,x.defaultValue,x.children)}h=x.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||x.suppressHydrationWarning===!0||uA(l.textContent,h)?(x.popover!=null&&(Dn("beforetoggle",l),Dn("toggle",l)),x.onScroll!=null&&Dn("scroll",l),x.onScrollEnd!=null&&Dn("scrollend",l),x.onClick!=null&&(l.onclick=xo),l=!0):l=!1,l||wn(a,!0)}function yy(a){for(ps=a.return;ps;)switch(ps.tag){case 5:case 31:case 13:ms=!1;return;case 27:case 3:ms=!0;return;default:ps=ps.return}}function Pc(a){if(a!==ps)return!1;if(!Rn)return yy(a),Rn=!0,!1;var l=a.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||T2(a.type,a.memoizedProps)),h=!h),h&&pi&&wn(a),yy(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));pi=yA(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));pi=yA(a)}else l===27?(l=pi,sf(a.type)?(a=N2,N2=null,pi=a):pi=l):pi=ps?Oo(a.stateNode.nextSibling):null;return!0}function Bc(){pi=ps=null,Rn=!1}function Y0(){var a=el;return a!==null&&(qs===null?qs=a:qs.push.apply(qs,a),el=null),a}function dd(a){el===null?el=[a]:el.push(a)}var Z0=W(null),tl=null,Vs=null;function nl(a,l,h){he(Z0,l._currentValue),l._currentValue=h}function pr(a){a._currentValue=Z0.current,ae(Z0)}function il(a,l,h){for(;a!==null;){var x=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),a===h)break;a=a.return}}function mp(a,l,h,x){var T=a.child;for(T!==null&&(T.return=a);T!==null;){var C=T.dependencies;if(C!==null){var j=T.child;C=C.firstContext;e:for(;C!==null;){var q=C;C=T;for(var le=0;le<l.length;le++)if(q.context===l[le]){C.lanes|=h,q=C.alternate,q!==null&&(q.lanes|=h),il(C.return,h,a),x||(j=null);break e}C=q.next}}else if(T.tag===18){if(j=T.return,j===null)throw Error(n(341));j.lanes|=h,C=j.alternate,C!==null&&(C.lanes|=h),il(j,h,a),j=null}else j=T.child;if(j!==null)j.return=T;else for(j=T;j!==null;){if(j===a){j=null;break}if(T=j.sibling,T!==null){T.return=j.return,j=T;break}j=j.return}T=j}}function Xl(a,l,h,x){a=null;for(var T=l,C=!1;T!==null;){if(!C){if((T.flags&524288)!==0)C=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var j=T.alternate;if(j===null)throw Error(n(387));if(j=j.memoizedProps,j!==null){var q=T.type;bi(T.pendingProps.value,j.value)||(a!==null?a.push(q):a=[q])}}else if(T===_e.current){if(j=T.alternate,j===null)throw Error(n(387));j.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(a!==null?a.push(Gx):a=[Gx])}T=T.return}a!==null&&mp(l,a,h,x),l.flags|=262144}function ju(a){for(a=a.firstContext;a!==null;){if(!bi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ic(a){tl=a,Vs=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function xs(a){return K0(tl,a)}function hd(a,l){return tl===null&&Ic(a),K0(a,l)}function K0(a,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Vs===null){if(a===null)throw Error(n(308));Vs=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Vs=Vs.next=l;return h}var _y=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(h,x){a.push(x)}};this.abort=function(){l.aborted=!0,a.forEach(function(h){return h()})}},by=i.unstable_scheduleCallback,Q0=i.unstable_NormalPriority,Ft={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function J0(){return{controller:new _y,data:new Map,refCount:0}}function As(a){a.refCount--,a.refCount===0&&by(Q0,function(){a.controller.abort()})}var jc=null,$0=0,sl=0,Gr=null;function Fu(a,l){if(jc===null){var h=jc=[];$0=0,sl=m2(),Gr={status:"pending",value:void 0,then:function(x){h.push(x)}}}return $0++,l.then(ex,ex),l}function ex(){if(--$0===0&&jc!==null){Gr!==null&&(Gr.status="fulfilled");var a=jc;jc=null,sl=0,Gr=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function tx(a,l){var h=[],x={status:"pending",value:null,reason:null,then:function(T){h.push(T)}};return a.then(function(){x.status="fulfilled",x.value=l;for(var T=0;T<h.length;T++)(0,h[T])(l)},function(T){for(x.status="rejected",x.reason=T,T=0;T<h.length;T++)(0,h[T])(void 0)}),x}var Sy=V.S;V.S=function(a,l){ef=k(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&Fu(a,l),Sy!==null&&Sy(a,l)};var ql=W(null);function Mo(){var a=ql.current;return a!==null?a:Jn.pooledCache}function Vu(a,l){l===null?he(ql,ql.current):he(ql,l.pool)}function xp(){var a=Mo();return a===null?null:{parent:Ft._currentValue,pool:a}}var Wl=Error(n(460)),pd=Error(n(474)),Xr=Error(n(542)),md={then:function(){}};function My(a){return a=a.status,a==="fulfilled"||a==="rejected"}function nx(a,l,h){switch(h=a[h],h===void 0?a.push(l):h!==l&&(l.then(xo,xo),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,ix(a),a;default:if(typeof l.status=="string")l.then(xo,xo);else{if(a=Jn,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=l,a.status="pending",a.then(function(x){if(l.status==="pending"){var T=l;T.status="fulfilled",T.value=x}},function(x){if(l.status==="pending"){var T=l;T.status="rejected",T.reason=x}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,ix(a),a}throw qt=l,Wl}}function Fc(a){try{var l=a._init;return l(a._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(qt=h,Wl):h}}var qt=null;function gp(){if(qt===null)throw Error(n(459));var a=qt;return qt=null,a}function ix(a){if(a===Wl||a===Xr)throw Error(n(483))}var Yl=null,Zl=0;function vp(a){var l=Zl;return Zl+=1,Yl===null&&(Yl=[]),nx(Yl,a,l)}function xd(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function gd(a,l){throw l.$$typeof===y?Error(n(525)):(a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function ku(a){function l(Se,de){if(a){var we=Se.deletions;we===null?(Se.deletions=[de],Se.flags|=16):we.push(de)}}function h(Se,de){if(!a)return null;for(;de!==null;)l(Se,de),de=de.sibling;return null}function x(Se){for(var de=new Map;Se!==null;)Se.key!==null?de.set(Se.key,Se):de.set(Se.index,Se),Se=Se.sibling;return de}function T(Se,de){return Se=yo(Se,de),Se.index=0,Se.sibling=null,Se}function C(Se,de,we){return Se.index=we,a?(we=Se.alternate,we!==null?(we=we.index,we<de?(Se.flags|=67108866,de):we):(Se.flags|=67108866,de)):(Se.flags|=1048576,de)}function j(Se){return a&&Se.alternate===null&&(Se.flags|=67108866),Se}function q(Se,de,we,Ge){return de===null||de.tag!==6?(de=fp(we,Se.mode,Ge),de.return=Se,de):(de=T(de,we),de.return=Se,de)}function le(Se,de,we,Ge){var Ht=we.type;return Ht===E?Fe(Se,de,we.props.children,Ge,we.key):de!==null&&(de.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===F&&Fc(Ht)===de.type)?(de=T(de,we.props),xd(de,we),de.return=Se,de):(de=cd(we.type,we.key,we.props,null,Se.mode,Ge),xd(de,we),de.return=Se,de)}function Ee(Se,de,we,Ge){return de===null||de.tag!==4||de.stateNode.containerInfo!==we.containerInfo||de.stateNode.implementation!==we.implementation?(de=kr(we,Se.mode,Ge),de.return=Se,de):(de=T(de,we.children||[]),de.return=Se,de)}function Fe(Se,de,we,Ge,Ht){return de===null||de.tag!==7?(de=Jo(we,Se.mode,Ge,Ht),de.return=Se,de):(de=T(de,we),de.return=Se,de)}function qe(Se,de,we){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=fp(""+de,Se.mode,we),de.return=Se,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case b:return we=cd(de.type,de.key,de.props,null,Se.mode,we),xd(we,de),we.return=Se,we;case S:return de=kr(de,Se.mode,we),de.return=Se,de;case F:return de=Fc(de),qe(Se,de,we)}if(fe(de)||Q(de))return de=Jo(de,Se.mode,we,null),de.return=Se,de;if(typeof de.then=="function")return qe(Se,vp(de),we);if(de.$$typeof===R)return qe(Se,hd(Se,de),we);gd(Se,de)}return null}function De(Se,de,we,Ge){var Ht=de!==null?de.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return Ht!==null?null:q(Se,de,""+we,Ge);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case b:return we.key===Ht?le(Se,de,we,Ge):null;case S:return we.key===Ht?Ee(Se,de,we,Ge):null;case F:return we=Fc(we),De(Se,de,we,Ge)}if(fe(we)||Q(we))return Ht!==null?null:Fe(Se,de,we,Ge,null);if(typeof we.then=="function")return De(Se,de,vp(we),Ge);if(we.$$typeof===R)return De(Se,de,hd(Se,we),Ge);gd(Se,we)}return null}function ze(Se,de,we,Ge,Ht){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Se=Se.get(we)||null,q(de,Se,""+Ge,Ht);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case b:return Se=Se.get(Ge.key===null?we:Ge.key)||null,le(de,Se,Ge,Ht);case S:return Se=Se.get(Ge.key===null?we:Ge.key)||null,Ee(de,Se,Ge,Ht);case F:return Ge=Fc(Ge),ze(Se,de,we,Ge,Ht)}if(fe(Ge)||Q(Ge))return Se=Se.get(we)||null,Fe(de,Se,Ge,Ht,null);if(typeof Ge.then=="function")return ze(Se,de,we,vp(Ge),Ht);if(Ge.$$typeof===R)return ze(Se,de,we,hd(de,Ge),Ht);gd(de,Ge)}return null}function Nt(Se,de,we,Ge){for(var Ht=null,ei=null,Bt=de,gn=de=0,Bn=null;Bt!==null&&gn<we.length;gn++){Bt.index>gn?(Bn=Bt,Bt=null):Bn=Bt.sibling;var ti=De(Se,Bt,we[gn],Ge);if(ti===null){Bt===null&&(Bt=Bn);break}a&&Bt&&ti.alternate===null&&l(Se,Bt),de=C(ti,de,gn),ei===null?Ht=ti:ei.sibling=ti,ei=ti,Bt=Bn}if(gn===we.length)return h(Se,Bt),Rn&&$o(Se,gn),Ht;if(Bt===null){for(;gn<we.length;gn++)Bt=qe(Se,we[gn],Ge),Bt!==null&&(de=C(Bt,de,gn),ei===null?Ht=Bt:ei.sibling=Bt,ei=Bt);return Rn&&$o(Se,gn),Ht}for(Bt=x(Bt);gn<we.length;gn++)Bn=ze(Bt,Se,gn,we[gn],Ge),Bn!==null&&(a&&Bn.alternate!==null&&Bt.delete(Bn.key===null?gn:Bn.key),de=C(Bn,de,gn),ei===null?Ht=Bn:ei.sibling=Bn,ei=Bn);return a&&Bt.forEach(function(cf){return l(Se,cf)}),Rn&&$o(Se,gn),Ht}function Wt(Se,de,we,Ge){if(we==null)throw Error(n(151));for(var Ht=null,ei=null,Bt=de,gn=de=0,Bn=null,ti=we.next();Bt!==null&&!ti.done;gn++,ti=we.next()){Bt.index>gn?(Bn=Bt,Bt=null):Bn=Bt.sibling;var cf=De(Se,Bt,ti.value,Ge);if(cf===null){Bt===null&&(Bt=Bn);break}a&&Bt&&cf.alternate===null&&l(Se,Bt),de=C(cf,de,gn),ei===null?Ht=cf:ei.sibling=cf,ei=cf,Bt=Bn}if(ti.done)return h(Se,Bt),Rn&&$o(Se,gn),Ht;if(Bt===null){for(;!ti.done;gn++,ti=we.next())ti=qe(Se,ti.value,Ge),ti!==null&&(de=C(ti,de,gn),ei===null?Ht=ti:ei.sibling=ti,ei=ti);return Rn&&$o(Se,gn),Ht}for(Bt=x(Bt);!ti.done;gn++,ti=we.next())ti=ze(Bt,Se,gn,ti.value,Ge),ti!==null&&(a&&ti.alternate!==null&&Bt.delete(ti.key===null?gn:ti.key),de=C(ti,de,gn),ei===null?Ht=ti:ei.sibling=ti,ei=ti);return a&&Bt.forEach(function(X8){return l(Se,X8)}),Rn&&$o(Se,gn),Ht}function gi(Se,de,we,Ge){if(typeof we=="object"&&we!==null&&we.type===E&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case b:e:{for(var Ht=we.key;de!==null;){if(de.key===Ht){if(Ht=we.type,Ht===E){if(de.tag===7){h(Se,de.sibling),Ge=T(de,we.props.children),Ge.return=Se,Se=Ge;break e}}else if(de.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===F&&Fc(Ht)===de.type){h(Se,de.sibling),Ge=T(de,we.props),xd(Ge,we),Ge.return=Se,Se=Ge;break e}h(Se,de);break}else l(Se,de);de=de.sibling}we.type===E?(Ge=Jo(we.props.children,Se.mode,Ge,we.key),Ge.return=Se,Se=Ge):(Ge=cd(we.type,we.key,we.props,null,Se.mode,Ge),xd(Ge,we),Ge.return=Se,Se=Ge)}return j(Se);case S:e:{for(Ht=we.key;de!==null;){if(de.key===Ht)if(de.tag===4&&de.stateNode.containerInfo===we.containerInfo&&de.stateNode.implementation===we.implementation){h(Se,de.sibling),Ge=T(de,we.children||[]),Ge.return=Se,Se=Ge;break e}else{h(Se,de);break}else l(Se,de);de=de.sibling}Ge=kr(we,Se.mode,Ge),Ge.return=Se,Se=Ge}return j(Se);case F:return we=Fc(we),gi(Se,de,we,Ge)}if(fe(we))return Nt(Se,de,we,Ge);if(Q(we)){if(Ht=Q(we),typeof Ht!="function")throw Error(n(150));return we=Ht.call(we),Wt(Se,de,we,Ge)}if(typeof we.then=="function")return gi(Se,de,vp(we),Ge);if(we.$$typeof===R)return gi(Se,de,hd(Se,we),Ge);gd(Se,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,de!==null&&de.tag===6?(h(Se,de.sibling),Ge=T(de,we),Ge.return=Se,Se=Ge):(h(Se,de),Ge=fp(we,Se.mode,Ge),Ge.return=Se,Se=Ge),j(Se)):h(Se,de)}return function(Se,de,we,Ge){try{Zl=0;var Ht=gi(Se,de,we,Ge);return Yl=null,Ht}catch(Bt){if(Bt===Wl||Bt===Xr)throw Bt;var ei=$s(29,Bt,null,Se.mode);return ei.lanes=Ge,ei.return=Se,ei}finally{}}}var Vc=ku(!0),Ty=ku(!1),Kl=!1;function sx(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ax(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function To(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function al(a,l,h){var x=a.updateQueue;if(x===null)return null;if(x=x.shared,(zn&2)!==0){var T=x.pending;return T===null?l.next=l:(l.next=T.next,T.next=l),x.pending=l,l=Bu(a),up(a,null,h),l}return ld(a,x,l,h),Bu(a)}function Ql(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var x=l.lanes;x&=a.pendingLanes,h|=x,l.lanes=h,Xt(a,h)}}function yp(a,l){var h=a.updateQueue,x=a.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var T=null,C=null;if(h=h.firstBaseUpdate,h!==null){do{var j={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};C===null?T=C=j:C=C.next=j,h=h.next}while(h!==null);C===null?T=C=l:C=C.next=l}else T=C=l;h={baseState:x.baseState,firstBaseUpdate:T,lastBaseUpdate:C,shared:x.shared,callbacks:x.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}var rx=!1;function vd(){if(rx){var a=Gr;if(a!==null)throw a}}function kc(a,l,h,x){rx=!1;var T=a.updateQueue;Kl=!1;var C=T.firstBaseUpdate,j=T.lastBaseUpdate,q=T.shared.pending;if(q!==null){T.shared.pending=null;var le=q,Ee=le.next;le.next=null,j===null?C=Ee:j.next=Ee,j=le;var Fe=a.alternate;Fe!==null&&(Fe=Fe.updateQueue,q=Fe.lastBaseUpdate,q!==j&&(q===null?Fe.firstBaseUpdate=Ee:q.next=Ee,Fe.lastBaseUpdate=le))}if(C!==null){var qe=T.baseState;j=0,Fe=Ee=le=null,q=C;do{var De=q.lane&-536870913,ze=De!==q.lane;if(ze?(En&De)===De:(x&De)===De){De!==0&&De===sl&&(rx=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Nt=a,Wt=q;De=l;var gi=h;switch(Wt.tag){case 1:if(Nt=Wt.payload,typeof Nt=="function"){qe=Nt.call(gi,qe,De);break e}qe=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Wt.payload,De=typeof Nt=="function"?Nt.call(gi,qe,De):Nt,De==null)break e;qe=g({},qe,De);break e;case 2:Kl=!0}}De=q.callback,De!==null&&(a.flags|=64,ze&&(a.flags|=8192),ze=T.callbacks,ze===null?T.callbacks=[De]:ze.push(De))}else ze={lane:De,tag:q.tag,payload:q.payload,callback:q.callback,next:null},Fe===null?(Ee=Fe=ze,le=qe):Fe=Fe.next=ze,j|=De;if(q=q.next,q===null){if(q=T.shared.pending,q===null)break;ze=q,q=ze.next,ze.next=null,T.lastBaseUpdate=ze,T.shared.pending=null}}while(!0);Fe===null&&(le=qe),T.baseState=le,T.firstBaseUpdate=Ee,T.lastBaseUpdate=Fe,C===null&&(T.shared.lanes=0),Ka|=j,a.lanes=j,a.memoizedState=qe}}function wo(a,l){if(typeof a!="function")throw Error(n(191,a));a.call(l)}function Cs(a,l){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)wo(h[a],l)}var Fa=W(null),ta=W(0);function ox(a,l){a=ki,he(ta,a),he(Fa,l),ki=a|l.baseLanes}function lx(){he(ta,ki),he(Fa,Fa.current)}function ks(){ki=ta.current,ae(Fa),ae(ta)}var rs=W(null),mr=null;function Jl(a){var l=a.alternate;he(Ri,Ri.current&1),he(rs,a),mr===null&&(l===null||Fa.current!==null||l.memoizedState!==null)&&(mr=a)}function cx(a){he(Ri,Ri.current),he(rs,a),mr===null&&(mr=a)}function wy(a){a.tag===22?(he(Ri,Ri.current),he(rs,a),mr===null&&(mr=a)):rl()}function rl(){he(Ri,Ri.current),he(rs,rs.current)}function Va(a){ae(rs),mr===a&&(mr=null),ae(Ri)}var Ri=W(0);function _p(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||A2(h)||C2(h)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var pa=0,Kt=null,ai=null,Zi=null,bp=!1,Eo=!1,Hc=!1,Sp=0,yd=0,Ao=null,a2=0;function Di(){throw Error(n(321))}function ux(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!bi(a[h],l[h]))return!1;return!0}function fx(a,l,h,x,T,C){return pa=C,Kt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,V.H=a===null||a.memoizedState===null?Xy:Xu,Hc=!1,C=h(x,T),Hc=!1,Eo&&(C=Ay(l,h,x,T)),Ey(a),C}function Ey(a){V.H=Td;var l=ai!==null&&ai.next!==null;if(pa=0,Zi=ai=Kt=null,bp=!1,yd=0,Ao=null,l)throw Error(n(300));a===null||Si||(a=a.dependencies,a!==null&&ju(a)&&(Si=!0))}function Ay(a,l,h,x){Kt=a;var T=0;do{if(Eo&&(Ao=null),yd=0,Eo=!1,25<=T)throw Error(n(301));if(T+=1,Zi=ai=null,a.updateQueue!=null){var C=a.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}V.H=wd,C=l(h,x)}while(Eo);return C}function r2(){var a=V.H,l=a.useState()[0];return l=typeof l.then=="function"?bd(l):l,a=a.useState()[0],(ai!==null?ai.memoizedState:null)!==a&&(Kt.flags|=1024),l}function dx(){var a=Sp!==0;return Sp=0,a}function hx(a,l,h){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~h}function px(a){if(bp){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}bp=!1}pa=0,Zi=ai=Kt=null,Eo=!1,yd=Sp=0,Ao=null}function na(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zi===null?Kt.memoizedState=Zi=a:Zi=Zi.next=a,Zi}function Ii(){if(ai===null){var a=Kt.alternate;a=a!==null?a.memoizedState:null}else a=ai.next;var l=Zi===null?Kt.memoizedState:Zi.next;if(l!==null)Zi=l,ai=a;else{if(a===null)throw Kt.alternate===null?Error(n(467)):Error(n(310));ai=a,a={memoizedState:ai.memoizedState,baseState:ai.baseState,baseQueue:ai.baseQueue,queue:ai.queue,next:null},Zi===null?Kt.memoizedState=Zi=a:Zi=Zi.next=a}return Zi}function _d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bd(a){var l=yd;return yd+=1,Ao===null&&(Ao=[]),a=nx(Ao,a,l),l=Kt,(Zi===null?l.memoizedState:Zi.next)===null&&(l=l.alternate,V.H=l===null||l.memoizedState===null?Xy:Xu),a}function Mp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return bd(a);if(a.$$typeof===R)return xs(a)}throw Error(n(438,String(a)))}function mx(a){var l=null,h=Kt.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var x=Kt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(l={data:x.data.map(function(T){return T.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=_d(),Kt.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(a),x=0;x<a;x++)h[x]=B;return l.index++,h}function ol(a,l){return typeof l=="function"?l(a):l}function Tp(a){var l=Ii();return xx(l,ai,a)}function xx(a,l,h){var x=a.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=h;var T=a.baseQueue,C=x.pending;if(C!==null){if(T!==null){var j=T.next;T.next=C.next,C.next=j}l.baseQueue=T=C,x.pending=null}if(C=a.baseState,T===null)a.memoizedState=C;else{l=T.next;var q=j=null,le=null,Ee=l,Fe=!1;do{var qe=Ee.lane&-536870913;if(qe!==Ee.lane?(En&qe)===qe:(pa&qe)===qe){var De=Ee.revertLane;if(De===0)le!==null&&(le=le.next={lane:0,revertLane:0,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),qe===sl&&(Fe=!0);else if((pa&De)===De){Ee=Ee.next,De===sl&&(Fe=!0);continue}else qe={lane:0,revertLane:Ee.revertLane,gesture:null,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},le===null?(q=le=qe,j=C):le=le.next=qe,Kt.lanes|=De,Ka|=De;qe=Ee.action,Hc&&h(C,qe),C=Ee.hasEagerState?Ee.eagerState:h(C,qe)}else De={lane:qe,revertLane:Ee.revertLane,gesture:Ee.gesture,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},le===null?(q=le=De,j=C):le=le.next=De,Kt.lanes|=qe,Ka|=qe;Ee=Ee.next}while(Ee!==null&&Ee!==l);if(le===null?j=C:le.next=q,!bi(C,a.memoizedState)&&(Si=!0,Fe&&(h=Gr,h!==null)))throw h;a.memoizedState=C,a.baseState=j,a.baseQueue=le,x.lastRenderedState=C}return T===null&&(x.lanes=0),[a.memoizedState,x.dispatch]}function wp(a){var l=Ii(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var x=h.dispatch,T=h.pending,C=l.memoizedState;if(T!==null){h.pending=null;var j=T=T.next;do C=a(C,j.action),j=j.next;while(j!==T);bi(C,l.memoizedState)||(Si=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),h.lastRenderedState=C}return[C,x]}function gx(a,l,h){var x=Kt,T=Ii(),C=Rn;if(C){if(h===void 0)throw Error(n(407));h=h()}else h=l();var j=!bi((ai||T).memoizedState,h);if(j&&(T.memoizedState=h,Si=!0),T=T.queue,Sx(yx.bind(null,x,T,a),[a]),T.getSnapshot!==l||j||Zi!==null&&Zi.memoizedState.tag&1){if(x.flags|=2048,Hu(9,{destroy:void 0},vx.bind(null,x,T,h,l),null),Jn===null)throw Error(n(349));C||(pa&127)!==0||Cy(x,l,h)}return h}function Cy(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=Kt.updateQueue,l===null?(l=_d(),Kt.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function vx(a,l,h,x){l.value=h,l.getSnapshot=x,_x(l)&&Ep(a)}function yx(a,l,h){return h(function(){_x(l)&&Ep(a)})}function _x(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!bi(a,h)}catch{return!0}}function Ep(a){var l=kl(a,2);l!==null&&f(l,a,2)}function Sd(a){var l=na();if(typeof a=="function"){var h=a;if(a=h(),Hc){mt(!0);try{h()}finally{mt(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:a},l}function Ny(a,l,h,x){return a.baseState=h,xx(a,ai,typeof x=="function"?x:ol)}function o2(a,l,h,x,T){if(ll(a))throw Error(n(485));if(a=l.action,a!==null){var C={payload:T,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){C.listeners.push(j)}};V.T!==null?h(!0):C.isTransition=!1,x(C),h=l.pending,h===null?(C.next=l.pending=C,Ry(l,C)):(C.next=h.next,l.pending=h.next=C)}}function Ry(a,l){var h=l.action,x=l.payload,T=a.state;if(l.isTransition){var C=V.T,j={};V.T=j;try{var q=h(T,x),le=V.S;le!==null&&le(j,q),Dy(a,l,q)}catch(Ee){Ap(a,l,Ee)}finally{C!==null&&j.types!==null&&(C.types=j.types),V.T=C}}else try{C=h(T,x),Dy(a,l,C)}catch(Ee){Ap(a,l,Ee)}}function Dy(a,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(x){bx(a,l,x)},function(x){return Ap(a,l,x)}):bx(a,l,h)}function bx(a,l,h){l.status="fulfilled",l.value=h,Ly(l),a.state=h,l=a.pending,l!==null&&(h=l.next,h===l?a.pending=null:(h=h.next,l.next=h,Ry(a,h)))}function Ap(a,l,h){var x=a.pending;if(a.pending=null,x!==null){x=x.next;do l.status="rejected",l.reason=h,Ly(l),l=l.next;while(l!==x)}a.action=null}function Ly(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Oy(a,l){return l}function Uy(a,l){if(Rn){var h=Jn.formState;if(h!==null){e:{var x=Kt;if(Rn){if(pi){t:{for(var T=pi,C=ms;T.nodeType!==8;){if(!C){T=null;break t}if(T=Oo(T.nextSibling),T===null){T=null;break t}}C=T.data,T=C==="F!"||C==="F"?T:null}if(T){pi=Oo(T.nextSibling),x=T.data==="F!";break e}}wn(x)}x=!1}x&&(l=h[0])}}return h=na(),h.memoizedState=h.baseState=l,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oy,lastRenderedState:l},h.queue=x,h=Gy.bind(null,Kt,x),x.dispatch=h,x=Sd(!1),C=Md.bind(null,Kt,!1,x.queue),x=na(),T={state:l,dispatch:null,action:a,pending:null},x.queue=T,h=o2.bind(null,Kt,T,C,h),T.dispatch=h,x.memoizedState=a,[l,h,!1]}function zy(a){var l=Ii();return Py(l,ai,a)}function Py(a,l,h){if(l=xx(a,l,Oy)[0],a=Tp(ol)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var x=bd(l)}catch(j){throw j===Wl?Xr:j}else x=l;l=Ii();var T=l.queue,C=T.dispatch;return h!==l.memoizedState&&(Kt.flags|=2048,Hu(9,{destroy:void 0},l2.bind(null,T,h),null)),[x,C,a]}function l2(a,l){a.action=l}function By(a){var l=Ii(),h=ai;if(h!==null)return Py(l,h,a);Ii(),l=l.memoizedState,h=Ii();var x=h.queue.dispatch;return h.memoizedState=a,[l,x,!1]}function Hu(a,l,h,x){return a={tag:a,create:h,deps:x,inst:l,next:null},l=Kt.updateQueue,l===null&&(l=_d(),Kt.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=a.next=a:(x=h.next,h.next=a,a.next=x,l.lastEffect=a),a}function Iy(){return Ii().memoizedState}function Cp(a,l,h,x){var T=na();Kt.flags|=a,T.memoizedState=Hu(1|l,{destroy:void 0},h,x===void 0?null:x)}function Np(a,l,h,x){var T=Ii();x=x===void 0?null:x;var C=T.memoizedState.inst;ai!==null&&x!==null&&ux(x,ai.memoizedState.deps)?T.memoizedState=Hu(l,C,h,x):(Kt.flags|=a,T.memoizedState=Hu(1|l,C,h,x))}function jy(a,l){Cp(8390656,8,a,l)}function Sx(a,l){Np(2048,8,a,l)}function Fy(a){Kt.flags|=4;var l=Kt.updateQueue;if(l===null)l=_d(),Kt.updateQueue=l,l.events=[a];else{var h=l.events;h===null?l.events=[a]:h.push(a)}}function Vy(a){var l=Ii().memoizedState;return Fy({ref:l,nextImpl:a}),function(){if((zn&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function ky(a,l){return Np(4,2,a,l)}function ka(a,l){return Np(4,4,a,l)}function Mx(a,l){if(typeof l=="function"){a=a();var h=l(a);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Rp(a,l,h){h=h!=null?h.concat([a]):null,Np(4,4,Mx.bind(null,l,a),h)}function Dp(){}function Tx(a,l){var h=Ii();l=l===void 0?null:l;var x=h.memoizedState;return l!==null&&ux(l,x[1])?x[0]:(h.memoizedState=[a,l],a)}function wx(a,l){var h=Ii();l=l===void 0?null:l;var x=h.memoizedState;if(l!==null&&ux(l,x[1]))return x[0];if(x=a(),Hc){mt(!0);try{a()}finally{mt(!1)}}return h.memoizedState=[x,l],x}function Ex(a,l,h){return h===void 0||(pa&1073741824)!==0&&(En&261930)===0?a.memoizedState=l:(a.memoizedState=h,a=u(),Kt.lanes|=a,Ka|=a,h)}function Ax(a,l,h,x){return bi(h,l)?h:Fa.current!==null?(a=Ex(a,h,x),bi(a,l)||(Si=!0),a):(pa&42)===0||(pa&1073741824)!==0&&(En&261930)===0?(Si=!0,a.memoizedState=h):(a=u(),Kt.lanes|=a,Ka|=a,l)}function Cx(a,l,h,x,T){var C=X.p;X.p=C!==0&&8>C?C:8;var j=V.T,q={};V.T=q,Md(a,!1,l,h);try{var le=T(),Ee=V.S;if(Ee!==null&&Ee(q,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var Fe=tx(le,x);Gu(a,l,Fe,sa(a))}else Gu(a,l,x,sa(a))}catch(qe){Gu(a,l,{then:function(){},status:"rejected",reason:qe},sa())}finally{X.p=C,j!==null&&q.types!==null&&(j.types=q.types),V.T=j}}function c2(){}function Nx(a,l,h,x){if(a.tag!==5)throw Error(n(476));var T=Hy(a).queue;Cx(a,T,l,K,h===null?c2:function(){return Rx(a),h(x)})}function Hy(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:K},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:h},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Rx(a){var l=Hy(a);l.next===null&&(l=a.alternate.memoizedState),Gu(a,l.next.queue,{},sa())}function Dx(){return xs(Gx)}function Ns(){return Ii().memoizedState}function Lx(){return Ii().memoizedState}function u2(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var h=sa();a=To(h);var x=al(l,a,h);x!==null&&(f(x,l,h),Ql(x,l,h)),l={cache:J0()},a.payload=l;return}l=l.return}}function f2(a,l,h){var x=sa();h={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},ll(a)?Gc(l,h):(h=Pu(a,l,h,x),h!==null&&(f(h,a,x),ma(h,l,x)))}function Gy(a,l,h){var x=sa();Gu(a,l,h,x)}function Gu(a,l,h,x){var T={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(ll(a))Gc(l,T);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var j=l.lastRenderedState,q=C(j,h);if(T.hasEagerState=!0,T.eagerState=q,bi(q,j))return ld(a,l,T,0),Jn===null&&Vl(),!1}catch{}finally{}if(h=Pu(a,l,T,x),h!==null)return f(h,a,x),ma(h,l,x),!0}return!1}function Md(a,l,h,x){if(x={lane:2,revertLane:m2(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},ll(a)){if(l)throw Error(n(479))}else l=Pu(a,h,x,2),l!==null&&f(l,a,2)}function ll(a){var l=a.alternate;return a===Kt||l!==null&&l===Kt}function Gc(a,l){Eo=bp=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function ma(a,l,h){if((h&4194048)!==0){var x=l.lanes;x&=a.pendingLanes,h|=x,l.lanes=h,Xt(a,h)}}var Td={readContext:xs,use:Mp,useCallback:Di,useContext:Di,useEffect:Di,useImperativeHandle:Di,useLayoutEffect:Di,useInsertionEffect:Di,useMemo:Di,useReducer:Di,useRef:Di,useState:Di,useDebugValue:Di,useDeferredValue:Di,useTransition:Di,useSyncExternalStore:Di,useId:Di,useHostTransitionStatus:Di,useFormState:Di,useActionState:Di,useOptimistic:Di,useMemoCache:Di,useCacheRefresh:Di};Td.useEffectEvent=Di;var Xy={readContext:xs,use:Mp,useCallback:function(a,l){return na().memoizedState=[a,l===void 0?null:l],a},useContext:xs,useEffect:jy,useImperativeHandle:function(a,l,h){h=h!=null?h.concat([a]):null,Cp(4194308,4,Mx.bind(null,l,a),h)},useLayoutEffect:function(a,l){return Cp(4194308,4,a,l)},useInsertionEffect:function(a,l){Cp(4,2,a,l)},useMemo:function(a,l){var h=na();l=l===void 0?null:l;var x=a();if(Hc){mt(!0);try{a()}finally{mt(!1)}}return h.memoizedState=[x,l],x},useReducer:function(a,l,h){var x=na();if(h!==void 0){var T=h(l);if(Hc){mt(!0);try{h(l)}finally{mt(!1)}}}else T=l;return x.memoizedState=x.baseState=T,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:T},x.queue=a,a=a.dispatch=f2.bind(null,Kt,a),[x.memoizedState,a]},useRef:function(a){var l=na();return a={current:a},l.memoizedState=a},useState:function(a){a=Sd(a);var l=a.queue,h=Gy.bind(null,Kt,l);return l.dispatch=h,[a.memoizedState,h]},useDebugValue:Dp,useDeferredValue:function(a,l){var h=na();return Ex(h,a,l)},useTransition:function(){var a=Sd(!1);return a=Cx.bind(null,Kt,a.queue,!0,!1),na().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,h){var x=Kt,T=na();if(Rn){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),Jn===null)throw Error(n(349));(En&127)!==0||Cy(x,l,h)}T.memoizedState=h;var C={value:h,getSnapshot:l};return T.queue=C,jy(yx.bind(null,x,C,a),[a]),x.flags|=2048,Hu(9,{destroy:void 0},vx.bind(null,x,C,h,l),null),h},useId:function(){var a=na(),l=Jn.identifierPrefix;if(Rn){var h=So,x=bo;h=(x&~(1<<32-ut(x)-1)).toString(32)+h,l="_"+l+"R_"+h,h=Sp++,0<h&&(l+="H"+h.toString(32)),l+="_"}else h=a2++,l="_"+l+"r_"+h.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:Dx,useFormState:Uy,useActionState:Uy,useOptimistic:function(a){var l=na();l.memoizedState=l.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=Md.bind(null,Kt,!0,h),h.dispatch=l,[a,l]},useMemoCache:mx,useCacheRefresh:function(){return na().memoizedState=u2.bind(null,Kt)},useEffectEvent:function(a){var l=na(),h={impl:a};return l.memoizedState=h,function(){if((zn&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},Xu={readContext:xs,use:Mp,useCallback:Tx,useContext:xs,useEffect:Sx,useImperativeHandle:Rp,useInsertionEffect:ky,useLayoutEffect:ka,useMemo:wx,useReducer:Tp,useRef:Iy,useState:function(){return Tp(ol)},useDebugValue:Dp,useDeferredValue:function(a,l){var h=Ii();return Ax(h,ai.memoizedState,a,l)},useTransition:function(){var a=Tp(ol)[0],l=Ii().memoizedState;return[typeof a=="boolean"?a:bd(a),l]},useSyncExternalStore:gx,useId:Ns,useHostTransitionStatus:Dx,useFormState:zy,useActionState:zy,useOptimistic:function(a,l){var h=Ii();return Ny(h,ai,a,l)},useMemoCache:mx,useCacheRefresh:Lx};Xu.useEffectEvent=Vy;var wd={readContext:xs,use:Mp,useCallback:Tx,useContext:xs,useEffect:Sx,useImperativeHandle:Rp,useInsertionEffect:ky,useLayoutEffect:ka,useMemo:wx,useReducer:wp,useRef:Iy,useState:function(){return wp(ol)},useDebugValue:Dp,useDeferredValue:function(a,l){var h=Ii();return ai===null?Ex(h,a,l):Ax(h,ai.memoizedState,a,l)},useTransition:function(){var a=wp(ol)[0],l=Ii().memoizedState;return[typeof a=="boolean"?a:bd(a),l]},useSyncExternalStore:gx,useId:Ns,useHostTransitionStatus:Dx,useFormState:By,useActionState:By,useOptimistic:function(a,l){var h=Ii();return ai!==null?Ny(h,ai,a,l):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:mx,useCacheRefresh:Lx};wd.useEffectEvent=Vy;function qu(a,l,h,x){l=a.memoizedState,h=h(x,l),h=h==null?l:g({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Ed={enqueueSetState:function(a,l,h){a=a._reactInternals;var x=sa(),T=To(x);T.payload=l,h!=null&&(T.callback=h),l=al(a,T,x),l!==null&&(f(l,a,x),Ql(l,a,x))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var x=sa(),T=To(x);T.tag=1,T.payload=l,h!=null&&(T.callback=h),l=al(a,T,x),l!==null&&(f(l,a,x),Ql(l,a,x))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=sa(),x=To(h);x.tag=2,l!=null&&(x.callback=l),l=al(a,x,h),l!==null&&(f(l,a,h),Ql(l,a,h))}};function qy(a,l,h,x,T,C,j){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(x,C,j):l.prototype&&l.prototype.isPureReactComponent?!Ru(h,x)||!Ru(T,C):!0}function Wy(a,l,h,x){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,x),l.state!==a&&Ed.enqueueReplaceState(l,l.state,null)}function Rs(a,l){var h=l;if("ref"in l){h={};for(var x in l)x!=="ref"&&(h[x]=l[x])}if(a=a.defaultProps){h===l&&(h=g({},h));for(var T in a)h[T]===void 0&&(h[T]=a[T])}return h}function Ox(a){Fl(a)}function Yy(a){console.error(a)}function Lp(a){Fl(a)}function Op(a,l){try{var h=a.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(x){setTimeout(function(){throw x})}}function Zy(a,l,h){try{var x=a.onCaughtError;x(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Ux(a,l,h){return h=To(h),h.tag=3,h.payload={element:null},h.callback=function(){Op(a,l)},h}function Wu(a){return a=To(a),a.tag=3,a}function xa(a,l,h,x){var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var C=x.value;a.payload=function(){return T(C)},a.callback=function(){Zy(l,h,x)}}var j=h.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(a.callback=function(){Zy(l,h,x),typeof T!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var q=x.stack;this.componentDidCatch(x.value,{componentStack:q!==null?q:""})})}function Ha(a,l,h,x,T){if(h.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(l=h.alternate,l!==null&&Xl(l,h,T,!0),h=rs.current,h!==null){switch(h.tag){case 31:case 13:return mr===null?sn():h.alternate===null&&$n===0&&($n=3),h.flags&=-257,h.flags|=65536,h.lanes=T,x===md?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([x]):l.add(x),d2(a,x,T)),!1;case 22:return h.flags|=65536,x===md?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([x])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([x]):h.add(x)),d2(a,x,T)),!1}throw Error(n(435,h.tag))}return d2(a,x,T),sn(),!1}if(Rn)return l=rs.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=T,x!==hp&&(a=Error(n(422),{cause:x}),dd(da(a,h)))):(x!==hp&&(l=Error(n(423),{cause:x}),dd(da(l,h))),a=a.current.alternate,a.flags|=65536,T&=-T,a.lanes|=T,x=da(x,h),T=Ux(a.stateNode,x,T),yp(a,T),$n!==4&&($n=2)),!1;var C=Error(n(520),{cause:x});if(C=da(C,h),Kr===null?Kr=[C]:Kr.push(C),$n!==4&&($n=2),l===null)return!0;x=da(x,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,a=T&-T,h.lanes|=a,a=Ux(h.stateNode,x,a),yp(h,a),!1;case 1:if(l=h.type,C=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Lo===null||!Lo.has(C))))return h.flags|=65536,T&=-T,h.lanes|=T,T=Wu(T),xa(T,a,h,x),yp(h,T),!1}h=h.return}while(h!==null);return!1}var Up=Error(n(461)),Si=!1;function Li(a,l,h,x){l.child=a===null?Ty(l,null,h,x):Vc(l,a.child,h,x)}function Ad(a,l,h,x,T){h=h.render;var C=l.ref;if("ref"in x){var j={};for(var q in x)q!=="ref"&&(j[q]=x[q])}else j=x;return Ic(l),x=fx(a,l,h,j,C,T),q=dx(),a!==null&&!Si?(hx(a,l,T),Yr(a,l,T)):(Rn&&q&&dp(l),l.flags|=1,Li(a,l,x,T),l.child)}function Cd(a,l,h,x,T){if(a===null){var C=h.type;return typeof C=="function"&&!ea(C)&&C.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=C,Ga(a,l,C,x,T)):(a=cd(h.type,null,x,l,l.mode,T),a.ref=l.ref,a.return=l,l.child=a)}if(C=a.child,!ec(a,T)){var j=C.memoizedProps;if(h=h.compare,h=h!==null?h:Ru,h(j,x)&&a.ref===l.ref)return Yr(a,l,T)}return l.flags|=1,a=yo(C,x),a.ref=l.ref,a.return=l,l.child=a}function Ga(a,l,h,x,T){if(a!==null){var C=a.memoizedProps;if(Ru(C,x)&&a.ref===l.ref)if(Si=!1,l.pendingProps=x=C,ec(a,T))(a.flags&131072)!==0&&(Si=!0);else return l.lanes=a.lanes,Yr(a,l,T)}return Yu(a,l,h,x,T)}function Xa(a,l,h,x){var T=x.children,C=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((l.flags&128)!==0){if(C=C!==null?C.baseLanes|h:h,a!==null){for(x=l.child=a.child,T=0;x!==null;)T=T|x.lanes|x.childLanes,x=x.sibling;x=T&~C}else x=0,l.child=null;return Co(a,l,C,h,x)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Vu(l,C!==null?C.cachePool:null),C!==null?ox(l,C):lx(),wy(l);else return x=l.lanes=536870912,Co(a,l,C!==null?C.baseLanes|h:h,h,x)}else C!==null?(Vu(l,C.cachePool),ox(l,C),rl(),l.memoizedState=null):(a!==null&&Vu(l,null),lx(),rl());return Li(a,l,T,h),l.child}function qr(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Co(a,l,h,x,T){var C=Mo();return C=C===null?null:{parent:Ft._currentValue,pool:C},l.memoizedState={baseLanes:h,cachePool:C},a!==null&&Vu(l,null),lx(),wy(l),a!==null&&Xl(a,l,x,!0),l.childLanes=T,null}function xr(a,l){return l=Zu({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function gs(a,l,h){return Vc(l,a.child,null,h),a=xr(l,l.pendingProps),a.flags|=2,Va(l),l.memoizedState=null,a}function Nd(a,l,h){var x=l.pendingProps,T=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(Rn){if(x.mode==="hidden")return a=xr(l,x),l.lanes=536870912,qr(null,a);if(cx(l),(a=pi)?(a=vA(a,ms),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:_o!==null?{id:bo,overflow:So}:null,retryLane:536870912,hydrationErrors:null},h=vy(a),h.return=l,l.child=h,ps=l,pi=null)):a=null,a===null)throw wn(l);return l.lanes=536870912,null}return xr(l,x)}var C=a.memoizedState;if(C!==null){var j=C.dehydrated;if(cx(l),T)if(l.flags&256)l.flags&=-257,l=gs(a,l,h);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(n(558));else if(Si||Xl(a,l,h,!1),T=(h&a.childLanes)!==0,Si||T){if(x=Jn,x!==null&&(j=Ut(x,h),j!==0&&j!==C.retryLane))throw C.retryLane=j,kl(a,j),f(x,a,j),Up;sn(),l=gs(a,l,h)}else a=C.treeContext,pi=Oo(j.nextSibling),ps=l,Rn=!0,el=null,ms=!1,a!==null&&fd(l,a),l=xr(l,x),l.flags|=4096;return l}return a=yo(a.child,{mode:x.mode,children:x.children}),a.ref=l.ref,l.child=a,a.return=l,a}function Wr(a,l){var h=l.ref;if(h===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(a===null||a.ref!==h)&&(l.flags|=4194816)}}function Yu(a,l,h,x,T){return Ic(l),h=fx(a,l,h,x,void 0,T),x=dx(),a!==null&&!Si?(hx(a,l,T),Yr(a,l,T)):(Rn&&x&&dp(l),l.flags|=1,Li(a,l,h,T),l.child)}function Hs(a,l,h,x,T,C){return Ic(l),l.updateQueue=null,h=Ay(l,x,h,T),Ey(a),x=dx(),a!==null&&!Si?(hx(a,l,C),Yr(a,l,C)):(Rn&&x&&dp(l),l.flags|=1,Li(a,l,h,C),l.child)}function Ds(a,l,h,x,T){if(Ic(l),l.stateNode===null){var C=Hl,j=h.contextType;typeof j=="object"&&j!==null&&(C=xs(j)),C=new h(x,C),l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Ed,l.stateNode=C,C._reactInternals=l,C=l.stateNode,C.props=x,C.state=l.memoizedState,C.refs={},sx(l),j=h.contextType,C.context=typeof j=="object"&&j!==null?xs(j):Hl,C.state=l.memoizedState,j=h.getDerivedStateFromProps,typeof j=="function"&&(qu(l,h,j,x),C.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(j=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),j!==C.state&&Ed.enqueueReplaceState(C,C.state,null),kc(l,x,C,T),vd(),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308),x=!0}else if(a===null){C=l.stateNode;var q=l.memoizedProps,le=Rs(h,q);C.props=le;var Ee=C.context,Fe=h.contextType;j=Hl,typeof Fe=="object"&&Fe!==null&&(j=xs(Fe));var qe=h.getDerivedStateFromProps;Fe=typeof qe=="function"||typeof C.getSnapshotBeforeUpdate=="function",q=l.pendingProps!==q,Fe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(q||Ee!==j)&&Wy(l,C,x,j),Kl=!1;var De=l.memoizedState;C.state=De,kc(l,x,C,T),vd(),Ee=l.memoizedState,q||De!==Ee||Kl?(typeof qe=="function"&&(qu(l,h,qe,x),Ee=l.memoizedState),(le=Kl||qy(l,h,le,x,De,Ee,j))?(Fe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=Ee),C.props=x,C.state=Ee,C.context=j,x=le):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{C=l.stateNode,ax(a,l),j=l.memoizedProps,Fe=Rs(h,j),C.props=Fe,qe=l.pendingProps,De=C.context,Ee=h.contextType,le=Hl,typeof Ee=="object"&&Ee!==null&&(le=xs(Ee)),q=h.getDerivedStateFromProps,(Ee=typeof q=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(j!==qe||De!==le)&&Wy(l,C,x,le),Kl=!1,De=l.memoizedState,C.state=De,kc(l,x,C,T),vd();var ze=l.memoizedState;j!==qe||De!==ze||Kl||a!==null&&a.dependencies!==null&&ju(a.dependencies)?(typeof q=="function"&&(qu(l,h,q,x),ze=l.memoizedState),(Fe=Kl||qy(l,h,Fe,x,De,ze,le)||a!==null&&a.dependencies!==null&&ju(a.dependencies))?(Ee||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(x,ze,le),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(x,ze,le)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||j===a.memoizedProps&&De===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&De===a.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=ze),C.props=x,C.state=ze,C.context=le,x=Fe):(typeof C.componentDidUpdate!="function"||j===a.memoizedProps&&De===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&De===a.memoizedState||(l.flags|=1024),x=!1)}return C=x,Wr(a,l),x=(l.flags&128)!==0,C||x?(C=l.stateNode,h=x&&typeof h.getDerivedStateFromError!="function"?null:C.render(),l.flags|=1,a!==null&&x?(l.child=Vc(l,a.child,null,T),l.child=Vc(l,null,h,T)):Li(a,l,h,T),l.memoizedState=C.state,a=l.child):a=Yr(a,l,T),a}function Fn(a,l,h,x){return Bc(),l.flags|=256,Li(a,l,h,x),l.child}var qa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gr(a){return{baseLanes:a,cachePool:xp()}}function Rd(a,l,h){return a=a!==null?a.childLanes&~h:0,l&&(a|=Pn),a}function Wa(a,l,h){var x=l.pendingProps,T=!1,C=(l.flags&128)!==0,j;if((j=C)||(j=a!==null&&a.memoizedState===null?!1:(Ri.current&2)!==0),j&&(T=!0,l.flags&=-129),j=(l.flags&32)!==0,l.flags&=-33,a===null){if(Rn){if(T?Jl(l):rl(),(a=pi)?(a=vA(a,ms),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:_o!==null?{id:bo,overflow:So}:null,retryLane:536870912,hydrationErrors:null},h=vy(a),h.return=l,l.child=h,ps=l,pi=null)):a=null,a===null)throw wn(l);return C2(a)?l.lanes=32:l.lanes=536870912,null}var q=x.children;return x=x.fallback,T?(rl(),T=l.mode,q=Zu({mode:"hidden",children:q},T),x=Jo(x,T,h,null),q.return=l,x.return=l,q.sibling=x,l.child=q,x=l.child,x.memoizedState=gr(h),x.childLanes=Rd(a,j,h),l.memoizedState=qa,qr(null,x)):(Jl(l),$l(l,q))}var le=a.memoizedState;if(le!==null&&(q=le.dehydrated,q!==null)){if(C)l.flags&256?(Jl(l),l.flags&=-257,l=Ku(a,l,h)):l.memoizedState!==null?(rl(),l.child=a.child,l.flags|=128,l=null):(rl(),q=x.fallback,T=l.mode,x=Zu({mode:"visible",children:x.children},T),q=Jo(q,T,h,null),q.flags|=2,x.return=l,q.return=l,x.sibling=q,l.child=x,Vc(l,a.child,null,h),x=l.child,x.memoizedState=gr(h),x.childLanes=Rd(a,j,h),l.memoizedState=qa,l=qr(null,x));else if(Jl(l),C2(q)){if(j=q.nextSibling&&q.nextSibling.dataset,j)var Ee=j.dgst;j=Ee,x=Error(n(419)),x.stack="",x.digest=j,dd({value:x,source:null,stack:null}),l=Ku(a,l,h)}else if(Si||Xl(a,l,h,!1),j=(h&a.childLanes)!==0,Si||j){if(j=Jn,j!==null&&(x=Ut(j,h),x!==0&&x!==le.retryLane))throw le.retryLane=x,kl(a,x),f(j,a,x),Up;A2(q)||sn(),l=Ku(a,l,h)}else A2(q)?(l.flags|=192,l.child=a.child,l=null):(a=le.treeContext,pi=Oo(q.nextSibling),ps=l,Rn=!0,el=null,ms=!1,a!==null&&fd(l,a),l=$l(l,x.children),l.flags|=4096);return l}return T?(rl(),q=x.fallback,T=l.mode,le=a.child,Ee=le.sibling,x=yo(le,{mode:"hidden",children:x.children}),x.subtreeFlags=le.subtreeFlags&65011712,Ee!==null?q=yo(Ee,q):(q=Jo(q,T,h,null),q.flags|=2),q.return=l,x.return=l,x.sibling=q,l.child=x,qr(null,x),x=l.child,q=a.child.memoizedState,q===null?q=gr(h):(T=q.cachePool,T!==null?(le=Ft._currentValue,T=T.parent!==le?{parent:le,pool:le}:T):T=xp(),q={baseLanes:q.baseLanes|h,cachePool:T}),x.memoizedState=q,x.childLanes=Rd(a,j,h),l.memoizedState=qa,qr(a.child,x)):(Jl(l),h=a.child,a=h.sibling,h=yo(h,{mode:"visible",children:x.children}),h.return=l,h.sibling=null,a!==null&&(j=l.deletions,j===null?(l.deletions=[a],l.flags|=16):j.push(a)),l.child=h,l.memoizedState=null,h)}function $l(a,l){return l=Zu({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Zu(a,l){return a=$s(22,a,null,l),a.lanes=0,a}function Ku(a,l,h){return Vc(l,a.child,null,h),a=$l(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function Xc(a,l,h){a.lanes|=l;var x=a.alternate;x!==null&&(x.lanes|=l),il(a.return,l,h)}function Dd(a,l,h,x,T,C){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:T,treeForkCount:C}:(j.isBackwards=l,j.rendering=null,j.renderingStartTime=0,j.last=x,j.tail=h,j.tailMode=T,j.treeForkCount=C)}function Ld(a,l,h){var x=l.pendingProps,T=x.revealOrder,C=x.tail;x=x.children;var j=Ri.current,q=(j&2)!==0;if(q?(j=j&1|2,l.flags|=128):j&=1,he(Ri,j),Li(a,l,x,h),x=Rn?Iu:0,!q&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Xc(a,h,l);else if(a.tag===19)Xc(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(T){case"forwards":for(h=l.child,T=null;h!==null;)a=h.alternate,a!==null&&_p(a)===null&&(T=h),h=h.sibling;h=T,h===null?(T=l.child,l.child=null):(T=h.sibling,h.sibling=null),Dd(l,!1,T,h,C,x);break;case"backwards":case"unstable_legacy-backwards":for(h=null,T=l.child,l.child=null;T!==null;){if(a=T.alternate,a!==null&&_p(a)===null){l.child=T;break}a=T.sibling,T.sibling=h,h=T,T=a}Dd(l,!0,h,null,C,x);break;case"together":Dd(l,!1,null,null,void 0,x);break;default:l.memoizedState=null}return l.child}function Yr(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),Ka|=l.lanes,(h&l.childLanes)===0)if(a!==null){if(Xl(a,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,h=yo(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=yo(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function ec(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&ju(a)))}function Od(a,l,h){switch(l.tag){case 3:We(l,l.stateNode.containerInfo),nl(l,Ft,a.memoizedState.cache),Bc();break;case 27:case 5:pt(l);break;case 4:We(l,l.stateNode.containerInfo);break;case 10:nl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,cx(l),null;break;case 13:var x=l.memoizedState;if(x!==null)return x.dehydrated!==null?(Jl(l),l.flags|=128,null):(h&l.child.childLanes)!==0?Wa(a,l,h):(Jl(l),a=Yr(a,l,h),a!==null?a.sibling:null);Jl(l);break;case 19:var T=(a.flags&128)!==0;if(x=(h&l.childLanes)!==0,x||(Xl(a,l,h,!1),x=(h&l.childLanes)!==0),T){if(x)return Ld(a,l,h);l.flags|=128}if(T=l.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),he(Ri,Ri.current),x)break;return null;case 22:return l.lanes=0,Xa(a,l,h,l.pendingProps);case 24:nl(l,Ft,a.memoizedState.cache)}return Yr(a,l,h)}function zp(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps)Si=!0;else{if(!ec(a,h)&&(l.flags&128)===0)return Si=!1,Od(a,l,h);Si=(a.flags&131072)!==0}else Si=!1,Rn&&(l.flags&1048576)!==0&&W0(l,Iu,l.index);switch(l.lanes=0,l.tag){case 16:e:{var x=l.pendingProps;if(a=Fc(l.elementType),l.type=a,typeof a=="function")ea(a)?(x=Rs(a,x),l.tag=1,l=Ds(null,l,a,x,h)):(l.tag=0,l=Yu(null,l,a,x,h));else{if(a!=null){var T=a.$$typeof;if(T===L){l.tag=11,l=Ad(null,l,a,x,h);break e}else if(T===I){l.tag=14,l=Cd(null,l,a,x,h);break e}}throw l=ue(a)||a,Error(n(306,l,""))}}return l;case 0:return Yu(a,l,l.type,l.pendingProps,h);case 1:return x=l.type,T=Rs(x,l.pendingProps),Ds(a,l,x,T,h);case 3:e:{if(We(l,l.stateNode.containerInfo),a===null)throw Error(n(387));x=l.pendingProps;var C=l.memoizedState;T=C.element,ax(a,l),kc(l,x,null,h);var j=l.memoizedState;if(x=j.cache,nl(l,Ft,x),x!==C.cache&&mp(l,[Ft],h,!0),vd(),x=j.element,C.isDehydrated)if(C={element:x,isDehydrated:!1,cache:j.cache},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){l=Fn(a,l,x,h);break e}else if(x!==T){T=da(Error(n(424)),l),dd(T),l=Fn(a,l,x,h);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(pi=Oo(a.firstChild),ps=l,Rn=!0,el=null,ms=!0,h=Ty(l,null,x,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Bc(),x===T){l=Yr(a,l,h);break e}Li(a,l,x,h)}l=l.child}return l;case 26:return Wr(a,l),a===null?(h=TA(l.type,null,l.pendingProps,null))?l.memoizedState=h:Rn||(h=l.type,a=l.pendingProps,x=i_(pe.current).createElement(h),x[Ct]=l,x[tn]=a,aa(x,h,a),ve(x),l.stateNode=x):l.memoizedState=TA(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return pt(l),a===null&&Rn&&(x=l.stateNode=bA(l.type,l.pendingProps,pe.current),ps=l,ms=!0,T=pi,sf(l.type)?(N2=T,pi=Oo(x.firstChild)):pi=T),Li(a,l,l.pendingProps.children,h),Wr(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Rn&&((T=x=pi)&&(x=b8(x,l.type,l.pendingProps,ms),x!==null?(l.stateNode=x,ps=l,pi=Oo(x.firstChild),ms=!1,T=!0):T=!1),T||wn(l)),pt(l),T=l.type,C=l.pendingProps,j=a!==null?a.memoizedProps:null,x=C.children,T2(T,C)?x=null:j!==null&&T2(T,j)&&(l.flags|=32),l.memoizedState!==null&&(T=fx(a,l,r2,null,null,h),Gx._currentValue=T),Wr(a,l),Li(a,l,x,h),l.child;case 6:return a===null&&Rn&&((a=h=pi)&&(h=S8(h,l.pendingProps,ms),h!==null?(l.stateNode=h,ps=l,pi=null,a=!0):a=!1),a||wn(l)),null;case 13:return Wa(a,l,h);case 4:return We(l,l.stateNode.containerInfo),x=l.pendingProps,a===null?l.child=Vc(l,null,x,h):Li(a,l,x,h),l.child;case 11:return Ad(a,l,l.type,l.pendingProps,h);case 7:return Li(a,l,l.pendingProps,h),l.child;case 8:return Li(a,l,l.pendingProps.children,h),l.child;case 12:return Li(a,l,l.pendingProps.children,h),l.child;case 10:return x=l.pendingProps,nl(l,l.type,x.value),Li(a,l,x.children,h),l.child;case 9:return T=l.type._context,x=l.pendingProps.children,Ic(l),T=xs(T),x=x(T),l.flags|=1,Li(a,l,x,h),l.child;case 14:return Cd(a,l,l.type,l.pendingProps,h);case 15:return Ga(a,l,l.type,l.pendingProps,h);case 19:return Ld(a,l,h);case 31:return Nd(a,l,h);case 22:return Xa(a,l,h,l.pendingProps);case 24:return Ic(l),x=xs(Ft),a===null?(T=Mo(),T===null&&(T=Jn,C=J0(),T.pooledCache=C,C.refCount++,C!==null&&(T.pooledCacheLanes|=h),T=C),l.memoizedState={parent:x,cache:T},sx(l),nl(l,Ft,T)):((a.lanes&h)!==0&&(ax(a,l),kc(l,null,null,h),vd()),T=a.memoizedState,C=l.memoizedState,T.parent!==x?(T={parent:x,cache:x},l.memoizedState=T,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=T),nl(l,Ft,x)):(x=C.cache,nl(l,Ft,x),x!==T.cache&&mp(l,[Ft],h,!0))),Li(a,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function ga(a){a.flags|=4}function tc(a,l,h,x,T){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(T&335544128)===T)if(a.stateNode.complete)a.flags|=8192;else if(rt())a.flags|=8192;else throw qt=md,pd}else a.flags&=-16777217}function cl(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!NA(l))if(rt())a.flags|=8192;else throw qt=md,pd}function Qu(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?yn():536870912,a.lanes|=l,Qa|=l)}function Ud(a,l){if(!Rn)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:x.sibling=null}}function ni(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,x=0;if(l)for(var T=a.child;T!==null;)h|=T.lanes|T.childLanes,x|=T.subtreeFlags&65011712,x|=T.flags&65011712,T.return=a,T=T.sibling;else for(T=a.child;T!==null;)h|=T.lanes|T.childLanes,x|=T.subtreeFlags,x|=T.flags,T.return=a,T=T.sibling;return a.subtreeFlags|=x,a.childLanes=h,l}function zx(a,l,h){var x=l.pendingProps;switch(Gl(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ni(l),null;case 1:return ni(l),null;case 3:return h=l.stateNode,x=null,a!==null&&(x=a.memoizedState.cache),l.memoizedState.cache!==x&&(l.flags|=2048),pr(Ft),tt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(Pc(l)?ga(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Y0())),ni(l),null;case 26:var T=l.type,C=l.memoizedState;return a===null?(ga(l),C!==null?(ni(l),cl(l,C)):(ni(l),tc(l,T,null,x,h))):C?C!==a.memoizedState?(ga(l),ni(l),cl(l,C)):(ni(l),l.flags&=-16777217):(a=a.memoizedProps,a!==x&&ga(l),ni(l),tc(l,T,a,x,h)),null;case 27:if(vt(l),h=pe.current,T=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==x&&ga(l);else{if(!x){if(l.stateNode===null)throw Error(n(166));return ni(l),null}a=ye.current,Pc(l)?pp(l):(a=bA(T,x,h),l.stateNode=a,ga(l))}return ni(l),null;case 5:if(vt(l),T=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==x&&ga(l);else{if(!x){if(l.stateNode===null)throw Error(n(166));return ni(l),null}if(C=ye.current,Pc(l))pp(l);else{var j=i_(pe.current);switch(C){case 1:C=j.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:C=j.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":C=j.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":C=j.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":C=j.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof x.is=="string"?j.createElement("select",{is:x.is}):j.createElement("select"),x.multiple?C.multiple=!0:x.size&&(C.size=x.size);break;default:C=typeof x.is=="string"?j.createElement(T,{is:x.is}):j.createElement(T)}}C[Ct]=l,C[tn]=x;e:for(j=l.child;j!==null;){if(j.tag===5||j.tag===6)C.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===l)break e;for(;j.sibling===null;){if(j.return===null||j.return===l)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}l.stateNode=C;e:switch(aa(C,T,x),T){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&ga(l)}}return ni(l),tc(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,h),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==x&&ga(l);else{if(typeof x!="string"&&l.stateNode===null)throw Error(n(166));if(a=pe.current,Pc(l)){if(a=l.stateNode,h=l.memoizedProps,x=null,T=ps,T!==null)switch(T.tag){case 27:case 5:x=T.memoizedProps}a[Ct]=l,a=!!(a.nodeValue===h||x!==null&&x.suppressHydrationWarning===!0||uA(a.nodeValue,h)),a||wn(l,!0)}else a=i_(a).createTextNode(x),a[Ct]=l,l.stateNode=a}return ni(l),null;case 31:if(h=l.memoizedState,a===null||a.memoizedState!==null){if(x=Pc(l),h!==null){if(a===null){if(!x)throw Error(n(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Ct]=l}else Bc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ni(l),a=!1}else h=Y0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),a=!0;if(!a)return l.flags&256?(Va(l),l):(Va(l),null);if((l.flags&128)!==0)throw Error(n(558))}return ni(l),null;case 13:if(x=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(T=Pc(l),x!==null&&x.dehydrated!==null){if(a===null){if(!T)throw Error(n(318));if(T=l.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[Ct]=l}else Bc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ni(l),T=!1}else T=Y0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=T),T=!0;if(!T)return l.flags&256?(Va(l),l):(Va(l),null)}return Va(l),(l.flags&128)!==0?(l.lanes=h,l):(h=x!==null,a=a!==null&&a.memoizedState!==null,h&&(x=l.child,T=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(T=x.alternate.memoizedState.cachePool.pool),C=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(C=x.memoizedState.cachePool.pool),C!==T&&(x.flags|=2048)),h!==a&&h&&(l.child.flags|=8192),Qu(l,l.updateQueue),ni(l),null);case 4:return tt(),a===null&&y2(l.stateNode.containerInfo),ni(l),null;case 10:return pr(l.type),ni(l),null;case 19:if(ae(Ri),x=l.memoizedState,x===null)return ni(l),null;if(T=(l.flags&128)!==0,C=x.rendering,C===null)if(T)Ud(x,!1);else{if($n!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(C=_p(a),C!==null){for(l.flags|=128,Ud(x,!1),a=C.updateQueue,l.updateQueue=a,Qu(l,a),l.subtreeFlags=0,a=h,h=l.child;h!==null;)Fs(h,a),h=h.sibling;return he(Ri,Ri.current&1|2),Rn&&$o(l,x.treeForkCount),l.child}a=a.sibling}x.tail!==null&&k()>Ja&&(l.flags|=128,T=!0,Ud(x,!1),l.lanes=4194304)}else{if(!T)if(a=_p(C),a!==null){if(l.flags|=128,T=!0,a=a.updateQueue,l.updateQueue=a,Qu(l,a),Ud(x,!0),x.tail===null&&x.tailMode==="hidden"&&!C.alternate&&!Rn)return ni(l),null}else 2*k()-x.renderingStartTime>Ja&&h!==536870912&&(l.flags|=128,T=!0,Ud(x,!1),l.lanes=4194304);x.isBackwards?(C.sibling=l.child,l.child=C):(a=x.last,a!==null?a.sibling=C:l.child=C,x.last=C)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=k(),a.sibling=null,h=Ri.current,he(Ri,T?h&1|2:h&1),Rn&&$o(l,x.treeForkCount),a):(ni(l),null);case 22:case 23:return Va(l),ks(),x=l.memoizedState!==null,a!==null?a.memoizedState!==null!==x&&(l.flags|=8192):x&&(l.flags|=8192),x?(h&536870912)!==0&&(l.flags&128)===0&&(ni(l),l.subtreeFlags&6&&(l.flags|=8192)):ni(l),h=l.updateQueue,h!==null&&Qu(l,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==h&&(l.flags|=2048),a!==null&&ae(ql),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),pr(Ft),ni(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function Pp(a,l){switch(Gl(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return pr(Ft),tt(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return vt(l),null;case 31:if(l.memoizedState!==null){if(Va(l),l.alternate===null)throw Error(n(340));Bc()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(Va(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Bc()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return ae(Ri),null;case 4:return tt(),null;case 10:return pr(l.type),null;case 22:case 23:return Va(l),ks(),a!==null&&ae(ql),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return pr(Ft),null;case 25:return null;default:return null}}function qc(a,l){switch(Gl(l),l.tag){case 3:pr(Ft),tt();break;case 26:case 27:case 5:vt(l);break;case 4:tt();break;case 31:l.memoizedState!==null&&Va(l);break;case 13:Va(l);break;case 19:ae(Ri);break;case 10:pr(l.type);break;case 22:case 23:Va(l),ks(),a!==null&&ae(ql);break;case 24:pr(Ft)}}function No(a,l){try{var h=l.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var T=x.next;h=T;do{if((h.tag&a)===a){x=void 0;var C=h.create,j=h.inst;x=C(),j.destroy=x}h=h.next}while(h!==T)}}catch(q){di(l,l.return,q)}}function vr(a,l,h){try{var x=l.updateQueue,T=x!==null?x.lastEffect:null;if(T!==null){var C=T.next;x=C;do{if((x.tag&a)===a){var j=x.inst,q=j.destroy;if(q!==void 0){j.destroy=void 0,T=l;var le=h,Ee=q;try{Ee()}catch(Fe){di(T,le,Fe)}}}x=x.next}while(x!==C)}}catch(Fe){di(l,l.return,Fe)}}function nc(a){var l=a.updateQueue;if(l!==null){var h=a.stateNode;try{Cs(l,h)}catch(x){di(a,a.return,x)}}}function Px(a,l,h){h.props=Rs(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(x){di(a,l,x)}}function Ro(a,l){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var x=a.stateNode;break;case 30:x=a.stateNode;break;default:x=a.stateNode}typeof h=="function"?a.refCleanup=h(x):h.current=x}}catch(T){di(a,l,T)}}function Ya(a,l){var h=a.ref,x=a.refCleanup;if(h!==null)if(typeof x=="function")try{x()}catch(T){di(a,l,T)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(T){di(a,l,T)}else h.current=null}function Za(a){var l=a.type,h=a.memoizedProps,x=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&x.focus();break e;case"img":h.src?x.src=h.src:h.srcSet&&(x.srcset=h.srcSet)}}catch(T){di(a,a.return,T)}}function yr(a,l,h){try{var x=a.stateNode;m8(x,a.type,h,l),x[tn]=l}catch(T){di(a,a.return,T)}}function Ki(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&sf(a.type)||a.tag===4}function Do(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Ki(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&sf(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function cn(a,l,h){var x=a.tag;if(x===5||x===6)a=a.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(a),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=xo));else if(x!==4&&(x===27&&sf(a.type)&&(h=a.stateNode,l=null),a=a.child,a!==null))for(cn(a,l,h),a=a.sibling;a!==null;)cn(a,l,h),a=a.sibling}function qn(a,l,h){var x=a.tag;if(x===5||x===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(x!==4&&(x===27&&sf(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(qn(a,l,h),a=a.sibling;a!==null;)qn(a,l,h),a=a.sibling}function ji(a){var l=a.stateNode,h=a.memoizedProps;try{for(var x=a.type,T=l.attributes;T.length;)l.removeAttributeNode(T[0]);aa(l,x,h),l[Ct]=a,l[tn]=h}catch(C){di(a,a.return,C)}}var _r=!1,Mi=!1,ul=!1,zd=typeof WeakSet=="function"?WeakSet:Set,Oi=null;function Ju(a,l){if(a=a.containerInfo,S2=u_,a=sp(a),Du(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var T=x.anchorOffset,C=x.focusNode;x=x.focusOffset;try{h.nodeType,C.nodeType}catch{h=null;break e}var j=0,q=-1,le=-1,Ee=0,Fe=0,qe=a,De=null;t:for(;;){for(var ze;qe!==h||T!==0&&qe.nodeType!==3||(q=j+T),qe!==C||x!==0&&qe.nodeType!==3||(le=j+x),qe.nodeType===3&&(j+=qe.nodeValue.length),(ze=qe.firstChild)!==null;)De=qe,qe=ze;for(;;){if(qe===a)break t;if(De===h&&++Ee===T&&(q=j),De===C&&++Fe===x&&(le=j),(ze=qe.nextSibling)!==null)break;qe=De,De=qe.parentNode}qe=ze}h=q===-1||le===-1?null:{start:q,end:le}}else h=null}h=h||{start:0,end:0}}else h=null;for(M2={focusedElem:a,selectionRange:h},u_=!1,Oi=l;Oi!==null;)if(l=Oi,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,Oi=a;else for(;Oi!==null;){switch(l=Oi,C=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(h=0;h<a.length;h++)T=a[h],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&C!==null){a=void 0,h=l,T=C.memoizedProps,C=C.memoizedState,x=h.stateNode;try{var Nt=Rs(h.type,T);a=x.getSnapshotBeforeUpdate(Nt,C),x.__reactInternalSnapshotBeforeUpdate=a}catch(Wt){di(h,h.return,Wt)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,h=a.nodeType,h===9)E2(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":E2(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=l.sibling,a!==null){a.return=l.return,Oi=a;break}Oi=l.return}}function Ky(a,l,h){var x=h.flags;switch(h.tag){case 0:case 11:case 15:fl(a,h),x&4&&No(5,h);break;case 1:if(fl(a,h),x&4)if(a=h.stateNode,l===null)try{a.componentDidMount()}catch(j){di(h,h.return,j)}else{var T=Rs(h.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(T,l,a.__reactInternalSnapshotBeforeUpdate)}catch(j){di(h,h.return,j)}}x&64&&nc(h),x&512&&Ro(h,h.return);break;case 3:if(fl(a,h),x&64&&(a=h.updateQueue,a!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{Cs(a,l)}catch(j){di(h,h.return,j)}}break;case 27:l===null&&x&4&&ji(h);case 26:case 5:fl(a,h),l===null&&x&4&&Za(h),x&512&&Ro(h,h.return);break;case 12:fl(a,h);break;case 31:fl(a,h),x&4&&Ip(a,h);break;case 13:fl(a,h),x&4&&Bx(a,h),x&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=i8.bind(null,h),M8(a,h))));break;case 22:if(x=h.memoizedState!==null||_r,!x){l=l!==null&&l.memoizedState!==null||Mi,T=_r;var C=Mi;_r=x,(Mi=l)&&!C?Qn(a,h,(h.subtreeFlags&8772)!==0):fl(a,h),_r=T,Mi=C}break;case 30:break;default:fl(a,h)}}function Bp(a){var l=a.alternate;l!==null&&(a.alternate=null,Bp(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&yi(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Vn=null,Qi=!1;function Gs(a,l,h){for(h=h.child;h!==null;)ic(a,l,h),h=h.sibling}function ic(a,l,h){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Ae,h)}catch{}switch(h.tag){case 26:Mi||Ya(h,l),Gs(a,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Mi||Ya(h,l);var x=Vn,T=Qi;sf(h.type)&&(Vn=h.stateNode,Qi=!1),Gs(a,l,h),Vx(h.stateNode),Vn=x,Qi=T;break;case 5:Mi||Ya(h,l);case 6:if(x=Vn,T=Qi,Vn=null,Gs(a,l,h),Vn=x,Qi=T,Vn!==null)if(Qi)try{(Vn.nodeType===9?Vn.body:Vn.nodeName==="HTML"?Vn.ownerDocument.body:Vn).removeChild(h.stateNode)}catch(C){di(h,l,C)}else try{Vn.removeChild(h.stateNode)}catch(C){di(h,l,C)}break;case 18:Vn!==null&&(Qi?(a=Vn,xA(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Zp(a)):xA(Vn,h.stateNode));break;case 4:x=Vn,T=Qi,Vn=h.stateNode.containerInfo,Qi=!0,Gs(a,l,h),Vn=x,Qi=T;break;case 0:case 11:case 14:case 15:vr(2,h,l),Mi||vr(4,h,l),Gs(a,l,h);break;case 1:Mi||(Ya(h,l),x=h.stateNode,typeof x.componentWillUnmount=="function"&&Px(h,l,x)),Gs(a,l,h);break;case 21:Gs(a,l,h);break;case 22:Mi=(x=Mi)||h.memoizedState!==null,Gs(a,l,h),Mi=x;break;default:Gs(a,l,h)}}function Ip(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Zp(a)}catch(h){di(l,l.return,h)}}}function Bx(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Zp(a)}catch(h){di(l,l.return,h)}}function Qy(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new zd),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new zd),l;default:throw Error(n(435,a.tag))}}function Fi(a,l){var h=Qy(a);l.forEach(function(x){if(!h.has(x)){h.add(x);var T=s8.bind(null,a,x);x.then(T,T)}})}function Xs(a,l){var h=l.deletions;if(h!==null)for(var x=0;x<h.length;x++){var T=h[x],C=a,j=l,q=j;e:for(;q!==null;){switch(q.tag){case 27:if(sf(q.type)){Vn=q.stateNode,Qi=!1;break e}break;case 5:Vn=q.stateNode,Qi=!1;break e;case 3:case 4:Vn=q.stateNode.containerInfo,Qi=!0;break e}q=q.return}if(Vn===null)throw Error(n(160));ic(C,j,T),Vn=null,Qi=!1,C=T.alternate,C!==null&&(C.return=null),T.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)sc(l,a),l=l.sibling}var va=null;function sc(a,l){var h=a.alternate,x=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Xs(l,a),Ui(a),x&4&&(vr(3,a,a.return),No(3,a),vr(5,a,a.return));break;case 1:Xs(l,a),Ui(a),x&512&&(Mi||h===null||Ya(h,h.return)),x&64&&_r&&(a=a.updateQueue,a!==null&&(x=a.callbacks,x!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?x:h.concat(x))));break;case 26:var T=va;if(Xs(l,a),Ui(a),x&512&&(Mi||h===null||Ya(h,h.return)),x&4){var C=h!==null?h.memoizedState:null;if(x=a.memoizedState,h===null)if(x===null)if(a.stateNode===null){e:{x=a.type,h=a.memoizedProps,T=T.ownerDocument||T;t:switch(x){case"title":C=T.getElementsByTagName("title")[0],(!C||C[ci]||C[Ct]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=T.createElement(x),T.head.insertBefore(C,T.querySelector("head > title"))),aa(C,x,h),C[Ct]=a,ve(C),x=C;break e;case"link":var j=AA("link","href",T).get(x+(h.href||""));if(j){for(var q=0;q<j.length;q++)if(C=j[q],C.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&C.getAttribute("rel")===(h.rel==null?null:h.rel)&&C.getAttribute("title")===(h.title==null?null:h.title)&&C.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){j.splice(q,1);break t}}C=T.createElement(x),aa(C,x,h),T.head.appendChild(C);break;case"meta":if(j=AA("meta","content",T).get(x+(h.content||""))){for(q=0;q<j.length;q++)if(C=j[q],C.getAttribute("content")===(h.content==null?null:""+h.content)&&C.getAttribute("name")===(h.name==null?null:h.name)&&C.getAttribute("property")===(h.property==null?null:h.property)&&C.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&C.getAttribute("charset")===(h.charSet==null?null:h.charSet)){j.splice(q,1);break t}}C=T.createElement(x),aa(C,x,h),T.head.appendChild(C);break;default:throw Error(n(468,x))}C[Ct]=a,ve(C),x=C}a.stateNode=x}else CA(T,a.type,a.stateNode);else a.stateNode=EA(T,x,a.memoizedProps);else C!==x?(C===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):C.count--,x===null?CA(T,a.type,a.stateNode):EA(T,x,a.memoizedProps)):x===null&&a.stateNode!==null&&yr(a,a.memoizedProps,h.memoizedProps)}break;case 27:Xs(l,a),Ui(a),x&512&&(Mi||h===null||Ya(h,h.return)),h!==null&&x&4&&yr(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Xs(l,a),Ui(a),x&512&&(Mi||h===null||Ya(h,h.return)),a.flags&32){T=a.stateNode;try{Fr(T,"")}catch(Nt){di(a,a.return,Nt)}}x&4&&a.stateNode!=null&&(T=a.memoizedProps,yr(a,T,h!==null?h.memoizedProps:T)),x&1024&&(ul=!0);break;case 6:if(Xs(l,a),Ui(a),x&4){if(a.stateNode===null)throw Error(n(162));x=a.memoizedProps,h=a.stateNode;try{h.nodeValue=x}catch(Nt){di(a,a.return,Nt)}}break;case 3:if(r_=null,T=va,va=s_(l.containerInfo),Xs(l,a),va=T,Ui(a),x&4&&h!==null&&h.memoizedState.isDehydrated)try{Zp(l.containerInfo)}catch(Nt){di(a,a.return,Nt)}ul&&(ul=!1,Jy(a));break;case 4:x=va,va=s_(a.stateNode.containerInfo),Xs(l,a),Ui(a),va=x;break;case 12:Xs(l,a),Ui(a);break;case 31:Xs(l,a),Ui(a),x&4&&(x=a.updateQueue,x!==null&&(a.updateQueue=null,Fi(a,x)));break;case 13:Xs(l,a),Ui(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(pl=k()),x&4&&(x=a.updateQueue,x!==null&&(a.updateQueue=null,Fi(a,x)));break;case 22:T=a.memoizedState!==null;var le=h!==null&&h.memoizedState!==null,Ee=_r,Fe=Mi;if(_r=Ee||T,Mi=Fe||le,Xs(l,a),Mi=Fe,_r=Ee,Ui(a),x&8192)e:for(l=a.stateNode,l._visibility=T?l._visibility&-2:l._visibility|1,T&&(h===null||le||_r||Mi||Wc(a)),h=null,l=a;;){if(l.tag===5||l.tag===26){if(h===null){le=h=l;try{if(C=le.stateNode,T)j=C.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{q=le.stateNode;var qe=le.memoizedProps.style,De=qe!=null&&qe.hasOwnProperty("display")?qe.display:null;q.style.display=De==null||typeof De=="boolean"?"":(""+De).trim()}}catch(Nt){di(le,le.return,Nt)}}}else if(l.tag===6){if(h===null){le=l;try{le.stateNode.nodeValue=T?"":le.memoizedProps}catch(Nt){di(le,le.return,Nt)}}}else if(l.tag===18){if(h===null){le=l;try{var ze=le.stateNode;T?gA(ze,!0):gA(le.stateNode,!1)}catch(Nt){di(le,le.return,Nt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}x&4&&(x=a.updateQueue,x!==null&&(h=x.retryQueue,h!==null&&(x.retryQueue=null,Fi(a,h))));break;case 19:Xs(l,a),Ui(a),x&4&&(x=a.updateQueue,x!==null&&(a.updateQueue=null,Fi(a,x)));break;case 30:break;case 21:break;default:Xs(l,a),Ui(a)}}function Ui(a){var l=a.flags;if(l&2){try{for(var h,x=a.return;x!==null;){if(Ki(x)){h=x;break}x=x.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var T=h.stateNode,C=Do(a);qn(a,C,T);break;case 5:var j=h.stateNode;h.flags&32&&(Fr(j,""),h.flags&=-33);var q=Do(a);qn(a,q,j);break;case 3:case 4:var le=h.stateNode.containerInfo,Ee=Do(a);cn(a,Ee,le);break;default:throw Error(n(161))}}catch(Fe){di(a,a.return,Fe)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Jy(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;Jy(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function fl(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Ky(a,l.alternate,l),l=l.sibling}function Wc(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:vr(4,l,l.return),Wc(l);break;case 1:Ya(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&Px(l,l.return,h),Wc(l);break;case 27:Vx(l.stateNode);case 26:case 5:Ya(l,l.return),Wc(l);break;case 22:l.memoizedState===null&&Wc(l);break;case 30:Wc(l);break;default:Wc(l)}a=a.sibling}}function Qn(a,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var x=l.alternate,T=a,C=l,j=C.flags;switch(C.tag){case 0:case 11:case 15:Qn(T,C,h),No(4,C);break;case 1:if(Qn(T,C,h),x=C,T=x.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Ee){di(x,x.return,Ee)}if(x=C,T=x.updateQueue,T!==null){var q=x.stateNode;try{var le=T.shared.hiddenCallbacks;if(le!==null)for(T.shared.hiddenCallbacks=null,T=0;T<le.length;T++)wo(le[T],q)}catch(Ee){di(x,x.return,Ee)}}h&&j&64&&nc(C),Ro(C,C.return);break;case 27:ji(C);case 26:case 5:Qn(T,C,h),h&&x===null&&j&4&&Za(C),Ro(C,C.return);break;case 12:Qn(T,C,h);break;case 31:Qn(T,C,h),h&&j&4&&Ip(T,C);break;case 13:Qn(T,C,h),h&&j&4&&Bx(T,C);break;case 22:C.memoizedState===null&&Qn(T,C,h),Ro(C,C.return);break;case 30:break;default:Qn(T,C,h)}l=l.sibling}}function jp(a,l){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&As(h))}function dl(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&As(a))}function os(a,l,h,x){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Ai(a,l,h,x),l=l.sibling}function Ai(a,l,h,x){var T=l.flags;switch(l.tag){case 0:case 11:case 15:os(a,l,h,x),T&2048&&No(9,l);break;case 1:os(a,l,h,x);break;case 3:os(a,l,h,x),T&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&As(a)));break;case 12:if(T&2048){os(a,l,h,x),a=l.stateNode;try{var C=l.memoizedProps,j=C.id,q=C.onPostCommit;typeof q=="function"&&q(j,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(le){di(l,l.return,le)}}else os(a,l,h,x);break;case 31:os(a,l,h,x);break;case 13:os(a,l,h,x);break;case 23:break;case 22:C=l.stateNode,j=l.alternate,l.memoizedState!==null?C._visibility&2?os(a,l,h,x):$u(a,l):C._visibility&2?os(a,l,h,x):(C._visibility|=2,ac(a,l,h,x,(l.subtreeFlags&10256)!==0||!1)),T&2048&&jp(j,l);break;case 24:os(a,l,h,x),T&2048&&dl(l.alternate,l);break;default:os(a,l,h,x)}}function ac(a,l,h,x,T){for(T=T&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var C=a,j=l,q=h,le=x,Ee=j.flags;switch(j.tag){case 0:case 11:case 15:ac(C,j,q,le,T),No(8,j);break;case 23:break;case 22:var Fe=j.stateNode;j.memoizedState!==null?Fe._visibility&2?ac(C,j,q,le,T):$u(C,j):(Fe._visibility|=2,ac(C,j,q,le,T)),T&&Ee&2048&&jp(j.alternate,j);break;case 24:ac(C,j,q,le,T),T&&Ee&2048&&dl(j.alternate,j);break;default:ac(C,j,q,le,T)}l=l.sibling}}function $u(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=a,x=l,T=x.flags;switch(x.tag){case 22:$u(h,x),T&2048&&jp(x.alternate,x);break;case 24:$u(h,x),T&2048&&dl(x.alternate,x);break;default:$u(h,x)}l=l.sibling}}var zi=8192;function Yc(a,l,h){if(a.subtreeFlags&zi)for(a=a.child;a!==null;)Vi(a,l,h),a=a.sibling}function Vi(a,l,h){switch(a.tag){case 26:Yc(a,l,h),a.flags&zi&&a.memoizedState!==null&&z8(h,va,a.memoizedState,a.memoizedProps);break;case 5:Yc(a,l,h);break;case 3:case 4:var x=va;va=s_(a.stateNode.containerInfo),Yc(a,l,h),va=x;break;case 22:a.memoizedState===null&&(x=a.alternate,x!==null&&x.memoizedState!==null?(x=zi,zi=16777216,Yc(a,l,h),zi=x):Yc(a,l,h));break;default:Yc(a,l,h)}}function ya(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function ia(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var x=l[h];Oi=x,Pd(x,a)}ya(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Zc(a),a=a.sibling}function Zc(a){switch(a.tag){case 0:case 11:case 15:ia(a),a.flags&2048&&vr(9,a,a.return);break;case 3:ia(a);break;case 12:ia(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Fp(a)):ia(a);break;default:ia(a)}}function Fp(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var x=l[h];Oi=x,Pd(x,a)}ya(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:vr(8,l,l.return),Fp(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,Fp(l));break;default:Fp(l)}a=a.sibling}}function Pd(a,l){for(;Oi!==null;){var h=Oi;switch(h.tag){case 0:case 11:case 15:vr(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var x=h.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:As(h.memoizedState.cache)}if(x=h.child,x!==null)x.return=h,Oi=x;else e:for(h=a;Oi!==null;){x=Oi;var T=x.sibling,C=x.return;if(Bp(x),x===h){Oi=null;break e}if(T!==null){T.return=C,Oi=T;break e}Oi=C}}}var Vp={getCacheForType:function(a){var l=xs(Ft),h=l.data.get(a);return h===void 0&&(h=a(),l.data.set(a,h)),h},cacheSignal:function(){return xs(Ft).controller.signal}},kp=typeof WeakMap=="function"?WeakMap:Map,zn=0,Jn=null,un=null,En=0,Vt=0,bn=null,rn=!1,xn=!1,ri=!1,ki=0,$n=0,Ka=0,hl=0,Zr=0,Pn=0,Qa=0,Kr=null,qs=null,_a=!1,pl=0,ef=0,Ja=1/0,tf=null,Lo=null,Ci=0,Qr=null,$a=null,br=0,ml=0,Kc=null,Hp=null,Qc=0,Jc=null;function sa(){return(zn&2)!==0&&En!==0?En&-En:V.T!==null?m2():Zt()}function u(){if(Pn===0)if((En&536870912)===0||Rn){var a=Je;Je<<=1,(Je&3932160)===0&&(Je=262144),Pn=a}else Pn=536870912;return a=rs.current,a!==null&&(a.flags|=32),Pn}function f(a,l,h){(a===Jn&&(Vt===2||Vt===9)||a.cancelPendingCommit!==null)&&(Me(a,0),O(a,En,Pn,!1)),Et(a,h),((zn&2)===0||a!==Jn)&&(a===Jn&&((zn&2)===0&&(hl|=h),$n===4&&O(a,En,Pn,!1)),rc(a))}function v(a,l,h){if((zn&6)!==0)throw Error(n(327));var x=!h&&(l&127)===0&&(l&a.expiredLanes)===0||xt(a,l),T=x?$c(a,l):ba(a,l,!0),C=x;do{if(T===0){xn&&!x&&O(a,l,0,!1);break}else{if(h=a.current.alternate,C&&!N(h)){T=ba(a,l,!1),C=!1;continue}if(T===2){if(C=l,a.errorRecoveryDisabledLanes&C)var j=0;else j=a.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){l=j;e:{var q=a;T=Kr;var le=q.current.memoizedState.isDehydrated;if(le&&(Me(q,j).flags|=256),j=ba(q,j,!1),j!==2){if(ri&&!le){q.errorRecoveryDisabledLanes|=C,hl|=C,T=4;break e}C=qs,qs=T,C!==null&&(qs===null?qs=C:qs.push.apply(qs,C))}T=j}if(C=!1,T!==2)continue}}if(T===1){Me(a,0),O(a,l,0,!0);break}e:{switch(x=a,C=T,C){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:O(x,l,Pn,!rn);break e;case 2:qs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(T=pl+300-k(),10<T)){if(O(x,l,Pn,!rn),Ie(x,0,!0)!==0)break e;br=l,x.timeoutHandle=pA(w.bind(null,x,h,qs,tf,_a,l,Pn,hl,Qa,rn,C,"Throttled",-0,0),T);break e}w(x,h,qs,tf,_a,l,Pn,hl,Qa,rn,C,null,-0,0)}}break}while(!0);rc(a)}function w(a,l,h,x,T,C,j,q,le,Ee,Fe,qe,De,ze){if(a.timeoutHandle=-1,qe=l.subtreeFlags,qe&8192||(qe&16785408)===16785408){qe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xo},Vi(l,C,qe);var Nt=(C&62914560)===C?pl-k():(C&4194048)===C?ef-k():0;if(Nt=P8(qe,Nt),Nt!==null){br=C,a.cancelPendingCommit=Nt(Qt.bind(null,a,l,C,h,x,T,j,q,le,Fe,qe,null,De,ze)),O(a,C,j,!Ee);return}}Qt(a,l,C,h,x,T,j,q,le)}function N(a){for(var l=a;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var x=0;x<h.length;x++){var T=h[x],C=T.getSnapshot;T=T.value;try{if(!bi(C(),T))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function O(a,l,h,x){l&=~Zr,l&=~hl,a.suspendedLanes|=l,a.pingedLanes&=~l,x&&(a.warmLanes|=l),x=a.expirationTimes;for(var T=l;0<T;){var C=31-ut(T),j=1<<C;x[C]=-1,T&=~j}h!==0&&dt(a,h,l)}function Z(){return(zn&6)===0?(Ix(0),!1):!0}function oe(){if(un!==null){if(Vt===0)var a=un.return;else a=un,Vs=tl=null,px(a),Yl=null,Zl=0,a=un;for(;a!==null;)qc(a.alternate,a),a=a.return;un=null}}function Me(a,l){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,v8(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),br=0,oe(),Jn=a,un=h=yo(a.current,null),En=l,Vt=0,bn=null,rn=!1,xn=xt(a,l),ri=!1,Qa=Pn=Zr=hl=Ka=$n=0,qs=Kr=null,_a=!1,(l&8)!==0&&(l|=l&32);var x=a.entangledLanes;if(x!==0)for(a=a.entanglements,x&=l;0<x;){var T=31-ut(x),C=1<<T;l|=a[T],x&=~C}return ki=l,Vl(),h}function ke(a,l){Kt=null,V.H=Td,l===Wl||l===Xr?(l=gp(),Vt=3):l===pd?(l=gp(),Vt=4):Vt=l===Up?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,bn=l,un===null&&($n=1,Op(a,da(l,a.current)))}function rt(){var a=rs.current;return a===null?!0:(En&4194048)===En?mr===null:(En&62914560)===En||(En&536870912)!==0?a===mr:!1}function _t(){var a=V.H;return V.H=Td,a===null?Td:a}function Mt(){var a=V.A;return V.A=Vp,a}function sn(){$n=4,rn||(En&4194048)!==En&&rs.current!==null||(xn=!0),(Ka&134217727)===0&&(hl&134217727)===0||Jn===null||O(Jn,En,Pn,!1)}function ba(a,l,h){var x=zn;zn|=2;var T=_t(),C=Mt();(Jn!==a||En!==l)&&(tf=null,Me(a,l)),l=!1;var j=$n;e:do try{if(Vt!==0&&un!==null){var q=un,le=bn;switch(Vt){case 8:oe(),j=6;break e;case 3:case 2:case 9:case 6:rs.current===null&&(l=!0);var Ee=Vt;if(Vt=0,bn=null,$e(a,q,le,Ee),h&&xn){j=0;break e}break;default:Ee=Vt,Vt=0,bn=null,$e(a,q,le,Ee)}}Bd(),j=$n;break}catch(Fe){ke(a,Fe)}while(!0);return l&&a.shellSuspendCounter++,Vs=tl=null,zn=x,V.H=T,V.A=C,un===null&&(Jn=null,En=0,Vl()),j}function Bd(){for(;un!==null;)be(un)}function $c(a,l){var h=zn;zn|=2;var x=_t(),T=Mt();Jn!==a||En!==l?(tf=null,Ja=k()+500,Me(a,l)):xn=xt(a,l);e:do try{if(Vt!==0&&un!==null){l=un;var C=bn;t:switch(Vt){case 1:Vt=0,bn=null,$e(a,l,C,1);break;case 2:case 9:if(My(C)){Vt=0,bn=null,Le(l);break}l=function(){Vt!==2&&Vt!==9||Jn!==a||(Vt=7),rc(a)},C.then(l,l);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:My(C)?(Vt=0,bn=null,Le(l)):(Vt=0,bn=null,$e(a,l,C,7));break;case 5:var j=null;switch(un.tag){case 26:j=un.memoizedState;case 5:case 27:var q=un;if(j?NA(j):q.stateNode.complete){Vt=0,bn=null;var le=q.sibling;if(le!==null)un=le;else{var Ee=q.return;Ee!==null?(un=Ee,It(Ee)):un=null}break t}}Vt=0,bn=null,$e(a,l,C,5);break;case 6:Vt=0,bn=null,$e(a,l,C,6);break;case 8:oe(),$n=6;break e;default:throw Error(n(462))}}Ne();break}catch(Fe){ke(a,Fe)}while(!0);return Vs=tl=null,V.H=x,V.A=T,zn=h,un!==null?0:(Jn=null,En=0,Vl(),$n)}function Ne(){for(;un!==null&&!ct();)be(un)}function be(a){var l=zp(a.alternate,a,ki);a.memoizedProps=a.pendingProps,l===null?It(a):un=l}function Le(a){var l=a,h=l.alternate;switch(l.tag){case 15:case 0:l=Hs(h,l,l.pendingProps,l.type,void 0,En);break;case 11:l=Hs(h,l,l.pendingProps,l.type.render,l.ref,En);break;case 5:px(l);default:qc(h,l),l=un=Fs(l,ki),l=zp(h,l,ki)}a.memoizedProps=a.pendingProps,l===null?It(a):un=l}function $e(a,l,h,x){Vs=tl=null,px(l),Yl=null,Zl=0;var T=l.return;try{if(Ha(a,T,l,h,En)){$n=1,Op(a,da(h,a.current)),un=null;return}}catch(C){if(T!==null)throw un=T,C;$n=1,Op(a,da(h,a.current)),un=null;return}l.flags&32768?(Rn||x===1?a=!0:xn||(En&536870912)!==0?a=!1:(rn=a=!0,(x===2||x===9||x===3||x===6)&&(x=rs.current,x!==null&&x.tag===13&&(x.flags|=16384))),mi(l,a)):It(l)}function It(a){var l=a;do{if((l.flags&32768)!==0){mi(l,rn);return}a=l.return;var h=zx(l.alternate,l,ki);if(h!==null){un=h;return}if(l=l.sibling,l!==null){un=l;return}un=l=a}while(l!==null);$n===0&&($n=5)}function mi(a,l){do{var h=Pp(a.alternate,a);if(h!==null){h.flags&=32767,un=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(a=a.sibling,a!==null)){un=a;return}un=a=h}while(a!==null);$n=6,un=null}function Qt(a,l,h,x,T,C,j,q,le){a.cancelPendingCommit=null;do Gp();while(Ci!==0);if((zn&6)!==0)throw Error(n(327));if(l!==null){if(l===a.current)throw Error(n(177));if(C=l.lanes|l.childLanes,C|=cp,en(a,h,C,j,q,le),a===Jn&&(un=Jn=null,En=0),$a=l,Qr=a,br=h,ml=C,Kc=T,Hp=x,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,a8(Re,function(){return QE(),null})):(a.callbackNode=null,a.callbackPriority=0),x=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||x){x=V.T,V.T=null,T=X.p,X.p=2,j=zn,zn|=4;try{Ju(a,l,h)}finally{zn=j,X.p=T,V.T=x}}Ci=1,kn(),ls(),Hn()}}function kn(){if(Ci===1){Ci=0;var a=Qr,l=$a,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=V.T,V.T=null;var x=X.p;X.p=2;var T=zn;zn|=4;try{sc(l,a);var C=M2,j=sp(a.containerInfo),q=C.focusedElem,le=C.selectionRange;if(j!==q&&q&&q.ownerDocument&&ip(q.ownerDocument.documentElement,q)){if(le!==null&&Du(q)){var Ee=le.start,Fe=le.end;if(Fe===void 0&&(Fe=Ee),"selectionStart"in q)q.selectionStart=Ee,q.selectionEnd=Math.min(Fe,q.value.length);else{var qe=q.ownerDocument||document,De=qe&&qe.defaultView||window;if(De.getSelection){var ze=De.getSelection(),Nt=q.textContent.length,Wt=Math.min(le.start,Nt),gi=le.end===void 0?Wt:Math.min(le.end,Nt);!ze.extend&&Wt>gi&&(j=gi,gi=Wt,Wt=j);var Se=H0(q,Wt),de=H0(q,gi);if(Se&&de&&(ze.rangeCount!==1||ze.anchorNode!==Se.node||ze.anchorOffset!==Se.offset||ze.focusNode!==de.node||ze.focusOffset!==de.offset)){var we=qe.createRange();we.setStart(Se.node,Se.offset),ze.removeAllRanges(),Wt>gi?(ze.addRange(we),ze.extend(de.node,de.offset)):(we.setEnd(de.node,de.offset),ze.addRange(we))}}}}for(qe=[],ze=q;ze=ze.parentNode;)ze.nodeType===1&&qe.push({element:ze,left:ze.scrollLeft,top:ze.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<qe.length;q++){var Ge=qe[q];Ge.element.scrollLeft=Ge.left,Ge.element.scrollTop=Ge.top}}u_=!!S2,M2=S2=null}finally{zn=T,X.p=x,V.T=h}}a.current=l,Ci=2}}function ls(){if(Ci===2){Ci=0;var a=Qr,l=$a,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=V.T,V.T=null;var x=X.p;X.p=2;var T=zn;zn|=4;try{Ky(a,l.alternate,l)}finally{zn=T,X.p=x,V.T=h}}Ci=3}}function Hn(){if(Ci===4||Ci===3){Ci=0,$();var a=Qr,l=$a,h=br,x=Hp;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Ci=5:(Ci=0,$a=Qr=null,xl(a,a.pendingLanes));var T=a.pendingLanes;if(T===0&&(Lo=null),li(h),l=l.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Ae,l,void 0,(l.current.flags&128)===128)}catch{}if(x!==null){l=V.T,T=X.p,X.p=2,V.T=null;try{for(var C=a.onRecoverableError,j=0;j<x.length;j++){var q=x[j];C(q.value,{componentStack:q.stack})}}finally{V.T=l,X.p=T}}(br&3)!==0&&Gp(),rc(a),T=a.pendingLanes,(h&261930)!==0&&(T&42)!==0?a===Jc?Qc++:(Qc=0,Jc=a):Qc=0,Ix(0)}}function xl(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,As(l)))}function Gp(){return kn(),ls(),Hn(),QE()}function QE(){if(Ci!==5)return!1;var a=Qr,l=ml;ml=0;var h=li(br),x=V.T,T=X.p;try{X.p=32>h?32:h,V.T=null,h=Kc,Kc=null;var C=Qr,j=br;if(Ci=0,$a=Qr=null,br=0,(zn&6)!==0)throw Error(n(331));var q=zn;if(zn|=4,Zc(C.current),Ai(C,C.current,j,h),zn=q,Ix(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Ae,C)}catch{}return!0}finally{X.p=T,V.T=x,xl(a,l)}}function JE(a,l,h){l=da(h,l),l=Ux(a.stateNode,l,2),a=al(a,l,2),a!==null&&(Et(a,2),rc(a))}function di(a,l,h){if(a.tag===3)JE(a,a,h);else for(;l!==null;){if(l.tag===3){JE(l,a,h);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Lo===null||!Lo.has(x))){a=da(h,a),h=Wu(2),x=al(l,h,2),x!==null&&(xa(h,x,l,a),Et(x,2),rc(x));break}}l=l.return}}function d2(a,l,h){var x=a.pingCache;if(x===null){x=a.pingCache=new kp;var T=new Set;x.set(l,T)}else T=x.get(l),T===void 0&&(T=new Set,x.set(l,T));T.has(h)||(ri=!0,T.add(h),a=n8.bind(null,a,l,h),l.then(a,a))}function n8(a,l,h){var x=a.pingCache;x!==null&&x.delete(l),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,Jn===a&&(En&h)===h&&($n===4||$n===3&&(En&62914560)===En&&300>k()-pl?(zn&2)===0&&Me(a,0):Zr|=h,Qa===En&&(Qa=0)),rc(a)}function $E(a,l){l===0&&(l=yn()),a=kl(a,l),a!==null&&(Et(a,l),rc(a))}function i8(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),$E(a,h)}function s8(a,l){var h=0;switch(a.tag){case 31:case 13:var x=a.stateNode,T=a.memoizedState;T!==null&&(h=T.retryLane);break;case 19:x=a.stateNode;break;case 22:x=a.stateNode._retryCache;break;default:throw Error(n(314))}x!==null&&x.delete(l),$E(a,h)}function a8(a,l){return at(a,l)}var $y=null,Xp=null,h2=!1,e_=!1,p2=!1,nf=0;function rc(a){a!==Xp&&a.next===null&&(Xp===null?$y=Xp=a:Xp=Xp.next=a),e_=!0,h2||(h2=!0,o8())}function Ix(a,l){if(!p2&&e_){p2=!0;do for(var h=!1,x=$y;x!==null;){if(a!==0){var T=x.pendingLanes;if(T===0)var C=0;else{var j=x.suspendedLanes,q=x.pingedLanes;C=(1<<31-ut(42|a)+1)-1,C&=T&~(j&~q),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(h=!0,iA(x,C))}else C=En,C=Ie(x,x===Jn?C:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(C&3)===0||xt(x,C)||(h=!0,iA(x,C));x=x.next}while(h);p2=!1}}function r8(){eA()}function eA(){e_=h2=!1;var a=0;nf!==0&&g8()&&(a=nf);for(var l=k(),h=null,x=$y;x!==null;){var T=x.next,C=tA(x,l);C===0?(x.next=null,h===null?$y=T:h.next=T,T===null&&(Xp=h)):(h=x,(a!==0||(C&3)!==0)&&(e_=!0)),x=T}Ci!==0&&Ci!==5||Ix(a),nf!==0&&(nf=0)}function tA(a,l){for(var h=a.suspendedLanes,x=a.pingedLanes,T=a.expirationTimes,C=a.pendingLanes&-62914561;0<C;){var j=31-ut(C),q=1<<j,le=T[j];le===-1?((q&h)===0||(q&x)!==0)&&(T[j]=zt(q,l)):le<=l&&(a.expiredLanes|=q),C&=~q}if(l=Jn,h=En,h=Ie(a,a===l?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),x=a.callbackNode,h===0||a===l&&(Vt===2||Vt===9)||a.cancelPendingCommit!==null)return x!==null&&x!==null&&Ye(x),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||xt(a,h)){if(l=h&-h,l===a.callbackPriority)return l;switch(x!==null&&Ye(x),li(h)){case 2:case 8:h=Be;break;case 32:h=Re;break;case 268435456:h=nt;break;default:h=Re}return x=nA.bind(null,a),h=at(h,x),a.callbackPriority=l,a.callbackNode=h,l}return x!==null&&x!==null&&Ye(x),a.callbackPriority=2,a.callbackNode=null,2}function nA(a,l){if(Ci!==0&&Ci!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(Gp()&&a.callbackNode!==h)return null;var x=En;return x=Ie(a,a===Jn?x:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),x===0?null:(v(a,x,l),tA(a,k()),a.callbackNode!=null&&a.callbackNode===h?nA.bind(null,a):null)}function iA(a,l){if(Gp())return null;v(a,l,!0)}function o8(){y8(function(){(zn&6)!==0?at(Ue,r8):eA()})}function m2(){if(nf===0){var a=sl;a===0&&(a=st,st<<=1,(st&261888)===0&&(st=256)),nf=a}return nf}function sA(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Zf(""+a)}function aA(a,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,a.id&&h.setAttribute("form",a.id),l.parentNode.insertBefore(h,l),a=new FormData(a),h.parentNode.removeChild(h),a}function l8(a,l,h,x,T){if(l==="submit"&&h&&h.stateNode===T){var C=sA((T[tn]||null).action),j=x.submitter;j&&(l=(l=j[tn]||null)?sA(l.formAction):j.getAttribute("formAction"),l!==null&&(C=l,j=null));var q=new $f("action","action",null,x,T);a.push({event:q,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(nf!==0){var le=j?aA(T,j):new FormData(T);Nx(h,{pending:!0,data:le,method:T.method,action:C},null,le)}}else typeof C=="function"&&(q.preventDefault(),le=j?aA(T,j):new FormData(T),Nx(h,{pending:!0,data:le,method:T.method,action:C},C,le))},currentTarget:T}]})}}for(var x2=0;x2<lp.length;x2++){var g2=lp[x2],c8=g2.toLowerCase(),u8=g2[0].toUpperCase()+g2.slice(1);js(c8,"on"+u8)}js(fa,"onAnimationEnd"),js(G0,"onAnimationIteration"),js(vo,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(zu,"onTransitionRun"),js(jl,"onTransitionStart"),js(X0,"onTransitionCancel"),js(op,"onTransitionEnd"),yt("onMouseEnter",["mouseout","mouseover"]),yt("onMouseLeave",["mouseout","mouseover"]),yt("onPointerEnter",["pointerout","pointerover"]),yt("onPointerLeave",["pointerout","pointerover"]),lt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),lt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),lt("onBeforeInput",["compositionend","keypress","textInput","paste"]),lt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),lt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),lt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jx));function rA(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var x=a[h],T=x.event;x=x.listeners;e:{var C=void 0;if(l)for(var j=x.length-1;0<=j;j--){var q=x[j],le=q.instance,Ee=q.currentTarget;if(q=q.listener,le!==C&&T.isPropagationStopped())break e;C=q,T.currentTarget=Ee;try{C(T)}catch(Fe){Fl(Fe)}T.currentTarget=null,C=le}else for(j=0;j<x.length;j++){if(q=x[j],le=q.instance,Ee=q.currentTarget,q=q.listener,le!==C&&T.isPropagationStopped())break e;C=q,T.currentTarget=Ee;try{C(T)}catch(Fe){Fl(Fe)}T.currentTarget=null,C=le}}}}function Dn(a,l){var h=l[ns];h===void 0&&(h=l[ns]=new Set);var x=a+"__bubble";h.has(x)||(oA(l,a,2,!1),h.add(x))}function v2(a,l,h){var x=0;l&&(x|=4),oA(h,a,x,l)}var t_="_reactListening"+Math.random().toString(36).slice(2);function y2(a){if(!a[t_]){a[t_]=!0,me.forEach(function(h){h!=="selectionchange"&&(f8.has(h)||v2(h,!1,a),v2(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[t_]||(l[t_]=!0,v2("selectionchange",!1,l))}}function oA(a,l,h,x){switch(PA(l)){case 2:var T=j8;break;case 8:T=F8;break;default:T=U2}h=T.bind(null,l,h,a),T=void 0,!Wh||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(T=!0),x?T!==void 0?a.addEventListener(l,h,{capture:!0,passive:T}):a.addEventListener(l,h,!0):T!==void 0?a.addEventListener(l,h,{passive:T}):a.addEventListener(l,h,!1)}function _2(a,l,h,x,T){var C=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var j=x.tag;if(j===3||j===4){var q=x.stateNode.containerInfo;if(q===T)break;if(j===4)for(j=x.return;j!==null;){var le=j.tag;if((le===3||le===4)&&j.stateNode.containerInfo===T)return;j=j.return}for(;q!==null;){if(j=_n(q),j===null)return;if(le=j.tag,le===5||le===6||le===26||le===27){x=C=j;continue e}q=q.parentNode}}x=x.return}E0(function(){var Ee=C,Fe=Xh(h),qe=[];e:{var De=Qo.get(a);if(De!==void 0){var ze=$f,Nt=a;switch(a){case"keypress":if(Nc(h)===0)break e;case"keydown":case"keyup":ze=O0;break;case"focusin":Nt="focus",ze=Jh;break;case"focusout":Nt="blur",ze=Jh;break;case"beforeblur":case"afterblur":ze=Jh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=ey;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=ty;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=Zo;break;case fa:case G0:case vo:ze=sy;break;case op:ze=s2;break;case"scroll":case"scrollend":ze=Kh;break;case"wheel":ze=Ol;break;case"copy":case"cut":case"paste":ze=C0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=$h;break;case"toggle":case"beforetoggle":ze=z0}var Wt=(l&4)!==0,gi=!Wt&&(a==="scroll"||a==="scrollend"),Se=Wt?De!==null?De+"Capture":null:De;Wt=[];for(var de=Ee,we;de!==null;){var Ge=de;if(we=Ge.stateNode,Ge=Ge.tag,Ge!==5&&Ge!==26&&Ge!==27||we===null||Se===null||(Ge=Cc(de,Se),Ge!=null&&Wt.push(Fx(de,Ge,we))),gi)break;de=de.return}0<Wt.length&&(De=new ze(De,Nt,null,h,Fe),qe.push({event:De,listeners:Wt}))}}if((l&7)===0){e:{if(De=a==="mouseover"||a==="pointerover",ze=a==="mouseout"||a==="pointerout",De&&h!==Kf&&(Nt=h.relatedTarget||h.fromElement)&&(_n(Nt)||Nt[mn]))break e;if((ze||De)&&(De=Fe.window===Fe?Fe:(De=Fe.ownerDocument)?De.defaultView||De.parentWindow:window,ze?(Nt=h.relatedTarget||h.toElement,ze=Ee,Nt=Nt?_n(Nt):null,Nt!==null&&(gi=r(Nt),Wt=Nt.tag,Nt!==gi||Wt!==5&&Wt!==27&&Wt!==6)&&(Nt=null)):(ze=null,Nt=Ee),ze!==Nt)){if(Wt=ey,Ge="onMouseLeave",Se="onMouseEnter",de="mouse",(a==="pointerout"||a==="pointerover")&&(Wt=$h,Ge="onPointerLeave",Se="onPointerEnter",de="pointer"),gi=ze==null?De:ge(ze),we=Nt==null?De:ge(Nt),De=new Wt(Ge,de+"leave",ze,h,Fe),De.target=gi,De.relatedTarget=we,Ge=null,_n(Fe)===Ee&&(Wt=new Wt(Se,de+"enter",Nt,h,Fe),Wt.target=we,Wt.relatedTarget=gi,Ge=Wt),gi=Ge,ze&&Nt)t:{for(Wt=d8,Se=ze,de=Nt,we=0,Ge=Se;Ge;Ge=Wt(Ge))we++;Ge=0;for(var Ht=de;Ht;Ht=Wt(Ht))Ge++;for(;0<we-Ge;)Se=Wt(Se),we--;for(;0<Ge-we;)de=Wt(de),Ge--;for(;we--;){if(Se===de||de!==null&&Se===de.alternate){Wt=Se;break t}Se=Wt(Se),de=Wt(de)}Wt=null}else Wt=null;ze!==null&&lA(qe,De,ze,Wt,!1),Nt!==null&&gi!==null&&lA(qe,gi,Nt,Wt,!0)}}e:{if(De=Ee?ge(Ee):window,ze=De.nodeName&&De.nodeName.toLowerCase(),ze==="select"||ze==="input"&&De.type==="file")var ei=F0;else if(I0(De))if(ad)ei=my;else{ei=Pl;var Bt=rd}else ze=De.nodeName,!ze||ze.toLowerCase()!=="input"||De.type!=="checkbox"&&De.type!=="radio"?Ee&&Yf(Ee.elementType)&&(ei=F0):ei=py;if(ei&&(ei=ei(a,Ee))){np(qe,ei,h,Fe);break e}Bt&&Bt(a,De,Ee),a==="focusout"&&Ee&&De.type==="number"&&Ee.memoizedProps.value!=null&&is(De,"number",De.value)}switch(Bt=Ee?ge(Ee):window,a){case"focusin":(I0(Bt)||Bt.contentEditable==="true")&&(Lu=Bt,ap=Ee,Ou=null);break;case"focusout":Ou=ap=Lu=null;break;case"mousedown":Ia=!0;break;case"contextmenu":case"mouseup":case"dragend":Ia=!1,rp(qe,h,Fe);break;case"selectionchange":if(xy)break;case"keydown":case"keyup":rp(qe,h,Fe)}var gn;if(Rc)e:{switch(a){case"compositionstart":var Bn="onCompositionStart";break e;case"compositionend":Bn="onCompositionEnd";break e;case"compositionupdate":Bn="onCompositionUpdate";break e}Bn=void 0}else zl?ep(a,h)&&(Bn="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(Bn="onCompositionStart");Bn&&(Es&&h.locale!=="ko"&&(zl||Bn!=="onCompositionStart"?Bn==="onCompositionEnd"&&zl&&(gn=Zh()):(Rl=Fe,Yh="value"in Rl?Rl.value:Rl.textContent,zl=!0)),Bt=n_(Ee,Bn),0<Bt.length&&(Bn=new N0(Bn,a,null,h,Fe),qe.push({event:Bn,listeners:Bt}),gn?Bn.data=gn:(gn=Eu(h),gn!==null&&(Bn.data=gn)))),(gn=Dc?tp(a,h):fy(a,h))&&(Bn=n_(Ee,"onBeforeInput"),0<Bn.length&&(Bt=new N0("onBeforeInput","beforeinput",null,h,Fe),qe.push({event:Bt,listeners:Bn}),Bt.data=gn)),l8(qe,a,Ee,h,Fe)}rA(qe,l)})}function Fx(a,l,h){return{instance:a,listener:l,currentTarget:h}}function n_(a,l){for(var h=l+"Capture",x=[];a!==null;){var T=a,C=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||C===null||(T=Cc(a,h),T!=null&&x.unshift(Fx(a,T,C)),T=Cc(a,l),T!=null&&x.push(Fx(a,T,C))),a.tag===3)return x;a=a.return}return[]}function d8(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function lA(a,l,h,x,T){for(var C=l._reactName,j=[];h!==null&&h!==x;){var q=h,le=q.alternate,Ee=q.stateNode;if(q=q.tag,le!==null&&le===x)break;q!==5&&q!==26&&q!==27||Ee===null||(le=Ee,T?(Ee=Cc(h,C),Ee!=null&&j.unshift(Fx(h,Ee,le))):T||(Ee=Cc(h,C),Ee!=null&&j.push(Fx(h,Ee,le)))),h=h.return}j.length!==0&&a.push({event:l,listeners:j})}var h8=/\r\n?/g,p8=/\u0000|\uFFFD/g;function cA(a){return(typeof a=="string"?a:""+a).replace(h8,`
`).replace(p8,"")}function uA(a,l){return l=cA(l),cA(a)===l}function xi(a,l,h,x,T,C){switch(h){case"children":typeof x=="string"?l==="body"||l==="textarea"&&x===""||Fr(a,x):(typeof x=="number"||typeof x=="bigint")&&l!=="body"&&Fr(a,""+x);break;case"className":On(a,"class",x);break;case"tabIndex":On(a,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":On(a,h,x);break;case"style":T0(a,x,C);break;case"data":if(l!=="object"){On(a,"data",x);break}case"src":case"href":if(x===""&&(l!=="a"||h!=="href")){a.removeAttribute(h);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){a.removeAttribute(h);break}x=Zf(""+x),a.setAttribute(h,x);break;case"action":case"formAction":if(typeof x=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(h==="formAction"?(l!=="input"&&xi(a,l,"name",T.name,T,null),xi(a,l,"formEncType",T.formEncType,T,null),xi(a,l,"formMethod",T.formMethod,T,null),xi(a,l,"formTarget",T.formTarget,T,null)):(xi(a,l,"encType",T.encType,T,null),xi(a,l,"method",T.method,T,null),xi(a,l,"target",T.target,T,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){a.removeAttribute(h);break}x=Zf(""+x),a.setAttribute(h,x);break;case"onClick":x!=null&&(a.onclick=xo);break;case"onScroll":x!=null&&Dn("scroll",a);break;case"onScrollEnd":x!=null&&Dn("scrollend",a);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(h=x.__html,h!=null){if(T.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"multiple":a.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":a.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){a.removeAttribute("xlink:href");break}h=Zf(""+x),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?a.setAttribute(h,""+x):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":x===!0?a.setAttribute(h,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?a.setAttribute(h,x):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?a.setAttribute(h,x):a.removeAttribute(h);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?a.removeAttribute(h):a.setAttribute(h,x);break;case"popover":Dn("beforetoggle",a),Dn("toggle",a),on(a,"popover",x);break;case"xlinkActuate":Un(a,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Un(a,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Un(a,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Un(a,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Un(a,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Un(a,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Un(a,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Un(a,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Un(a,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":on(a,"is",x);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Jv.get(h)||h,on(a,h,x))}}function b2(a,l,h,x,T,C){switch(h){case"style":T0(a,x,C);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(h=x.__html,h!=null){if(T.children!=null)throw Error(n(60));a.innerHTML=h}}break;case"children":typeof x=="string"?Fr(a,x):(typeof x=="number"||typeof x=="bigint")&&Fr(a,""+x);break;case"onScroll":x!=null&&Dn("scroll",a);break;case"onScrollEnd":x!=null&&Dn("scrollend",a);break;case"onClick":x!=null&&(a.onclick=xo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!it.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(T=h.endsWith("Capture"),l=h.slice(2,T?h.length-7:void 0),C=a[tn]||null,C=C!=null?C[h]:null,typeof C=="function"&&a.removeEventListener(l,C,T),typeof x=="function")){typeof C!="function"&&C!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(l,x,T);break e}h in a?a[h]=x:x===!0?a.setAttribute(h,""):on(a,h,x)}}}function aa(a,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dn("error",a),Dn("load",a);var x=!1,T=!1,C;for(C in h)if(h.hasOwnProperty(C)){var j=h[C];if(j!=null)switch(C){case"src":x=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:xi(a,l,C,j,h,null)}}T&&xi(a,l,"srcSet",h.srcSet,h,null),x&&xi(a,l,"src",h.src,h,null);return;case"input":Dn("invalid",a);var q=C=j=T=null,le=null,Ee=null;for(x in h)if(h.hasOwnProperty(x)){var Fe=h[x];if(Fe!=null)switch(x){case"name":T=Fe;break;case"type":j=Fe;break;case"checked":le=Fe;break;case"defaultChecked":Ee=Fe;break;case"value":C=Fe;break;case"defaultValue":q=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(n(137,l));break;default:xi(a,l,x,Fe,h,null)}}fi(a,C,q,le,Ee,j,T,!1);return;case"select":Dn("invalid",a),x=j=C=null;for(T in h)if(h.hasOwnProperty(T)&&(q=h[T],q!=null))switch(T){case"value":C=q;break;case"defaultValue":j=q;break;case"multiple":x=q;default:xi(a,l,T,q,h,null)}l=C,h=j,a.multiple=!!x,l!=null?ss(a,!!x,l,!1):h!=null&&ss(a,!!x,h,!0);return;case"textarea":Dn("invalid",a),C=T=x=null;for(j in h)if(h.hasOwnProperty(j)&&(q=h[j],q!=null))switch(j){case"value":x=q;break;case"defaultValue":T=q;break;case"children":C=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(n(91));break;default:xi(a,l,j,q,h,null)}Ni(a,x,T,C);return;case"option":for(le in h)if(h.hasOwnProperty(le)&&(x=h[le],x!=null))switch(le){case"selected":a.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:xi(a,l,le,x,h,null)}return;case"dialog":Dn("beforetoggle",a),Dn("toggle",a),Dn("cancel",a),Dn("close",a);break;case"iframe":case"object":Dn("load",a);break;case"video":case"audio":for(x=0;x<jx.length;x++)Dn(jx[x],a);break;case"image":Dn("error",a),Dn("load",a);break;case"details":Dn("toggle",a);break;case"embed":case"source":case"link":Dn("error",a),Dn("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in h)if(h.hasOwnProperty(Ee)&&(x=h[Ee],x!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:xi(a,l,Ee,x,h,null)}return;default:if(Yf(l)){for(Fe in h)h.hasOwnProperty(Fe)&&(x=h[Fe],x!==void 0&&b2(a,l,Fe,x,h,void 0));return}}for(q in h)h.hasOwnProperty(q)&&(x=h[q],x!=null&&xi(a,l,q,x,h,null))}function m8(a,l,h,x){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,C=null,j=null,q=null,le=null,Ee=null,Fe=null;for(ze in h){var qe=h[ze];if(h.hasOwnProperty(ze)&&qe!=null)switch(ze){case"checked":break;case"value":break;case"defaultValue":le=qe;default:x.hasOwnProperty(ze)||xi(a,l,ze,null,x,qe)}}for(var De in x){var ze=x[De];if(qe=h[De],x.hasOwnProperty(De)&&(ze!=null||qe!=null))switch(De){case"type":C=ze;break;case"name":T=ze;break;case"checked":Ee=ze;break;case"defaultChecked":Fe=ze;break;case"value":j=ze;break;case"defaultValue":q=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(n(137,l));break;default:ze!==qe&&xi(a,l,De,ze,x,qe)}}mo(a,j,q,le,Ee,Fe,C,T);return;case"select":ze=j=q=De=null;for(C in h)if(le=h[C],h.hasOwnProperty(C)&&le!=null)switch(C){case"value":break;case"multiple":ze=le;default:x.hasOwnProperty(C)||xi(a,l,C,null,x,le)}for(T in x)if(C=x[T],le=h[T],x.hasOwnProperty(T)&&(C!=null||le!=null))switch(T){case"value":De=C;break;case"defaultValue":q=C;break;case"multiple":j=C;default:C!==le&&xi(a,l,T,C,x,le)}l=q,h=j,x=ze,De!=null?ss(a,!!h,De,!1):!!x!=!!h&&(l!=null?ss(a,!!h,l,!0):ss(a,!!h,h?[]:"",!1));return;case"textarea":ze=De=null;for(q in h)if(T=h[q],h.hasOwnProperty(q)&&T!=null&&!x.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:xi(a,l,q,null,x,T)}for(j in x)if(T=x[j],C=h[j],x.hasOwnProperty(j)&&(T!=null||C!=null))switch(j){case"value":De=T;break;case"defaultValue":ze=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==C&&xi(a,l,j,T,x,C)}as(a,De,ze);return;case"option":for(var Nt in h)if(De=h[Nt],h.hasOwnProperty(Nt)&&De!=null&&!x.hasOwnProperty(Nt))switch(Nt){case"selected":a.selected=!1;break;default:xi(a,l,Nt,null,x,De)}for(le in x)if(De=x[le],ze=h[le],x.hasOwnProperty(le)&&De!==ze&&(De!=null||ze!=null))switch(le){case"selected":a.selected=De&&typeof De!="function"&&typeof De!="symbol";break;default:xi(a,l,le,De,x,ze)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Wt in h)De=h[Wt],h.hasOwnProperty(Wt)&&De!=null&&!x.hasOwnProperty(Wt)&&xi(a,l,Wt,null,x,De);for(Ee in x)if(De=x[Ee],ze=h[Ee],x.hasOwnProperty(Ee)&&De!==ze&&(De!=null||ze!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(n(137,l));break;default:xi(a,l,Ee,De,x,ze)}return;default:if(Yf(l)){for(var gi in h)De=h[gi],h.hasOwnProperty(gi)&&De!==void 0&&!x.hasOwnProperty(gi)&&b2(a,l,gi,void 0,x,De);for(Fe in x)De=x[Fe],ze=h[Fe],!x.hasOwnProperty(Fe)||De===ze||De===void 0&&ze===void 0||b2(a,l,Fe,De,x,ze);return}}for(var Se in h)De=h[Se],h.hasOwnProperty(Se)&&De!=null&&!x.hasOwnProperty(Se)&&xi(a,l,Se,null,x,De);for(qe in x)De=x[qe],ze=h[qe],!x.hasOwnProperty(qe)||De===ze||De==null&&ze==null||xi(a,l,qe,De,x,ze)}function fA(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x8(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,h=performance.getEntriesByType("resource"),x=0;x<h.length;x++){var T=h[x],C=T.transferSize,j=T.initiatorType,q=T.duration;if(C&&q&&fA(j)){for(j=0,q=T.responseEnd,x+=1;x<h.length;x++){var le=h[x],Ee=le.startTime;if(Ee>q)break;var Fe=le.transferSize,qe=le.initiatorType;Fe&&fA(qe)&&(le=le.responseEnd,j+=Fe*(le<q?1:(q-Ee)/(le-Ee)))}if(--x,l+=8*(C+j)/(T.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var S2=null,M2=null;function i_(a){return a.nodeType===9?a:a.ownerDocument}function dA(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hA(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function T2(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var w2=null;function g8(){var a=window.event;return a&&a.type==="popstate"?a===w2?!1:(w2=a,!0):(w2=null,!1)}var pA=typeof setTimeout=="function"?setTimeout:void 0,v8=typeof clearTimeout=="function"?clearTimeout:void 0,mA=typeof Promise=="function"?Promise:void 0,y8=typeof queueMicrotask=="function"?queueMicrotask:typeof mA<"u"?function(a){return mA.resolve(null).then(a).catch(_8)}:pA;function _8(a){setTimeout(function(){throw a})}function sf(a){return a==="head"}function xA(a,l){var h=l,x=0;do{var T=h.nextSibling;if(a.removeChild(h),T&&T.nodeType===8)if(h=T.data,h==="/$"||h==="/&"){if(x===0){a.removeChild(T),Zp(l);return}x--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")x++;else if(h==="html")Vx(a.ownerDocument.documentElement);else if(h==="head"){h=a.ownerDocument.head,Vx(h);for(var C=h.firstChild;C;){var j=C.nextSibling,q=C.nodeName;C[ci]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=j}}else h==="body"&&Vx(a.ownerDocument.body);h=T}while(h);Zp(l)}function gA(a,l){var h=a;a=0;do{var x=h.nextSibling;if(h.nodeType===1?l?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(l?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(a===0)break;a--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||a++;h=x}while(h)}function E2(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":E2(h),yi(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function b8(a,l,h,x){for(;a.nodeType===1;){var T=h;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!x&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(x){if(!a[ci])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(C=a.getAttribute("rel"),C==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(C!==T.rel||a.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||a.getAttribute("title")!==(T.title==null?null:T.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(C=a.getAttribute("src"),(C!==(T.src==null?null:T.src)||a.getAttribute("type")!==(T.type==null?null:T.type)||a.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&C&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var C=T.name==null?null:""+T.name;if(T.type==="hidden"&&a.getAttribute("name")===C)return a}else return a;if(a=Oo(a.nextSibling),a===null)break}return null}function S8(a,l,h){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=Oo(a.nextSibling),a===null))return null;return a}function vA(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=Oo(a.nextSibling),a===null))return null;return a}function A2(a){return a.data==="$?"||a.data==="$~"}function C2(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function M8(a,l){var h=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||h.readyState!=="loading")l();else{var x=function(){l(),h.removeEventListener("DOMContentLoaded",x)};h.addEventListener("DOMContentLoaded",x),a._reactRetry=x}}function Oo(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var N2=null;function yA(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"||h==="/&"){if(l===0)return Oo(a.nextSibling);l--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||l++}a=a.nextSibling}return null}function _A(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(l===0)return a;l--}else h!=="/$"&&h!=="/&"||l++}a=a.previousSibling}return null}function bA(a,l,h){switch(l=i_(h),a){case"html":if(a=l.documentElement,!a)throw Error(n(452));return a;case"head":if(a=l.head,!a)throw Error(n(453));return a;case"body":if(a=l.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Vx(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);yi(a)}var Uo=new Map,SA=new Set;function s_(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var eu=X.d;X.d={f:T8,r:w8,D:E8,C:A8,L:C8,m:N8,X:D8,S:R8,M:L8};function T8(){var a=eu.f(),l=Z();return a||l}function w8(a){var l=G(a);l!==null&&l.tag===5&&l.type==="form"?Rx(l):eu.r(a)}var qp=typeof document>"u"?null:document;function MA(a,l,h){var x=qp;if(x&&typeof l=="string"&&l){var T=ui(l);T='link[rel="'+a+'"][href="'+T+'"]',typeof h=="string"&&(T+='[crossorigin="'+h+'"]'),SA.has(T)||(SA.add(T),a={rel:a,crossOrigin:h,href:l},x.querySelector(T)===null&&(l=x.createElement("link"),aa(l,"link",a),ve(l),x.head.appendChild(l)))}}function E8(a){eu.D(a),MA("dns-prefetch",a,null)}function A8(a,l){eu.C(a,l),MA("preconnect",a,l)}function C8(a,l,h){eu.L(a,l,h);var x=qp;if(x&&a&&l){var T='link[rel="preload"][as="'+ui(l)+'"]';l==="image"&&h&&h.imageSrcSet?(T+='[imagesrcset="'+ui(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(T+='[imagesizes="'+ui(h.imageSizes)+'"]')):T+='[href="'+ui(a)+'"]';var C=T;switch(l){case"style":C=Wp(a);break;case"script":C=Yp(a)}Uo.has(C)||(a=g({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:a,as:l},h),Uo.set(C,a),x.querySelector(T)!==null||l==="style"&&x.querySelector(kx(C))||l==="script"&&x.querySelector(Hx(C))||(l=x.createElement("link"),aa(l,"link",a),ve(l),x.head.appendChild(l)))}}function N8(a,l){eu.m(a,l);var h=qp;if(h&&a){var x=l&&typeof l.as=="string"?l.as:"script",T='link[rel="modulepreload"][as="'+ui(x)+'"][href="'+ui(a)+'"]',C=T;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Yp(a)}if(!Uo.has(C)&&(a=g({rel:"modulepreload",href:a},l),Uo.set(C,a),h.querySelector(T)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Hx(C)))return}x=h.createElement("link"),aa(x,"link",a),ve(x),h.head.appendChild(x)}}}function R8(a,l,h){eu.S(a,l,h);var x=qp;if(x&&a){var T=Te(x).hoistableStyles,C=Wp(a);l=l||"default";var j=T.get(C);if(!j){var q={loading:0,preload:null};if(j=x.querySelector(kx(C)))q.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},h),(h=Uo.get(C))&&R2(a,h);var le=j=x.createElement("link");ve(le),aa(le,"link",a),le._p=new Promise(function(Ee,Fe){le.onload=Ee,le.onerror=Fe}),le.addEventListener("load",function(){q.loading|=1}),le.addEventListener("error",function(){q.loading|=2}),q.loading|=4,a_(j,l,x)}j={type:"stylesheet",instance:j,count:1,state:q},T.set(C,j)}}}function D8(a,l){eu.X(a,l);var h=qp;if(h&&a){var x=Te(h).hoistableScripts,T=Yp(a),C=x.get(T);C||(C=h.querySelector(Hx(T)),C||(a=g({src:a,async:!0},l),(l=Uo.get(T))&&D2(a,l),C=h.createElement("script"),ve(C),aa(C,"link",a),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},x.set(T,C))}}function L8(a,l){eu.M(a,l);var h=qp;if(h&&a){var x=Te(h).hoistableScripts,T=Yp(a),C=x.get(T);C||(C=h.querySelector(Hx(T)),C||(a=g({src:a,async:!0,type:"module"},l),(l=Uo.get(T))&&D2(a,l),C=h.createElement("script"),ve(C),aa(C,"link",a),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},x.set(T,C))}}function TA(a,l,h,x){var T=(T=pe.current)?s_(T):null;if(!T)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=Wp(h.href),h=Te(T).hoistableStyles,x=h.get(l),x||(x={type:"style",instance:null,count:0,state:null},h.set(l,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Wp(h.href);var C=Te(T).hoistableStyles,j=C.get(a);if(j||(T=T.ownerDocument||T,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(a,j),(C=T.querySelector(kx(a)))&&!C._p&&(j.instance=C,j.state.loading=5),Uo.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Uo.set(a,h),C||O8(T,a,h,j.state))),l&&x===null)throw Error(n(528,""));return j}if(l&&x!==null)throw Error(n(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Yp(h),h=Te(T).hoistableScripts,x=h.get(l),x||(x={type:"script",instance:null,count:0,state:null},h.set(l,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Wp(a){return'href="'+ui(a)+'"'}function kx(a){return'link[rel="stylesheet"]['+a+"]"}function wA(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function O8(a,l,h,x){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?x.loading=1:(l=a.createElement("link"),x.preload=l,l.addEventListener("load",function(){return x.loading|=1}),l.addEventListener("error",function(){return x.loading|=2}),aa(l,"link",h),ve(l),a.head.appendChild(l))}function Yp(a){return'[src="'+ui(a)+'"]'}function Hx(a){return"script[async]"+a}function EA(a,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var x=a.querySelector('style[data-href~="'+ui(h.href)+'"]');if(x)return l.instance=x,ve(x),x;var T=g({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return x=(a.ownerDocument||a).createElement("style"),ve(x),aa(x,"style",T),a_(x,h.precedence,a),l.instance=x;case"stylesheet":T=Wp(h.href);var C=a.querySelector(kx(T));if(C)return l.state.loading|=4,l.instance=C,ve(C),C;x=wA(h),(T=Uo.get(T))&&R2(x,T),C=(a.ownerDocument||a).createElement("link"),ve(C);var j=C;return j._p=new Promise(function(q,le){j.onload=q,j.onerror=le}),aa(C,"link",x),l.state.loading|=4,a_(C,h.precedence,a),l.instance=C;case"script":return C=Yp(h.src),(T=a.querySelector(Hx(C)))?(l.instance=T,ve(T),T):(x=h,(T=Uo.get(C))&&(x=g({},h),D2(x,T)),a=a.ownerDocument||a,T=a.createElement("script"),ve(T),aa(T,"link",x),a.head.appendChild(T),l.instance=T);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(x=l.instance,l.state.loading|=4,a_(x,h.precedence,a));return l.instance}function a_(a,l,h){for(var x=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=x.length?x[x.length-1]:null,C=T,j=0;j<x.length;j++){var q=x[j];if(q.dataset.precedence===l)C=q;else if(C!==T)break}C?C.parentNode.insertBefore(a,C.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(a,l.firstChild))}function R2(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function D2(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var r_=null;function AA(a,l,h){if(r_===null){var x=new Map,T=r_=new Map;T.set(h,x)}else T=r_,x=T.get(h),x||(x=new Map,T.set(h,x));if(x.has(a))return x;for(x.set(a,null),h=h.getElementsByTagName(a),T=0;T<h.length;T++){var C=h[T];if(!(C[ci]||C[Ct]||a==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var j=C.getAttribute(l)||"";j=a+j;var q=x.get(j);q?q.push(C):x.set(j,[C])}}return x}function CA(a,l,h){a=a.ownerDocument||a,a.head.insertBefore(h,l==="title"?a.querySelector("head > title"):null)}function U8(a,l,h){if(h===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function NA(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function z8(a,l,h,x){if(h.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var T=Wp(x.href),C=l.querySelector(kx(T));if(C){l=C._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=o_.bind(a),l.then(a,a)),h.state.loading|=4,h.instance=C,ve(C);return}C=l.ownerDocument||l,x=wA(x),(T=Uo.get(T))&&R2(x,T),C=C.createElement("link"),ve(C);var j=C;j._p=new Promise(function(q,le){j.onload=q,j.onerror=le}),aa(C,"link",x),h.instance=C}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(a.count++,h=o_.bind(a),l.addEventListener("load",h),l.addEventListener("error",h))}}var L2=0;function P8(a,l){return a.stylesheets&&a.count===0&&c_(a,a.stylesheets),0<a.count||0<a.imgCount?function(h){var x=setTimeout(function(){if(a.stylesheets&&c_(a,a.stylesheets),a.unsuspend){var C=a.unsuspend;a.unsuspend=null,C()}},6e4+l);0<a.imgBytes&&L2===0&&(L2=62500*x8());var T=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&c_(a,a.stylesheets),a.unsuspend)){var C=a.unsuspend;a.unsuspend=null,C()}},(a.imgBytes>L2?50:800)+l);return a.unsuspend=h,function(){a.unsuspend=null,clearTimeout(x),clearTimeout(T)}}:null}function o_(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)c_(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var l_=null;function c_(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,l_=new Map,l.forEach(B8,a),l_=null,o_.call(a))}function B8(a,l){if(!(l.state.loading&4)){var h=l_.get(a);if(h)var x=h.get(null);else{h=new Map,l_.set(a,h);for(var T=a.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<T.length;C++){var j=T[C];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(h.set(j.dataset.precedence,j),x=j)}x&&h.set(null,x)}T=l.instance,j=T.getAttribute("data-precedence"),C=h.get(j)||x,C===x&&h.set(null,T),h.set(j,T),this.count++,x=o_.bind(this),T.addEventListener("load",x),T.addEventListener("error",x),C?C.parentNode.insertBefore(T,C.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(T,a.firstChild)),l.state.loading|=4}}var Gx={$$typeof:R,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function I8(a,l,h,x,T,C,j,q,le){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.hiddenUpdates=gt(null),this.identifierPrefix=x,this.onUncaughtError=T,this.onCaughtError=C,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=le,this.incompleteTransitions=new Map}function RA(a,l,h,x,T,C,j,q,le,Ee,Fe,qe){return a=new I8(a,l,h,j,le,Ee,Fe,qe,q),l=1,C===!0&&(l|=24),C=$s(3,null,null,l),a.current=C,C.stateNode=a,l=J0(),l.refCount++,a.pooledCache=l,l.refCount++,C.memoizedState={element:x,isDehydrated:h,cache:l},sx(C),a}function DA(a){return a?(a=Hl,a):Hl}function LA(a,l,h,x,T,C){T=DA(T),x.context===null?x.context=T:x.pendingContext=T,x=To(l),x.payload={element:h},C=C===void 0?null:C,C!==null&&(x.callback=C),h=al(a,x,l),h!==null&&(f(h,a,l),Ql(h,a,l))}function OA(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function O2(a,l){OA(a,l),(a=a.alternate)&&OA(a,l)}function UA(a){if(a.tag===13||a.tag===31){var l=kl(a,67108864);l!==null&&f(l,a,67108864),O2(a,67108864)}}function zA(a){if(a.tag===13||a.tag===31){var l=sa();l=Lt(l);var h=kl(a,l);h!==null&&f(h,a,l),O2(a,l)}}var u_=!0;function j8(a,l,h,x){var T=V.T;V.T=null;var C=X.p;try{X.p=2,U2(a,l,h,x)}finally{X.p=C,V.T=T}}function F8(a,l,h,x){var T=V.T;V.T=null;var C=X.p;try{X.p=8,U2(a,l,h,x)}finally{X.p=C,V.T=T}}function U2(a,l,h,x){if(u_){var T=z2(x);if(T===null)_2(a,l,x,f_,h),BA(a,x);else if(k8(T,a,l,h,x))x.stopPropagation();else if(BA(a,x),l&4&&-1<V8.indexOf(a)){for(;T!==null;){var C=G(T);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var j=He(C.pendingLanes);if(j!==0){var q=C;for(q.pendingLanes|=2,q.entangledLanes|=2;j;){var le=1<<31-ut(j);q.entanglements[1]|=le,j&=~le}rc(C),(zn&6)===0&&(Ja=k()+500,Ix(0))}}break;case 31:case 13:q=kl(C,2),q!==null&&f(q,C,2),Z(),O2(C,2)}if(C=z2(x),C===null&&_2(a,l,x,f_,h),C===T)break;T=C}T!==null&&x.stopPropagation()}else _2(a,l,x,null,h)}}function z2(a){return a=Xh(a),P2(a)}var f_=null;function P2(a){if(f_=null,a=_n(a),a!==null){var l=r(a);if(l===null)a=null;else{var h=l.tag;if(h===13){if(a=o(l),a!==null)return a;a=null}else if(h===31){if(a=c(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return f_=a,null}function PA(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xe()){case Ue:return 2;case Be:return 8;case Re:case ft:return 32;case nt:return 268435456;default:return 32}default:return 32}}var B2=!1,af=null,rf=null,of=null,Xx=new Map,qx=new Map,lf=[],V8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BA(a,l){switch(a){case"focusin":case"focusout":af=null;break;case"dragenter":case"dragleave":rf=null;break;case"mouseover":case"mouseout":of=null;break;case"pointerover":case"pointerout":Xx.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":qx.delete(l.pointerId)}}function Wx(a,l,h,x,T,C){return a===null||a.nativeEvent!==C?(a={blockedOn:l,domEventName:h,eventSystemFlags:x,nativeEvent:C,targetContainers:[T]},l!==null&&(l=G(l),l!==null&&UA(l)),a):(a.eventSystemFlags|=x,l=a.targetContainers,T!==null&&l.indexOf(T)===-1&&l.push(T),a)}function k8(a,l,h,x,T){switch(l){case"focusin":return af=Wx(af,a,l,h,x,T),!0;case"dragenter":return rf=Wx(rf,a,l,h,x,T),!0;case"mouseover":return of=Wx(of,a,l,h,x,T),!0;case"pointerover":var C=T.pointerId;return Xx.set(C,Wx(Xx.get(C)||null,a,l,h,x,T)),!0;case"gotpointercapture":return C=T.pointerId,qx.set(C,Wx(qx.get(C)||null,a,l,h,x,T)),!0}return!1}function IA(a){var l=_n(a.target);if(l!==null){var h=r(l);if(h!==null){if(l=h.tag,l===13){if(l=o(h),l!==null){a.blockedOn=l,Nn(a.priority,function(){zA(h)});return}}else if(l===31){if(l=c(h),l!==null){a.blockedOn=l,Nn(a.priority,function(){zA(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function d_(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=z2(a.nativeEvent);if(h===null){h=a.nativeEvent;var x=new h.constructor(h.type,h);Kf=x,h.target.dispatchEvent(x),Kf=null}else return l=G(h),l!==null&&UA(l),a.blockedOn=h,!1;l.shift()}return!0}function jA(a,l,h){d_(a)&&h.delete(l)}function H8(){B2=!1,af!==null&&d_(af)&&(af=null),rf!==null&&d_(rf)&&(rf=null),of!==null&&d_(of)&&(of=null),Xx.forEach(jA),qx.forEach(jA)}function h_(a,l){a.blockedOn===l&&(a.blockedOn=null,B2||(B2=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,H8)))}var p_=null;function FA(a){p_!==a&&(p_=a,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){p_===a&&(p_=null);for(var l=0;l<a.length;l+=3){var h=a[l],x=a[l+1],T=a[l+2];if(typeof x!="function"){if(P2(x||h)===null)continue;break}var C=G(h);C!==null&&(a.splice(l,3),l-=3,Nx(C,{pending:!0,data:T,method:h.method,action:x},x,T))}}))}function Zp(a){function l(le){return h_(le,a)}af!==null&&h_(af,a),rf!==null&&h_(rf,a),of!==null&&h_(of,a),Xx.forEach(l),qx.forEach(l);for(var h=0;h<lf.length;h++){var x=lf[h];x.blockedOn===a&&(x.blockedOn=null)}for(;0<lf.length&&(h=lf[0],h.blockedOn===null);)IA(h),h.blockedOn===null&&lf.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(x=0;x<h.length;x+=3){var T=h[x],C=h[x+1],j=T[tn]||null;if(typeof C=="function")j||FA(h);else if(j){var q=null;if(C&&C.hasAttribute("formAction")){if(T=C,j=C[tn]||null)q=j.formAction;else if(P2(T)!==null)continue}else q=j.action;typeof q=="function"?h[x+1]=q:(h.splice(x,3),x-=3),FA(h)}}}function VA(){function a(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(j){return T=j})},focusReset:"manual",scroll:"manual"})}function l(){T!==null&&(T(),T=null),x||setTimeout(h,20)}function h(){if(!x&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,T=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(h,100),function(){x=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),T!==null&&(T(),T=null)}}}function I2(a){this._internalRoot=a}m_.prototype.render=I2.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));var h=l.current,x=sa();LA(h,x,a,l,null,null)},m_.prototype.unmount=I2.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;LA(a.current,2,null,a,null,null),Z(),l[mn]=null}};function m_(a){this._internalRoot=a}m_.prototype.unstable_scheduleHydration=function(a){if(a){var l=Zt();a={blockedOn:null,target:a,priority:l};for(var h=0;h<lf.length&&l!==0&&l<lf[h].priority;h++);lf.splice(h,0,a),h===0&&IA(a)}};var kA=e.version;if(kA!=="19.2.1")throw Error(n(527,kA,"19.2.1"));X.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=p(l),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var G8={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var x_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!x_.isDisabled&&x_.supportsFiber)try{Ae=x_.inject(G8),je=x_}catch{}}return Zx.createRoot=function(a,l){if(!s(a))throw Error(n(299));var h=!1,x="",T=Ox,C=Yy,j=Lp;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onUncaughtError!==void 0&&(T=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(j=l.onRecoverableError)),l=RA(a,1,!1,null,null,h,x,null,T,C,j,VA),a[mn]=l.current,y2(a),new I2(l)},Zx.hydrateRoot=function(a,l,h){if(!s(a))throw Error(n(299));var x=!1,T="",C=Ox,j=Yy,q=Lp,le=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(T=h.identifierPrefix),h.onUncaughtError!==void 0&&(C=h.onUncaughtError),h.onCaughtError!==void 0&&(j=h.onCaughtError),h.onRecoverableError!==void 0&&(q=h.onRecoverableError),h.formState!==void 0&&(le=h.formState)),l=RA(a,1,!0,l,h??null,x,T,le,C,j,q,VA),l.context=DA(null),h=l.current,x=sa(),x=Lt(x),T=To(x),T.callback=null,al(h,T,x),h=x,l.current.lanes=h,Et(l,h),rc(l),a[mn]=l.current,y2(a),new m_(l)},Zx.version="19.2.1",Zx}var JA;function e6(){if(JA)return V2.exports;JA=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),V2.exports=$8(),V2.exports}var t6=e6();function f5(i,e){return function(){return i.apply(e,arguments)}}const{toString:n6}=Object.prototype,{getPrototypeOf:JT}=Object,{iterator:oS,toStringTag:d5}=Symbol,lS=(i=>e=>{const t=n6.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Al=i=>(i=i.toLowerCase(),e=>lS(e)===i),cS=i=>e=>typeof e===i,{isArray:h0}=Array,Gm=cS("undefined");function Dv(i){return i!==null&&!Gm(i)&&i.constructor!==null&&!Gm(i.constructor)&&Dr(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const h5=Al("ArrayBuffer");function i6(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&h5(i.buffer),e}const s6=cS("string"),Dr=cS("function"),p5=cS("number"),Lv=i=>i!==null&&typeof i=="object",a6=i=>i===!0||i===!1,Cb=i=>{if(lS(i)!=="object")return!1;const e=JT(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(d5 in i)&&!(oS in i)},r6=i=>{if(!Lv(i)||Dv(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},o6=Al("Date"),l6=Al("File"),c6=Al("Blob"),u6=Al("FileList"),f6=i=>Lv(i)&&Dr(i.pipe),d6=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||Dr(i.append)&&((e=lS(i))==="formdata"||e==="object"&&Dr(i.toString)&&i.toString()==="[object FormData]"))},h6=Al("URLSearchParams"),[p6,m6,x6,g6]=["ReadableStream","Request","Response","Headers"].map(Al),v6=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ov(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let n,s;if(typeof i!="object"&&(i=[i]),h0(i))for(n=0,s=i.length;n<s;n++)e.call(null,i[n],n,i);else{if(Dv(i))return;const r=t?Object.getOwnPropertyNames(i):Object.keys(i),o=r.length;let c;for(n=0;n<o;n++)c=r[n],e.call(null,i[c],c,i)}}function m5(i,e){if(Dv(i))return null;e=e.toLowerCase();const t=Object.keys(i);let n=t.length,s;for(;n-- >0;)if(s=t[n],e===s.toLowerCase())return s;return null}const lh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,x5=i=>!Gm(i)&&i!==lh;function U3(){const{caseless:i,skipUndefined:e}=x5(this)&&this||{},t={},n=(s,r)=>{const o=i&&m5(t,r)||r;Cb(t[o])&&Cb(s)?t[o]=U3(t[o],s):Cb(s)?t[o]=U3({},s):h0(s)?t[o]=s.slice():(!e||!Gm(s))&&(t[o]=s)};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&Ov(arguments[s],n);return t}const y6=(i,e,t,{allOwnKeys:n}={})=>(Ov(e,(s,r)=>{t&&Dr(s)?i[r]=f5(s,t):i[r]=s},{allOwnKeys:n}),i),_6=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),b6=(i,e,t,n)=>{i.prototype=Object.create(e.prototype,n),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},S6=(i,e,t,n)=>{let s,r,o;const c={};if(e=e||{},i==null)return e;do{for(s=Object.getOwnPropertyNames(i),r=s.length;r-- >0;)o=s[r],(!n||n(o,i,e))&&!c[o]&&(e[o]=i[o],c[o]=!0);i=t!==!1&&JT(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},M6=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const n=i.indexOf(e,t);return n!==-1&&n===t},T6=i=>{if(!i)return null;if(h0(i))return i;let e=i.length;if(!p5(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},w6=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&JT(Uint8Array)),E6=(i,e)=>{const n=(i&&i[oS]).call(i);let s;for(;(s=n.next())&&!s.done;){const r=s.value;e.call(i,r[0],r[1])}},A6=(i,e)=>{let t;const n=[];for(;(t=i.exec(e))!==null;)n.push(t);return n},C6=Al("HTMLFormElement"),N6=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,s){return n.toUpperCase()+s}),$A=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),R6=Al("RegExp"),g5=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),n={};Ov(t,(s,r)=>{let o;(o=e(s,r,i))!==!1&&(n[r]=o||s)}),Object.defineProperties(i,n)},D6=i=>{g5(i,(e,t)=>{if(Dr(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=i[t];if(Dr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},L6=(i,e)=>{const t={},n=s=>{s.forEach(r=>{t[r]=!0})};return h0(i)?n(i):n(String(i).split(e)),t},O6=()=>{},U6=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function z6(i){return!!(i&&Dr(i.append)&&i[d5]==="FormData"&&i[oS])}const P6=i=>{const e=new Array(10),t=(n,s)=>{if(Lv(n)){if(e.indexOf(n)>=0)return;if(Dv(n))return n;if(!("toJSON"in n)){e[s]=n;const r=h0(n)?[]:{};return Ov(n,(o,c)=>{const d=t(o,s+1);!Gm(d)&&(r[c]=d)}),e[s]=void 0,r}}return n};return t(i,0)},B6=Al("AsyncFunction"),I6=i=>i&&(Lv(i)||Dr(i))&&Dr(i.then)&&Dr(i.catch),v5=((i,e)=>i?setImmediate:e?((t,n)=>(lh.addEventListener("message",({source:s,data:r})=>{s===lh&&r===t&&n.length&&n.shift()()},!1),s=>{n.push(s),lh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Dr(lh.postMessage)),j6=typeof queueMicrotask<"u"?queueMicrotask.bind(lh):typeof process<"u"&&process.nextTick||v5,F6=i=>i!=null&&Dr(i[oS]),Oe={isArray:h0,isArrayBuffer:h5,isBuffer:Dv,isFormData:d6,isArrayBufferView:i6,isString:s6,isNumber:p5,isBoolean:a6,isObject:Lv,isPlainObject:Cb,isEmptyObject:r6,isReadableStream:p6,isRequest:m6,isResponse:x6,isHeaders:g6,isUndefined:Gm,isDate:o6,isFile:l6,isBlob:c6,isRegExp:R6,isFunction:Dr,isStream:f6,isURLSearchParams:h6,isTypedArray:w6,isFileList:u6,forEach:Ov,merge:U3,extend:y6,trim:v6,stripBOM:_6,inherits:b6,toFlatObject:S6,kindOf:lS,kindOfTest:Al,endsWith:M6,toArray:T6,forEachEntry:E6,matchAll:A6,isHTMLForm:C6,hasOwnProperty:$A,hasOwnProp:$A,reduceDescriptors:g5,freezeMethods:D6,toObjectSet:L6,toCamelCase:N6,noop:O6,toFiniteNumber:U6,findKey:m5,global:lh,isContextDefined:x5,isSpecCompliantForm:z6,toJSONObject:P6,isAsyncFn:B6,isThenable:I6,setImmediate:v5,asap:j6,isIterable:F6};function pn(i,e,t,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Oe.inherits(pn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Oe.toJSONObject(this.config),code:this.code,status:this.status}}});const y5=pn.prototype,_5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{_5[i]={value:i}});Object.defineProperties(pn,_5);Object.defineProperty(y5,"isAxiosError",{value:!0});pn.from=(i,e,t,n,s,r)=>{const o=Object.create(y5);Oe.toFlatObject(i,o,function(m){return m!==Error.prototype},p=>p!=="isAxiosError");const c=i&&i.message?i.message:"Error",d=e==null&&i?i.code:e;return pn.call(o,c,d,t,n,s),i&&o.cause==null&&Object.defineProperty(o,"cause",{value:i,configurable:!0}),o.name=i&&i.name||"Error",r&&Object.assign(o,r),o};const V6=null;function z3(i){return Oe.isPlainObject(i)||Oe.isArray(i)}function b5(i){return Oe.endsWith(i,"[]")?i.slice(0,-2):i}function eC(i,e,t){return i?i.concat(e).map(function(s,r){return s=b5(s),!t&&r?"["+s+"]":s}).join(t?".":""):e}function k6(i){return Oe.isArray(i)&&!i.some(z3)}const H6=Oe.toFlatObject(Oe,{},null,function(e){return/^is[A-Z]/.test(e)});function uS(i,e,t){if(!Oe.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=Oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,A){return!Oe.isUndefined(A[E])});const n=t.metaTokens,s=t.visitor||m,r=t.dots,o=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&Oe.isSpecCompliantForm(e);if(!Oe.isFunction(s))throw new TypeError("visitor must be a function");function p(S){if(S===null)return"";if(Oe.isDate(S))return S.toISOString();if(Oe.isBoolean(S))return S.toString();if(!d&&Oe.isBlob(S))throw new pn("Blob is not supported. Use a Buffer instead.");return Oe.isArrayBuffer(S)||Oe.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function m(S,E,A){let M=S;if(S&&!A&&typeof S=="object"){if(Oe.endsWith(E,"{}"))E=n?E:E.slice(0,-2),S=JSON.stringify(S);else if(Oe.isArray(S)&&k6(S)||(Oe.isFileList(S)||Oe.endsWith(E,"[]"))&&(M=Oe.toArray(S)))return E=b5(E),M.forEach(function(R,L){!(Oe.isUndefined(R)||R===null)&&e.append(o===!0?eC([E],L,r):o===null?E:E+"[]",p(R))}),!1}return z3(S)?!0:(e.append(eC(A,E,r),p(S)),!1)}const g=[],y=Object.assign(H6,{defaultVisitor:m,convertValue:p,isVisitable:z3});function b(S,E){if(!Oe.isUndefined(S)){if(g.indexOf(S)!==-1)throw Error("Circular reference detected in "+E.join("."));g.push(S),Oe.forEach(S,function(M,D){(!(Oe.isUndefined(M)||M===null)&&s.call(e,M,Oe.isString(D)?D.trim():D,E,y))===!0&&b(M,E?E.concat(D):[D])}),g.pop()}}if(!Oe.isObject(i))throw new TypeError("data must be an object");return b(i),e}function tC(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function $T(i,e){this._pairs=[],i&&uS(i,this,e)}const S5=$T.prototype;S5.append=function(e,t){this._pairs.push([e,t])};S5.toString=function(e){const t=e?function(n){return e.call(this,n,tC)}:tC;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function G6(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function M5(i,e,t){if(!e)return i;const n=t&&t.encode||G6;Oe.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let r;if(s?r=s(e,t):r=Oe.isURLSearchParams(e)?e.toString():new $T(e,t).toString(n),r){const o=i.indexOf("#");o!==-1&&(i=i.slice(0,o)),i+=(i.indexOf("?")===-1?"?":"&")+r}return i}class nC{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Oe.forEach(this.handlers,function(n){n!==null&&e(n)})}}const T5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},X6=typeof URLSearchParams<"u"?URLSearchParams:$T,q6=typeof FormData<"u"?FormData:null,W6=typeof Blob<"u"?Blob:null,Y6={isBrowser:!0,classes:{URLSearchParams:X6,FormData:q6,Blob:W6},protocols:["http","https","file","blob","url","data"]},ew=typeof window<"u"&&typeof document<"u",P3=typeof navigator=="object"&&navigator||void 0,Z6=ew&&(!P3||["ReactNative","NativeScript","NS"].indexOf(P3.product)<0),K6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Q6=ew&&window.location.href||"http://localhost",J6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ew,hasStandardBrowserEnv:Z6,hasStandardBrowserWebWorkerEnv:K6,navigator:P3,origin:Q6},Symbol.toStringTag,{value:"Module"})),Na={...J6,...Y6};function $6(i,e){return uS(i,new Na.classes.URLSearchParams,{visitor:function(t,n,s,r){return Na.isNode&&Oe.isBuffer(t)?(this.append(n,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function eP(i){return Oe.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function tP(i){const e={},t=Object.keys(i);let n;const s=t.length;let r;for(n=0;n<s;n++)r=t[n],e[r]=i[r];return e}function w5(i){function e(t,n,s,r){let o=t[r++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=r>=t.length;return o=!o&&Oe.isArray(s)?s.length:o,d?(Oe.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!c):((!s[o]||!Oe.isObject(s[o]))&&(s[o]=[]),e(t,n,s[o],r)&&Oe.isArray(s[o])&&(s[o]=tP(s[o])),!c)}if(Oe.isFormData(i)&&Oe.isFunction(i.entries)){const t={};return Oe.forEachEntry(i,(n,s)=>{e(eP(n),s,t,0)}),t}return null}function nP(i,e,t){if(Oe.isString(i))try{return(e||JSON.parse)(i),Oe.trim(i)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(i)}const Uv={transitional:T5,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,r=Oe.isObject(e);if(r&&Oe.isHTMLForm(e)&&(e=new FormData(e)),Oe.isFormData(e))return s?JSON.stringify(w5(e)):e;if(Oe.isArrayBuffer(e)||Oe.isBuffer(e)||Oe.isStream(e)||Oe.isFile(e)||Oe.isBlob(e)||Oe.isReadableStream(e))return e;if(Oe.isArrayBufferView(e))return e.buffer;if(Oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return $6(e,this.formSerializer).toString();if((c=Oe.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return uS(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),nP(e)):e}],transformResponse:[function(e){const t=this.transitional||Uv.transitional,n=t&&t.forcedJSONParsing,s=this.responseType==="json";if(Oe.isResponse(e)||Oe.isReadableStream(e))return e;if(e&&Oe.isString(e)&&(n&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?pn.from(c,pn.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Na.classes.FormData,Blob:Na.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Oe.forEach(["delete","get","head","post","put","patch"],i=>{Uv.headers[i]={}});const iP=Oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sP=i=>{const e={};let t,n,s;return i&&i.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!t||e[t]&&iP[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},iC=Symbol("internals");function Kx(i){return i&&String(i).trim().toLowerCase()}function Nb(i){return i===!1||i==null?i:Oe.isArray(i)?i.map(Nb):String(i)}function aP(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(i);)e[n[1]]=n[2];return e}const rP=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function X2(i,e,t,n,s){if(Oe.isFunction(n))return n.call(this,e,t);if(s&&(e=t),!!Oe.isString(e)){if(Oe.isString(n))return e.indexOf(n)!==-1;if(Oe.isRegExp(n))return n.test(e)}}function oP(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function lP(i,e){const t=Oe.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(i,n+t,{value:function(s,r,o){return this[n].call(this,e,s,r,o)},configurable:!0})})}let Lr=class{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function r(c,d,p){const m=Kx(d);if(!m)throw new Error("header name must be a non-empty string");const g=Oe.findKey(s,m);(!g||s[g]===void 0||p===!0||p===void 0&&s[g]!==!1)&&(s[g||d]=Nb(c))}const o=(c,d)=>Oe.forEach(c,(p,m)=>r(p,m,d));if(Oe.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Oe.isString(e)&&(e=e.trim())&&!rP(e))o(sP(e),t);else if(Oe.isObject(e)&&Oe.isIterable(e)){let c={},d,p;for(const m of e){if(!Oe.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[p=m[0]]=(d=c[p])?Oe.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}o(c,t)}else e!=null&&r(t,e,n);return this}get(e,t){if(e=Kx(e),e){const n=Oe.findKey(this,e);if(n){const s=this[n];if(!t)return s;if(t===!0)return aP(s);if(Oe.isFunction(t))return t.call(this,s,n);if(Oe.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Kx(e),e){const n=Oe.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||X2(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let s=!1;function r(o){if(o=Kx(o),o){const c=Oe.findKey(n,o);c&&(!t||X2(n,n[c],c,t))&&(delete n[c],s=!0)}}return Oe.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const r=t[n];(!e||X2(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const t=this,n={};return Oe.forEach(this,(s,r)=>{const o=Oe.findKey(n,r);if(o){t[o]=Nb(s),delete t[r];return}const c=e?oP(r):String(r).trim();c!==r&&delete t[r],t[c]=Nb(s),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Oe.forEach(this,(n,s)=>{n!=null&&n!==!1&&(t[s]=e&&Oe.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[iC]=this[iC]={accessors:{}}).accessors,s=this.prototype;function r(o){const c=Kx(o);n[c]||(lP(s,o),n[c]=!0)}return Oe.isArray(e)?e.forEach(r):r(e),this}};Lr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Oe.reduceDescriptors(Lr.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(n){this[t]=n}}});Oe.freezeMethods(Lr);function q2(i,e){const t=this||Uv,n=e||t,s=Lr.from(n.headers);let r=n.data;return Oe.forEach(i,function(c){r=c.call(t,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function E5(i){return!!(i&&i.__CANCEL__)}function p0(i,e,t){pn.call(this,i??"canceled",pn.ERR_CANCELED,e,t),this.name="CanceledError"}Oe.inherits(p0,pn,{__CANCEL__:!0});function A5(i,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?i(t):e(new pn("Request failed with status code "+t.status,[pn.ERR_BAD_REQUEST,pn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function cP(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function uP(i,e){i=i||10;const t=new Array(i),n=new Array(i);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),m=n[r];o||(o=p),t[s]=d,n[s]=p;let g=r,y=0;for(;g!==s;)y+=t[g++],g=g%i;if(s=(s+1)%i,s===r&&(r=(r+1)%i),p-o<e)return;const b=m&&p-m;return b?Math.round(y*1e3/b):void 0}}function fP(i,e){let t=0,n=1e3/e,s,r;const o=(p,m=Date.now())=>{t=m,s=null,r&&(clearTimeout(r),r=null),i(...p)};return[(...p)=>{const m=Date.now(),g=m-t;g>=n?o(p,m):(s=p,r||(r=setTimeout(()=>{r=null,o(s)},n-g)))},()=>s&&o(s)]}const Zb=(i,e,t=3)=>{let n=0;const s=uP(50,250);return fP(r=>{const o=r.loaded,c=r.lengthComputable?r.total:void 0,d=o-n,p=s(d),m=o<=c;n=o;const g={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:p||void 0,estimated:p&&c&&m?(c-o)/p:void 0,event:r,lengthComputable:c!=null,[e?"download":"upload"]:!0};i(g)},t)},sC=(i,e)=>{const t=i!=null;return[n=>e[0]({lengthComputable:t,total:i,loaded:n}),e[1]]},aC=i=>(...e)=>Oe.asap(()=>i(...e)),dP=Na.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,Na.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(Na.origin),Na.navigator&&/(msie|trident)/i.test(Na.navigator.userAgent)):()=>!0,hP=Na.hasStandardBrowserEnv?{write(i,e,t,n,s,r,o){if(typeof document>"u")return;const c=[`${i}=${encodeURIComponent(e)}`];Oe.isNumber(t)&&c.push(`expires=${new Date(t).toUTCString()}`),Oe.isString(n)&&c.push(`path=${n}`),Oe.isString(s)&&c.push(`domain=${s}`),r===!0&&c.push("secure"),Oe.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(i){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+i+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(i){this.write(i,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function pP(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function mP(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function C5(i,e,t){let n=!pP(e);return i&&(n||t==!1)?mP(i,e):e}const rC=i=>i instanceof Lr?{...i}:i;function Rh(i,e){e=e||{};const t={};function n(p,m,g,y){return Oe.isPlainObject(p)&&Oe.isPlainObject(m)?Oe.merge.call({caseless:y},p,m):Oe.isPlainObject(m)?Oe.merge({},m):Oe.isArray(m)?m.slice():m}function s(p,m,g,y){if(Oe.isUndefined(m)){if(!Oe.isUndefined(p))return n(void 0,p,g,y)}else return n(p,m,g,y)}function r(p,m){if(!Oe.isUndefined(m))return n(void 0,m)}function o(p,m){if(Oe.isUndefined(m)){if(!Oe.isUndefined(p))return n(void 0,p)}else return n(void 0,m)}function c(p,m,g){if(g in e)return n(p,m);if(g in i)return n(void 0,p)}const d={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(p,m,g)=>s(rC(p),rC(m),g,!0)};return Oe.forEach(Object.keys({...i,...e}),function(m){const g=d[m]||s,y=g(i[m],e[m],m);Oe.isUndefined(y)&&g!==c||(t[m]=y)}),t}const N5=i=>{const e=Rh({},i);let{data:t,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:c}=e;if(e.headers=o=Lr.from(o),e.url=M5(C5(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Oe.isFormData(t)){if(Na.hasStandardBrowserEnv||Na.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Oe.isFunction(t.getHeaders)){const d=t.getHeaders(),p=["content-type","content-length"];Object.entries(d).forEach(([m,g])=>{p.includes(m.toLowerCase())&&o.set(m,g)})}}if(Na.hasStandardBrowserEnv&&(n&&Oe.isFunction(n)&&(n=n(e)),n||n!==!1&&dP(e.url))){const d=s&&r&&hP.read(r);d&&o.set(s,d)}return e},xP=typeof XMLHttpRequest<"u",gP=xP&&function(i){return new Promise(function(t,n){const s=N5(i);let r=s.data;const o=Lr.from(s.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:p}=s,m,g,y,b,S;function E(){b&&b(),S&&S(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let A=new XMLHttpRequest;A.open(s.method.toUpperCase(),s.url,!0),A.timeout=s.timeout;function M(){if(!A)return;const R=Lr.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),z={data:!c||c==="text"||c==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:R,config:i,request:A};A5(function(I){t(I),E()},function(I){n(I),E()},z),A=null}"onloadend"in A?A.onloadend=M:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(M)},A.onabort=function(){A&&(n(new pn("Request aborted",pn.ECONNABORTED,i,A)),A=null)},A.onerror=function(L){const z=L&&L.message?L.message:"Network Error",U=new pn(z,pn.ERR_NETWORK,i,A);U.event=L||null,n(U),A=null},A.ontimeout=function(){let L=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const z=s.transitional||T5;s.timeoutErrorMessage&&(L=s.timeoutErrorMessage),n(new pn(L,z.clarifyTimeoutError?pn.ETIMEDOUT:pn.ECONNABORTED,i,A)),A=null},r===void 0&&o.setContentType(null),"setRequestHeader"in A&&Oe.forEach(o.toJSON(),function(L,z){A.setRequestHeader(z,L)}),Oe.isUndefined(s.withCredentials)||(A.withCredentials=!!s.withCredentials),c&&c!=="json"&&(A.responseType=s.responseType),p&&([y,S]=Zb(p,!0),A.addEventListener("progress",y)),d&&A.upload&&([g,b]=Zb(d),A.upload.addEventListener("progress",g),A.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(m=R=>{A&&(n(!R||R.type?new p0(null,i,A):R),A.abort(),A=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const D=cP(s.url);if(D&&Na.protocols.indexOf(D)===-1){n(new pn("Unsupported protocol "+D+":",pn.ERR_BAD_REQUEST,i));return}A.send(r||null)})},vP=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let n=new AbortController,s;const r=function(p){if(!s){s=!0,c();const m=p instanceof Error?p:this.reason;n.abort(m instanceof pn?m:new p0(m instanceof Error?m.message:m))}};let o=e&&setTimeout(()=>{o=null,r(new pn(`timeout ${e} of ms exceeded`,pn.ETIMEDOUT))},e);const c=()=>{i&&(o&&clearTimeout(o),o=null,i.forEach(p=>{p.unsubscribe?p.unsubscribe(r):p.removeEventListener("abort",r)}),i=null)};i.forEach(p=>p.addEventListener("abort",r));const{signal:d}=n;return d.unsubscribe=()=>Oe.asap(c),d}},yP=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let n=0,s;for(;n<t;)s=n+e,yield i.slice(n,s),n=s},_P=async function*(i,e){for await(const t of bP(i))yield*yP(t,e)},bP=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},oC=(i,e,t,n)=>{const s=_P(i,e);let r=0,o,c=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:p,value:m}=await s.next();if(p){c(),d.close();return}let g=m.byteLength;if(t){let y=r+=g;t(y)}d.enqueue(new Uint8Array(m))}catch(p){throw c(p),p}},cancel(d){return c(d),s.return()}},{highWaterMark:2})},lC=64*1024,{isFunction:g_}=Oe,SP=(({Request:i,Response:e})=>({Request:i,Response:e}))(Oe.global),{ReadableStream:cC,TextEncoder:uC}=Oe.global,fC=(i,...e)=>{try{return!!i(...e)}catch{return!1}},MP=i=>{i=Oe.merge.call({skipUndefined:!0},SP,i);const{fetch:e,Request:t,Response:n}=i,s=e?g_(e):typeof fetch=="function",r=g_(t),o=g_(n);if(!s)return!1;const c=s&&g_(cC),d=s&&(typeof uC=="function"?(S=>E=>S.encode(E))(new uC):async S=>new Uint8Array(await new t(S).arrayBuffer())),p=r&&c&&fC(()=>{let S=!1;const E=new t(Na.origin,{body:new cC,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!E}),m=o&&c&&fC(()=>Oe.isReadableStream(new n("").body)),g={stream:m&&(S=>S.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!g[S]&&(g[S]=(E,A)=>{let M=E&&E[S];if(M)return M.call(E);throw new pn(`Response type '${S}' is not supported`,pn.ERR_NOT_SUPPORT,A)})});const y=async S=>{if(S==null)return 0;if(Oe.isBlob(S))return S.size;if(Oe.isSpecCompliantForm(S))return(await new t(Na.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(Oe.isArrayBufferView(S)||Oe.isArrayBuffer(S))return S.byteLength;if(Oe.isURLSearchParams(S)&&(S=S+""),Oe.isString(S))return(await d(S)).byteLength},b=async(S,E)=>{const A=Oe.toFiniteNumber(S.getContentLength());return A??y(E)};return async S=>{let{url:E,method:A,data:M,signal:D,cancelToken:R,timeout:L,onDownloadProgress:z,onUploadProgress:U,responseType:I,headers:F,withCredentials:P="same-origin",fetchOptions:B}=N5(S),H=e||fetch;I=I?(I+"").toLowerCase():"text";let Q=vP([D,R&&R.toAbortSignal()],L),ie=null;const ue=Q&&Q.unsubscribe&&(()=>{Q.unsubscribe()});let fe;try{if(U&&p&&A!=="get"&&A!=="head"&&(fe=await b(F,M))!==0){let W=new t(E,{method:"POST",body:M,duplex:"half"}),ae;if(Oe.isFormData(M)&&(ae=W.headers.get("content-type"))&&F.setContentType(ae),W.body){const[he,ye]=sC(fe,Zb(aC(U)));M=oC(W.body,lC,he,ye)}}Oe.isString(P)||(P=P?"include":"omit");const V=r&&"credentials"in t.prototype,X={...B,signal:Q,method:A.toUpperCase(),headers:F.normalize().toJSON(),body:M,duplex:"half",credentials:V?P:void 0};ie=r&&new t(E,X);let K=await(r?H(ie,B):H(E,X));const ce=m&&(I==="stream"||I==="response");if(m&&(z||ce&&ue)){const W={};["status","statusText","headers"].forEach(Pe=>{W[Pe]=K[Pe]});const ae=Oe.toFiniteNumber(K.headers.get("content-length")),[he,ye]=z&&sC(ae,Zb(aC(z),!0))||[];K=new n(oC(K.body,lC,he,()=>{ye&&ye(),ue&&ue()}),W)}I=I||"text";let Y=await g[Oe.findKey(g,I)||"text"](K,S);return!ce&&ue&&ue(),await new Promise((W,ae)=>{A5(W,ae,{data:Y,headers:Lr.from(K.headers),status:K.status,statusText:K.statusText,config:S,request:ie})})}catch(V){throw ue&&ue(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new pn("Network Error",pn.ERR_NETWORK,S,ie),{cause:V.cause||V}):pn.from(V,V&&V.code,S,ie)}}},TP=new Map,R5=i=>{let e=i&&i.env||{};const{fetch:t,Request:n,Response:s}=e,r=[n,s,t];let o=r.length,c=o,d,p,m=TP;for(;c--;)d=r[c],p=m.get(d),p===void 0&&m.set(d,p=c?new Map:MP(e)),m=p;return p};R5();const tw={http:V6,xhr:gP,fetch:{get:R5}};Oe.forEach(tw,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const dC=i=>`- ${i}`,wP=i=>Oe.isFunction(i)||i===null||i===!1;function EP(i,e){i=Oe.isArray(i)?i:[i];const{length:t}=i;let n,s;const r={};for(let o=0;o<t;o++){n=i[o];let c;if(s=n,!wP(n)&&(s=tw[(c=String(n)).toLowerCase()],s===void 0))throw new pn(`Unknown adapter '${c}'`);if(s&&(Oe.isFunction(s)||(s=s.get(e))))break;r[c||"#"+o]=s}if(!s){const o=Object.entries(r).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=t?o.length>1?`since :
`+o.map(dC).join(`
`):" "+dC(o[0]):"as no adapter specified";throw new pn("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s}const D5={getAdapter:EP,adapters:tw};function W2(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new p0(null,i)}function hC(i){return W2(i),i.headers=Lr.from(i.headers),i.data=q2.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),D5.getAdapter(i.adapter||Uv.adapter,i)(i).then(function(n){return W2(i),n.data=q2.call(i,i.transformResponse,n),n.headers=Lr.from(n.headers),n},function(n){return E5(n)||(W2(i),n&&n.response&&(n.response.data=q2.call(i,i.transformResponse,n.response),n.response.headers=Lr.from(n.response.headers))),Promise.reject(n)})}const L5="1.13.2",fS={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{fS[i]=function(n){return typeof n===i||"a"+(e<1?"n ":" ")+i}});const pC={};fS.transitional=function(e,t,n){function s(r,o){return"[Axios v"+L5+"] Transitional option '"+r+"'"+o+(n?". "+n:"")}return(r,o,c)=>{if(e===!1)throw new pn(s(o," has been removed"+(t?" in "+t:"")),pn.ERR_DEPRECATED);return t&&!pC[o]&&(pC[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,o,c):!0}};fS.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function AP(i,e,t){if(typeof i!="object")throw new pn("options must be an object",pn.ERR_BAD_OPTION_VALUE);const n=Object.keys(i);let s=n.length;for(;s-- >0;){const r=n[s],o=e[r];if(o){const c=i[r],d=c===void 0||o(c,r,i);if(d!==!0)throw new pn("option "+r+" must be "+d,pn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new pn("Unknown option "+r,pn.ERR_BAD_OPTION)}}const Rb={assertOptions:AP,validators:fS},oc=Rb.validators;let xh=class{constructor(e){this.defaults=e||{},this.interceptors={request:new nC,response:new nC}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Rh(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:r}=t;n!==void 0&&Rb.assertOptions(n,{silentJSONParsing:oc.transitional(oc.boolean),forcedJSONParsing:oc.transitional(oc.boolean),clarifyTimeoutError:oc.transitional(oc.boolean)},!1),s!=null&&(Oe.isFunction(s)?t.paramsSerializer={serialize:s}:Rb.assertOptions(s,{encode:oc.function,serialize:oc.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Rb.assertOptions(t,{baseUrl:oc.spelling("baseURL"),withXsrfToken:oc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&Oe.merge(r.common,r[t.method]);r&&Oe.forEach(["delete","get","head","post","put","patch","common"],S=>{delete r[S]}),t.headers=Lr.concat(o,r);const c=[];let d=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(t)===!1||(d=d&&E.synchronous,c.unshift(E.fulfilled,E.rejected))});const p=[];this.interceptors.response.forEach(function(E){p.push(E.fulfilled,E.rejected)});let m,g=0,y;if(!d){const S=[hC.bind(this),void 0];for(S.unshift(...c),S.push(...p),y=S.length,m=Promise.resolve(t);g<y;)m=m.then(S[g++],S[g++]);return m}y=c.length;let b=t;for(;g<y;){const S=c[g++],E=c[g++];try{b=S(b)}catch(A){E.call(this,A);break}}try{m=hC.call(this,b)}catch(S){return Promise.reject(S)}for(g=0,y=p.length;g<y;)m=m.then(p[g++],p[g++]);return m}getUri(e){e=Rh(this.defaults,e);const t=C5(e.baseURL,e.url,e.allowAbsoluteUrls);return M5(t,e.params,e.paramsSerializer)}};Oe.forEach(["delete","get","head","options"],function(e){xh.prototype[e]=function(t,n){return this.request(Rh(n||{},{method:e,url:t,data:(n||{}).data}))}});Oe.forEach(["post","put","patch"],function(e){function t(n){return function(r,o,c){return this.request(Rh(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}xh.prototype[e]=t(),xh.prototype[e+"Form"]=t(!0)});let CP=class O5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const n=this;this.promise.then(s=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](s);n._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(c=>{n.subscribe(c),r=c}).then(s);return o.cancel=function(){n.unsubscribe(r)},o},e(function(r,o,c){n.reason||(n.reason=new p0(r,o,c),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new O5(function(s){e=s}),cancel:e}}};function NP(i){return function(t){return i.apply(null,t)}}function RP(i){return Oe.isObject(i)&&i.isAxiosError===!0}const B3={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(B3).forEach(([i,e])=>{B3[e]=i});function U5(i){const e=new xh(i),t=f5(xh.prototype.request,e);return Oe.extend(t,xh.prototype,e,{allOwnKeys:!0}),Oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return U5(Rh(i,s))},t}const Yt=U5(Uv);Yt.Axios=xh;Yt.CanceledError=p0;Yt.CancelToken=CP;Yt.isCancel=E5;Yt.VERSION=L5;Yt.toFormData=uS;Yt.AxiosError=pn;Yt.Cancel=Yt.CanceledError;Yt.all=function(e){return Promise.all(e)};Yt.spread=NP;Yt.isAxiosError=RP;Yt.mergeConfig=Rh;Yt.AxiosHeaders=Lr;Yt.formToJSON=i=>w5(Oe.isHTMLForm(i)?new FormData(i):i);Yt.getAdapter=D5.getAdapter;Yt.HttpStatusCode=B3;Yt.default=Yt;const{Axios:oQ,AxiosError:lQ,CanceledError:cQ,isCancel:uQ,CancelToken:fQ,VERSION:dQ,all:hQ,Cancel:pQ,isAxiosError:mQ,spread:xQ,toFormData:gQ,AxiosHeaders:vQ,HttpStatusCode:yQ,formToJSON:_Q,getAdapter:bQ,mergeConfig:SQ}=Yt,nw=se.createContext({});function iw(i){const e=se.useRef(null);return e.current===null&&(e.current=i()),e.current}const sw=typeof window<"u",z5=sw?se.useLayoutEffect:se.useEffect,dS=se.createContext(null);function aw(i,e){i.indexOf(e)===-1&&i.push(e)}function rw(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const gu=(i,e,t)=>t>e?e:t<i?i:t;let ow=()=>{};const vu={},P5=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i);function B5(i){return typeof i=="object"&&i!==null}const I5=i=>/^0[^.\s]+$/u.test(i);function lw(i){let e;return()=>(e===void 0&&(e=i()),e)}const Go=i=>i,DP=(i,e)=>t=>e(i(t)),zv=(...i)=>i.reduce(DP),Jg=(i,e,t)=>{const n=e-i;return n===0?1:(t-i)/n};class cw{constructor(){this.subscriptions=[]}add(e){return aw(this.subscriptions,e),()=>rw(this.subscriptions,e)}notify(e,t,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,n);else for(let r=0;r<s;r++){const o=this.subscriptions[r];o&&o(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vc=i=>i*1e3,Fo=i=>i/1e3;function j5(i,e){return e?i*(1e3/e):0}const F5=(i,e,t)=>(((1-3*t+3*e)*i+(3*t-6*e))*i+3*e)*i,LP=1e-7,OP=12;function UP(i,e,t,n,s){let r,o,c=0;do o=e+(t-e)/2,r=F5(o,n,s)-i,r>0?t=o:e=o;while(Math.abs(r)>LP&&++c<OP);return o}function Pv(i,e,t,n){if(i===e&&t===n)return Go;const s=r=>UP(r,0,1,i,t);return r=>r===0||r===1?r:F5(s(r),e,n)}const V5=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,k5=i=>e=>1-i(1-e),H5=Pv(.33,1.53,.69,.99),uw=k5(H5),G5=V5(uw),X5=i=>(i*=2)<1?.5*uw(i):.5*(2-Math.pow(2,-10*(i-1))),fw=i=>1-Math.sin(Math.acos(i)),q5=k5(fw),W5=V5(fw),zP=Pv(.42,0,1,1),PP=Pv(0,0,.58,1),Y5=Pv(.42,0,.58,1),BP=i=>Array.isArray(i)&&typeof i[0]!="number",Z5=i=>Array.isArray(i)&&typeof i[0]=="number",IP={linear:Go,easeIn:zP,easeInOut:Y5,easeOut:PP,circIn:fw,circInOut:W5,circOut:q5,backIn:uw,backInOut:G5,backOut:H5,anticipate:X5},jP=i=>typeof i=="string",mC=i=>{if(Z5(i)){ow(i.length===4);const[e,t,n,s]=i;return Pv(e,t,n,s)}else if(jP(i))return IP[i];return i},v_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function FP(i,e){let t=new Set,n=new Set,s=!1,r=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(p.schedule(m),i()),m(c)}const p={schedule:(m,g=!1,y=!1)=>{const S=y&&s?t:n;return g&&o.add(m),S.has(m)||S.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(c=m,s){r=!0;return}s=!0,[t,n]=[n,t],t.forEach(d),t.clear(),s=!1,r&&(r=!1,p.process(m))}};return p}const VP=40;function K5(i,e){let t=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,o=v_.reduce((R,L)=>(R[L]=FP(r),R),{}),{setup:c,read:d,resolveKeyframes:p,preUpdate:m,update:g,preRender:y,render:b,postRender:S}=o,E=()=>{const R=vu.useManualTiming?s.timestamp:performance.now();t=!1,vu.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(R-s.timestamp,VP),1)),s.timestamp=R,s.isProcessing=!0,c.process(s),d.process(s),p.process(s),m.process(s),g.process(s),y.process(s),b.process(s),S.process(s),s.isProcessing=!1,t&&e&&(n=!1,i(E))},A=()=>{t=!0,n=!0,s.isProcessing||i(E)};return{schedule:v_.reduce((R,L)=>{const z=o[L];return R[L]=(U,I=!1,F=!1)=>(t||A(),z.schedule(U,I,F)),R},{}),cancel:R=>{for(let L=0;L<v_.length;L++)o[v_[L]].cancel(R)},state:s,steps:o}}const{schedule:Bi,cancel:Lf,state:ra,steps:Y2}=K5(typeof requestAnimationFrame<"u"?requestAnimationFrame:Go,!0);let Db;function kP(){Db=void 0}const Cr={now:()=>(Db===void 0&&Cr.set(ra.isProcessing||vu.useManualTiming?ra.timestamp:performance.now()),Db),set:i=>{Db=i,queueMicrotask(kP)}},Q5=i=>e=>typeof e=="string"&&e.startsWith(i),dw=Q5("--"),HP=Q5("var(--"),hw=i=>HP(i)?GP.test(i.split("/*")[0].trim()):!1,GP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,m0={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},$g={...m0,transform:i=>gu(0,1,i)},y_={...m0,default:1},Eg=i=>Math.round(i*1e5)/1e5,pw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XP(i){return i==null}const qP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mw=(i,e)=>t=>!!(typeof t=="string"&&qP.test(t)&&t.startsWith(i)||e&&!XP(t)&&Object.prototype.hasOwnProperty.call(t,e)),J5=(i,e,t)=>n=>{if(typeof n!="string")return n;const[s,r,o,c]=n.match(pw);return{[i]:parseFloat(s),[e]:parseFloat(r),[t]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},WP=i=>gu(0,255,i),Z2={...m0,transform:i=>Math.round(WP(i))},ch={test:mw("rgb","red"),parse:J5("red","green","blue"),transform:({red:i,green:e,blue:t,alpha:n=1})=>"rgba("+Z2.transform(i)+", "+Z2.transform(e)+", "+Z2.transform(t)+", "+Eg($g.transform(n))+")"};function YP(i){let e="",t="",n="",s="";return i.length>5?(e=i.substring(1,3),t=i.substring(3,5),n=i.substring(5,7),s=i.substring(7,9)):(e=i.substring(1,2),t=i.substring(2,3),n=i.substring(3,4),s=i.substring(4,5),e+=e,t+=t,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const I3={test:mw("#"),parse:YP,transform:ch.transform},Bv=i=>({test:e=>typeof e=="string"&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),gf=Bv("deg"),yc=Bv("%"),nn=Bv("px"),ZP=Bv("vh"),KP=Bv("vw"),xC={...yc,parse:i=>yc.parse(i)/100,transform:i=>yc.transform(i*100)},wm={test:mw("hsl","hue"),parse:J5("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:t,alpha:n=1})=>"hsla("+Math.round(i)+", "+yc.transform(Eg(e))+", "+yc.transform(Eg(t))+", "+Eg($g.transform(n))+")"},_s={test:i=>ch.test(i)||I3.test(i)||wm.test(i),parse:i=>ch.test(i)?ch.parse(i):wm.test(i)?wm.parse(i):I3.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?ch.transform(i):wm.transform(i),getAnimatableNone:i=>{const e=_s.parse(i);return e.alpha=0,_s.transform(e)}},QP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JP(i){return isNaN(i)&&typeof i=="string"&&(i.match(pw)?.length||0)+(i.match(QP)?.length||0)>0}const $5="number",eD="color",$P="var",eB="var(",gC="${}",tB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ev(i){const e=i.toString(),t=[],n={color:[],number:[],var:[]},s=[];let r=0;const c=e.replace(tB,d=>(_s.test(d)?(n.color.push(r),s.push(eD),t.push(_s.parse(d))):d.startsWith(eB)?(n.var.push(r),s.push($P),t.push(d)):(n.number.push(r),s.push($5),t.push(parseFloat(d))),++r,gC)).split(gC);return{values:t,split:c,indexes:n,types:s}}function tD(i){return ev(i).values}function nD(i){const{split:e,types:t}=ev(i),n=e.length;return s=>{let r="";for(let o=0;o<n;o++)if(r+=e[o],s[o]!==void 0){const c=t[o];c===$5?r+=Eg(s[o]):c===eD?r+=_s.transform(s[o]):r+=s[o]}return r}}const nB=i=>typeof i=="number"?0:_s.test(i)?_s.getAnimatableNone(i):i;function iB(i){const e=tD(i);return nD(i)(e.map(nB))}const Of={test:JP,parse:tD,createTransformer:nD,getAnimatableNone:iB};function K2(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function sB({hue:i,saturation:e,lightness:t,alpha:n}){i/=360,e/=100,t/=100;let s=0,r=0,o=0;if(!e)s=r=o=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;s=K2(d,c,i+1/3),r=K2(d,c,i),o=K2(d,c,i-1/3)}return{red:Math.round(s*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:n}}function Kb(i,e){return t=>t>0?e:i}const Xi=(i,e,t)=>i+(e-i)*t,Q2=(i,e,t)=>{const n=i*i,s=t*(e*e-n)+n;return s<0?0:Math.sqrt(s)},aB=[I3,ch,wm],rB=i=>aB.find(e=>e.test(i));function vC(i){const e=rB(i);if(!e)return!1;let t=e.parse(i);return e===wm&&(t=sB(t)),t}const yC=(i,e)=>{const t=vC(i),n=vC(e);if(!t||!n)return Kb(i,e);const s={...t};return r=>(s.red=Q2(t.red,n.red,r),s.green=Q2(t.green,n.green,r),s.blue=Q2(t.blue,n.blue,r),s.alpha=Xi(t.alpha,n.alpha,r),ch.transform(s))},j3=new Set(["none","hidden"]);function oB(i,e){return j3.has(i)?t=>t<=0?i:e:t=>t>=1?e:i}function lB(i,e){return t=>Xi(i,e,t)}function xw(i){return typeof i=="number"?lB:typeof i=="string"?hw(i)?Kb:_s.test(i)?yC:fB:Array.isArray(i)?iD:typeof i=="object"?_s.test(i)?yC:cB:Kb}function iD(i,e){const t=[...i],n=t.length,s=i.map((r,o)=>xw(r)(r,e[o]));return r=>{for(let o=0;o<n;o++)t[o]=s[o](r);return t}}function cB(i,e){const t={...i,...e},n={};for(const s in t)i[s]!==void 0&&e[s]!==void 0&&(n[s]=xw(i[s])(i[s],e[s]));return s=>{for(const r in n)t[r]=n[r](s);return t}}function uB(i,e){const t=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const r=e.types[s],o=i.indexes[r][n[r]],c=i.values[o]??0;t[s]=c,n[r]++}return t}const fB=(i,e)=>{const t=Of.createTransformer(e),n=ev(i),s=ev(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?j3.has(i)&&!s.values.length||j3.has(e)&&!n.values.length?oB(i,e):zv(iD(uB(n,s),s.values),t):Kb(i,e)};function sD(i,e,t){return typeof i=="number"&&typeof e=="number"&&typeof t=="number"?Xi(i,e,t):xw(i)(i,e)}const dB=i=>{const e=({timestamp:t})=>i(t);return{start:(t=!0)=>Bi.update(e,t),stop:()=>Lf(e),now:()=>ra.isProcessing?ra.timestamp:Cr.now()}},aD=(i,e,t=10)=>{let n="";const s=Math.max(Math.round(e/t),2);for(let r=0;r<s;r++)n+=Math.round(i(r/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Qb=2e4;function gw(i){let e=0;const t=50;let n=i.next(e);for(;!n.done&&e<Qb;)e+=t,n=i.next(e);return e>=Qb?1/0:e}function hB(i,e=100,t){const n=t({...i,keyframes:[0,e]}),s=Math.min(gw(n),Qb);return{type:"keyframes",ease:r=>n.next(s*r).value/e,duration:Fo(s)}}const pB=5;function rD(i,e,t){const n=Math.max(e-pB,0);return j5(t-i(n),e-n)}const $i={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},J2=.001;function mB({duration:i=$i.duration,bounce:e=$i.bounce,velocity:t=$i.velocity,mass:n=$i.mass}){let s,r,o=1-e;o=gu($i.minDamping,$i.maxDamping,o),i=gu($i.minDuration,$i.maxDuration,Fo(i)),o<1?(s=p=>{const m=p*o,g=m*i,y=m-t,b=F3(p,o),S=Math.exp(-g);return J2-y/b*S},r=p=>{const g=p*o*i,y=g*t+t,b=Math.pow(o,2)*Math.pow(p,2)*i,S=Math.exp(-g),E=F3(Math.pow(p,2),o);return(-s(p)+J2>0?-1:1)*((y-b)*S)/E}):(s=p=>{const m=Math.exp(-p*i),g=(p-t)*i+1;return-J2+m*g},r=p=>{const m=Math.exp(-p*i),g=(t-p)*(i*i);return m*g});const c=5/i,d=gB(s,r,c);if(i=vc(i),isNaN(d))return{stiffness:$i.stiffness,damping:$i.damping,duration:i};{const p=Math.pow(d,2)*n;return{stiffness:p,damping:o*2*Math.sqrt(n*p),duration:i}}}const xB=12;function gB(i,e,t){let n=t;for(let s=1;s<xB;s++)n=n-i(n)/e(n);return n}function F3(i,e){return i*Math.sqrt(1-e*e)}const vB=["duration","bounce"],yB=["stiffness","damping","mass"];function _C(i,e){return e.some(t=>i[t]!==void 0)}function _B(i){let e={velocity:$i.velocity,stiffness:$i.stiffness,damping:$i.damping,mass:$i.mass,isResolvedFromDuration:!1,...i};if(!_C(i,yB)&&_C(i,vB))if(i.visualDuration){const t=i.visualDuration,n=2*Math.PI/(t*1.2),s=n*n,r=2*gu(.05,1,1-(i.bounce||0))*Math.sqrt(s);e={...e,mass:$i.mass,stiffness:s,damping:r}}else{const t=mB(i);e={...e,...t,mass:$i.mass},e.isResolvedFromDuration=!0}return e}function Jb(i=$i.visualDuration,e=$i.bounce){const t=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:e}:i;let{restSpeed:n,restDelta:s}=t;const r=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],c={done:!1,value:r},{stiffness:d,damping:p,mass:m,duration:g,velocity:y,isResolvedFromDuration:b}=_B({...t,velocity:-Fo(t.velocity||0)}),S=y||0,E=p/(2*Math.sqrt(d*m)),A=o-r,M=Fo(Math.sqrt(d/m)),D=Math.abs(A)<5;n||(n=D?$i.restSpeed.granular:$i.restSpeed.default),s||(s=D?$i.restDelta.granular:$i.restDelta.default);let R;if(E<1){const z=F3(M,E);R=U=>{const I=Math.exp(-E*M*U);return o-I*((S+E*M*A)/z*Math.sin(z*U)+A*Math.cos(z*U))}}else if(E===1)R=z=>o-Math.exp(-M*z)*(A+(S+M*A)*z);else{const z=M*Math.sqrt(E*E-1);R=U=>{const I=Math.exp(-E*M*U),F=Math.min(z*U,300);return o-I*((S+E*M*A)*Math.sinh(F)+z*A*Math.cosh(F))/z}}const L={calculatedDuration:b&&g||null,next:z=>{const U=R(z);if(b)c.done=z>=g;else{let I=z===0?S:0;E<1&&(I=z===0?vc(S):rD(R,z,U));const F=Math.abs(I)<=n,P=Math.abs(o-U)<=s;c.done=F&&P}return c.value=c.done?o:U,c},toString:()=>{const z=Math.min(gw(L),Qb),U=aD(I=>L.next(z*I).value,z,30);return z+"ms "+U},toTransition:()=>{}};return L}Jb.applyToOptions=i=>{const e=hB(i,100,Jb);return i.ease=e.ease,i.duration=vc(e.duration),i.type="keyframes",i};function V3({keyframes:i,velocity:e=0,power:t=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:r=500,modifyTarget:o,min:c,max:d,restDelta:p=.5,restSpeed:m}){const g=i[0],y={done:!1,value:g},b=F=>c!==void 0&&F<c||d!==void 0&&F>d,S=F=>c===void 0?d:d===void 0||Math.abs(c-F)<Math.abs(d-F)?c:d;let E=t*e;const A=g+E,M=o===void 0?A:o(A);M!==A&&(E=M-g);const D=F=>-E*Math.exp(-F/n),R=F=>M+D(F),L=F=>{const P=D(F),B=R(F);y.done=Math.abs(P)<=p,y.value=y.done?M:B};let z,U;const I=F=>{b(y.value)&&(z=F,U=Jb({keyframes:[y.value,S(y.value)],velocity:rD(R,F,y.value),damping:s,stiffness:r,restDelta:p,restSpeed:m}))};return I(0),{calculatedDuration:null,next:F=>{let P=!1;return!U&&z===void 0&&(P=!0,L(F),I(F)),z!==void 0&&F>=z?U.next(F-z):(!P&&L(F),y)}}}function bB(i,e,t){const n=[],s=t||vu.mix||sD,r=i.length-1;for(let o=0;o<r;o++){let c=s(i[o],i[o+1]);if(e){const d=Array.isArray(e)?e[o]||Go:e;c=zv(d,c)}n.push(c)}return n}function SB(i,e,{clamp:t=!0,ease:n,mixer:s}={}){const r=i.length;if(ow(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const o=i[0]===i[1];i[0]>i[r-1]&&(i=[...i].reverse(),e=[...e].reverse());const c=bB(e,n,s),d=c.length,p=m=>{if(o&&m<i[0])return e[0];let g=0;if(d>1)for(;g<i.length-2&&!(m<i[g+1]);g++);const y=Jg(i[g],i[g+1],m);return c[g](y)};return t?m=>p(gu(i[0],i[r-1],m)):p}function MB(i,e){const t=i[i.length-1];for(let n=1;n<=e;n++){const s=Jg(0,e,n);i.push(Xi(t,1,s))}}function TB(i){const e=[0];return MB(e,i.length-1),e}function wB(i,e){return i.map(t=>t*e)}function EB(i,e){return i.map(()=>e||Y5).splice(0,i.length-1)}function Ag({duration:i=300,keyframes:e,times:t,ease:n="easeInOut"}){const s=BP(n)?n.map(mC):mC(n),r={done:!1,value:e[0]},o=wB(t&&t.length===e.length?t:TB(e),i),c=SB(o,e,{ease:Array.isArray(s)?s:EB(e,s)});return{calculatedDuration:i,next:d=>(r.value=c(d),r.done=d>=i,r)}}const AB=i=>i!==null;function vw(i,{repeat:e,repeatType:t="loop"},n,s=1){const r=i.filter(AB),c=s<0||e&&t!=="loop"&&e%2===1?0:r.length-1;return!c||n===void 0?r[c]:n}const CB={decay:V3,inertia:V3,tween:Ag,keyframes:Ag,spring:Jb};function oD(i){typeof i.type=="string"&&(i.type=CB[i.type])}class yw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const NB=i=>i/100;class _w extends yw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Cr.now()&&this.tick(Cr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;oD(e);const{type:t=Ag,repeat:n=0,repeatDelay:s=0,repeatType:r,velocity:o=0}=e;let{keyframes:c}=e;const d=t||Ag;d!==Ag&&typeof c[0]!="number"&&(this.mixKeyframes=zv(NB,sD(c[0],c[1])),c=[0,100]);const p=d({...e,keyframes:c});r==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-o})),p.calculatedDuration===null&&(p.calculatedDuration=gw(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:s,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:p=0,keyframes:m,repeat:g,repeatType:y,repeatDelay:b,type:S,onUpdate:E,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const M=this.currentTime-p*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?M<0:M>s;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let R=this.currentTime,L=n;if(g){const F=Math.min(this.currentTime,s)/c;let P=Math.floor(F),B=F%1;!B&&F>=1&&(B=1),B===1&&P--,P=Math.min(P,g+1),!!(P%2)&&(y==="reverse"?(B=1-B,b&&(B-=b/c)):y==="mirror"&&(L=o)),R=gu(0,1,B)*c}const z=D?{done:!1,value:m[0]}:L.next(R);r&&(z.value=r(z.value));let{done:U}=z;!D&&d!==null&&(U=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return I&&S!==V3&&(z.value=vw(m,this.options,A,this.speed)),E&&E(z.value),I&&this.finish(),z}then(e,t){return this.finished.then(e,t)}get duration(){return Fo(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Fo(e)}get time(){return Fo(this.currentTime)}set time(e){e=vc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cr.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Fo(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=dB,startTime:t}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=t??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function RB(i){for(let e=1;e<i.length;e++)i[e]??(i[e]=i[e-1])}const uh=i=>i*180/Math.PI,k3=i=>{const e=uh(Math.atan2(i[1],i[0]));return H3(e)},DB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:i=>(Math.abs(i[0])+Math.abs(i[3]))/2,rotate:k3,rotateZ:k3,skewX:i=>uh(Math.atan(i[1])),skewY:i=>uh(Math.atan(i[2])),skew:i=>(Math.abs(i[1])+Math.abs(i[2]))/2},H3=i=>(i=i%360,i<0&&(i+=360),i),bC=k3,SC=i=>Math.sqrt(i[0]*i[0]+i[1]*i[1]),MC=i=>Math.sqrt(i[4]*i[4]+i[5]*i[5]),LB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:SC,scaleY:MC,scale:i=>(SC(i)+MC(i))/2,rotateX:i=>H3(uh(Math.atan2(i[6],i[5]))),rotateY:i=>H3(uh(Math.atan2(-i[2],i[0]))),rotateZ:bC,rotate:bC,skewX:i=>uh(Math.atan(i[4])),skewY:i=>uh(Math.atan(i[1])),skew:i=>(Math.abs(i[1])+Math.abs(i[4]))/2};function G3(i){return i.includes("scale")?1:0}function X3(i,e){if(!i||i==="none")return G3(e);const t=i.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(t)n=LB,s=t;else{const c=i.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=DB,s=c}if(!s)return G3(e);const r=n[e],o=s[1].split(",").map(UB);return typeof r=="function"?r(o):o[r]}const OB=(i,e)=>{const{transform:t="none"}=getComputedStyle(i);return X3(t,e)};function UB(i){return parseFloat(i.trim())}const x0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],g0=new Set(x0),TC=i=>i===m0||i===nn,zB=new Set(["x","y","z"]),PB=x0.filter(i=>!zB.has(i));function BB(i){const e=[];return PB.forEach(t=>{const n=i.getValue(t);n!==void 0&&(e.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),e}const gh={width:({x:i},{paddingLeft:e="0",paddingRight:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),height:({y:i},{paddingTop:e="0",paddingBottom:t="0"})=>i.max-i.min-parseFloat(e)-parseFloat(t),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:(i,{transform:e})=>X3(e,"x"),y:(i,{transform:e})=>X3(e,"y")};gh.translateX=gh.x;gh.translateY=gh.y;const vh=new Set;let q3=!1,W3=!1,Y3=!1;function lD(){if(W3){const i=Array.from(vh).filter(n=>n.needsMeasurement),e=new Set(i.map(n=>n.element)),t=new Map;e.forEach(n=>{const s=BB(n);s.length&&(t.set(n,s),n.render())}),i.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=t.get(n);s&&s.forEach(([r,o])=>{n.getValue(r)?.set(o)})}),i.forEach(n=>n.measureEndState()),i.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}W3=!1,q3=!1,vh.forEach(i=>i.complete(Y3)),vh.clear()}function cD(){vh.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(W3=!0)})}function IB(){Y3=!0,cD(),lD(),Y3=!1}class bw{constructor(e,t,n,s,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=s,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(vh.add(this),q3||(q3=!0,Bi.read(cD),Bi.resolveKeyframes(lD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:s}=this;if(e[0]===null){const r=s?.get(),o=e[e.length-1];if(r!==void 0)e[0]=r;else if(n&&t){const c=n.readValue(t,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),s&&r===void 0&&s.set(e[0])}RB(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),vh.delete(this)}cancel(){this.state==="scheduled"&&(vh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jB=i=>i.startsWith("--");function FB(i,e,t){jB(e)?i.style.setProperty(e,t):i.style[e]=t}const VB=lw(()=>window.ScrollTimeline!==void 0),kB={};function HB(i,e){const t=lw(i);return()=>kB[e]??t()}const uD=HB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mg=([i,e,t,n])=>`cubic-bezier(${i}, ${e}, ${t}, ${n})`,wC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mg([0,.65,.55,1]),circOut:mg([.55,0,1,.45]),backIn:mg([.31,.01,.66,-.59]),backOut:mg([.33,1.53,.69,.99])};function fD(i,e){if(i)return typeof i=="function"?uD()?aD(i,e):"ease-out":Z5(i)?mg(i):Array.isArray(i)?i.map(t=>fD(t,e)||wC.easeOut):wC[i]}function GB(i,e,t,{delay:n=0,duration:s=300,repeat:r=0,repeatType:o="loop",ease:c="easeOut",times:d}={},p=void 0){const m={[e]:t};d&&(m.offset=d);const g=fD(c,s);Array.isArray(g)&&(m.easing=g);const y={delay:n,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return p&&(y.pseudoElement=p),i.animate(m,y)}function dD(i){return typeof i=="function"&&"applyToOptions"in i}function XB({type:i,...e}){return dD(i)&&uD()?i.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class qB extends yw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:s,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=e,ow(typeof e.type!="string");const p=XB(e);this.animation=GB(t,n,s,p,r),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const m=vw(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):FB(t,n,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Fo(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Fo(e)}get time(){return Fo(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=vc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&VB()?(this.animation.timeline=e,Go):t(this)}}const hD={anticipate:X5,backInOut:G5,circInOut:W5};function WB(i){return i in hD}function YB(i){typeof i.ease=="string"&&WB(i.ease)&&(i.ease=hD[i.ease])}const EC=10;class ZB extends qB{constructor(e){YB(e),oD(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:s,element:r,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const c=new _w({...o,autoplay:!1}),d=vc(this.finishedTime??this.time);t.setWithVelocity(c.sample(d-EC).value,c.sample(d).value,EC),c.stop()}}const AC=(i,e)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Of.test(i)||i==="0")&&!i.startsWith("url("));function KB(i){const e=i[0];if(i.length===1)return!0;for(let t=0;t<i.length;t++)if(i[t]!==e)return!0}function QB(i,e,t,n){const s=i[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const r=i[i.length-1],o=AC(s,e),c=AC(r,e);return!o||!c?!1:KB(i)||(t==="spring"||dD(t))&&n}function Z3(i){i.duration=0,i.type="keyframes"}const JB=new Set(["opacity","clipPath","filter","transform"]),$B=lw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function eI(i){const{motionValue:e,name:t,repeatDelay:n,repeatType:s,damping:r,type:o}=i;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return $B()&&t&&JB.has(t)&&(t!=="transform"||!p)&&!d&&!n&&s!=="mirror"&&r!==0&&o!=="inertia"}const tI=40;class nI extends yw{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:o="loop",keyframes:c,name:d,motionValue:p,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Cr.now();const y={autoplay:e,delay:t,type:n,repeat:s,repeatDelay:r,repeatType:o,name:d,motionValue:p,element:m,...g},b=m?.KeyframeResolver||bw;this.keyframeResolver=new b(c,(S,E,A)=>this.onKeyframesResolved(S,E,y,!A),d,p,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,n,s){this.keyframeResolver=void 0;const{name:r,type:o,velocity:c,delay:d,isHandoff:p,onUpdate:m}=n;this.resolvedAt=Cr.now(),QB(e,r,o,c)||((vu.instantAnimations||!d)&&m?.(vw(e,n,t)),e[0]=e[e.length-1],Z3(n),n.repeat=0);const y={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>tI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},b=!p&&eI(y)?new ZB({...y,element:y.motionValue.owner.current}):new _w(y);b.finished.then(()=>this.notifyFinished()).catch(Go),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),IB()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const iI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function sI(i){const e=iI.exec(i);if(!e)return[,];const[,t,n,s]=e;return[`--${t??n}`,s]}function pD(i,e,t=1){const[n,s]=sI(i);if(!n)return;const r=window.getComputedStyle(e).getPropertyValue(n);if(r){const o=r.trim();return P5(o)?parseFloat(o):o}return hw(s)?pD(s,e,t+1):s}function Sw(i,e){return i?.[e]??i?.default??i}const mD=new Set(["width","height","top","left","right","bottom",...x0]),aI={test:i=>i==="auto",parse:i=>i},xD=i=>e=>e.test(i),gD=[m0,nn,yc,gf,KP,ZP,aI],CC=i=>gD.find(xD(i));function rI(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||I5(i):!0}const oI=new Set(["brightness","contrast","saturate","opacity"]);function lI(i){const[e,t]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[n]=t.match(pw)||[];if(!n)return i;const s=t.replace(n,"");let r=oI.has(e)?1:0;return n!==t&&(r*=100),e+"("+r+s+")"}const cI=/\b([a-z-]*)\(.*?\)/gu,K3={...Of,getAnimatableNone:i=>{const e=i.match(cI);return e?e.map(lI).join(" "):i}},NC={...m0,transform:Math.round},uI={rotate:gf,rotateX:gf,rotateY:gf,rotateZ:gf,scale:y_,scaleX:y_,scaleY:y_,scaleZ:y_,skew:gf,skewX:gf,skewY:gf,distance:nn,translateX:nn,translateY:nn,translateZ:nn,x:nn,y:nn,z:nn,perspective:nn,transformPerspective:nn,opacity:$g,originX:xC,originY:xC,originZ:nn},Mw={borderWidth:nn,borderTopWidth:nn,borderRightWidth:nn,borderBottomWidth:nn,borderLeftWidth:nn,borderRadius:nn,radius:nn,borderTopLeftRadius:nn,borderTopRightRadius:nn,borderBottomRightRadius:nn,borderBottomLeftRadius:nn,width:nn,maxWidth:nn,height:nn,maxHeight:nn,top:nn,right:nn,bottom:nn,left:nn,padding:nn,paddingTop:nn,paddingRight:nn,paddingBottom:nn,paddingLeft:nn,margin:nn,marginTop:nn,marginRight:nn,marginBottom:nn,marginLeft:nn,backgroundPositionX:nn,backgroundPositionY:nn,...uI,zIndex:NC,fillOpacity:$g,strokeOpacity:$g,numOctaves:NC},fI={...Mw,color:_s,backgroundColor:_s,outlineColor:_s,fill:_s,stroke:_s,borderColor:_s,borderTopColor:_s,borderRightColor:_s,borderBottomColor:_s,borderLeftColor:_s,filter:K3,WebkitFilter:K3},vD=i=>fI[i];function yD(i,e){let t=vD(i);return t!==K3&&(t=Of),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const dI=new Set(["auto","none","0"]);function hI(i,e,t){let n=0,s;for(;n<i.length&&!s;){const r=i[n];typeof r=="string"&&!dI.has(r)&&ev(r).values.length&&(s=i[n]),n++}if(s&&t)for(const r of e)i[r]=yD(t,s)}class pI extends bw{constructor(e,t,n,s,r){super(e,t,n,s,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),hw(p))){const m=pD(p,t.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!mD.has(n)||e.length!==2)return;const[s,r]=e,o=CC(s),c=CC(r);if(o!==c)if(TC(o)&&TC(c))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else gh[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||rI(e[s]))&&n.push(s);n.length&&hI(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gh[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const r=n.length-1,o=n[r];n[r]=gh[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function mI(i,e,t){if(i instanceof EventTarget)return[i];if(typeof i=="string"){let n=document;const s=t?.[i]??n.querySelectorAll(i);return s?Array.from(s):[]}return Array.from(i)}const _D=(i,e)=>e&&typeof i=="number"?e.transform(i):i;function bD(i){return B5(i)&&"offsetHeight"in i}const RC=30,xI=i=>!isNaN(parseFloat(i));class gI{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const s=Cr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Cr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xI(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new cw);const n=this.events[e].add(t);return e==="change"?()=>{n(),Bi.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>RC)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,RC);return j5(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xm(i,e){return new gI(i,e)}const{schedule:Tw}=K5(queueMicrotask,!1),Sl={x:!1,y:!1};function SD(){return Sl.x||Sl.y}function vI(i){return i==="x"||i==="y"?Sl[i]?null:(Sl[i]=!0,()=>{Sl[i]=!1}):Sl.x||Sl.y?null:(Sl.x=Sl.y=!0,()=>{Sl.x=Sl.y=!1})}function MD(i,e){const t=mI(i),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[t,s,()=>n.abort()]}function DC(i){return!(i.pointerType==="touch"||SD())}function yI(i,e,t={}){const[n,s,r]=MD(i,t),o=c=>{if(!DC(c))return;const{target:d}=c,p=e(d,c);if(typeof p!="function"||!d)return;const m=g=>{DC(g)&&(p(g),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,s)};return n.forEach(c=>{c.addEventListener("pointerenter",o,s)}),r}const TD=(i,e)=>e?i===e?!0:TD(i,e.parentElement):!1,ww=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,_I=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bI(i){return _I.has(i.tagName)||i.tabIndex!==-1}const Lb=new WeakSet;function LC(i){return e=>{e.key==="Enter"&&i(e)}}function $2(i,e){i.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const SI=(i,e)=>{const t=i.currentTarget;if(!t)return;const n=LC(()=>{if(Lb.has(t))return;$2(t,"down");const s=LC(()=>{$2(t,"up")}),r=()=>$2(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",n,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",n),e)};function OC(i){return ww(i)&&!SD()}function MI(i,e,t={}){const[n,s,r]=MD(i,t),o=c=>{const d=c.currentTarget;if(!OC(c))return;Lb.add(d);const p=e(d,c),m=(b,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),Lb.has(d)&&Lb.delete(d),OC(b)&&typeof p=="function"&&p(b,{success:S})},g=b=>{m(b,d===window||d===document||t.useGlobalTarget||TD(d,b.target))},y=b=>{m(b,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",y,s)};return n.forEach(c=>{(t.useGlobalTarget?window:c).addEventListener("pointerdown",o,s),bD(c)&&(c.addEventListener("focus",p=>SI(p,s)),!bI(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),r}function wD(i){return B5(i)&&"ownerSVGElement"in i}function TI(i){return wD(i)&&i.tagName==="svg"}const La=i=>!!(i&&i.getVelocity),wI=[...gD,_s,Of],EI=i=>wI.find(xD(i)),Ew=se.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});function UC(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function AI(...i){return e=>{let t=!1;const n=i.map(s=>{const r=UC(s,e);return!t&&typeof r=="function"&&(t=!0),r});if(t)return()=>{for(let s=0;s<n.length;s++){const r=n[s];typeof r=="function"?r():UC(i[s],null)}}}}function CI(...i){return se.useCallback(AI(...i),i)}class NI extends se.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const n=t.offsetParent,s=bD(n)&&n.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function RI({children:i,isPresent:e,anchorX:t,root:n}){const s=se.useId(),r=se.useRef(null),o=se.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=se.useContext(Ew),d=CI(r,i?.ref);return se.useInsertionEffect(()=>{const{width:p,height:m,top:g,left:y,right:b}=o.current;if(e||!r.current||!p||!m)return;const S=t==="left"?`left: ${y}`:`right: ${b}`;r.current.dataset.motionPopId=s;const E=document.createElement("style");c&&(E.nonce=c);const A=n??document.head;return A.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${S}px !important;
            top: ${g}px !important;
          }
        `),()=>{A.contains(E)&&A.removeChild(E)}},[e]),_.jsx(NI,{isPresent:e,childRef:r,sizeRef:o,children:se.cloneElement(i,{ref:d})})}const DI=({children:i,initial:e,isPresent:t,onExitComplete:n,custom:s,presenceAffectsLayout:r,mode:o,anchorX:c,root:d})=>{const p=iw(LI),m=se.useId();let g=!0,y=se.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:t,custom:s,onExitComplete:b=>{p.set(b,!0);for(const S of p.values())if(!S)return;n&&n()},register:b=>(p.set(b,!1),()=>p.delete(b))}),[t,p,n]);return r&&g&&(y={...y}),se.useMemo(()=>{p.forEach((b,S)=>p.set(S,!1))},[t]),se.useEffect(()=>{!t&&!p.size&&n&&n()},[t]),o==="popLayout"&&(i=_.jsx(RI,{isPresent:t,anchorX:c,root:d,children:i})),_.jsx(dS.Provider,{value:y,children:i})};function LI(){return new Map}function ED(i=!0){const e=se.useContext(dS);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,r=se.useId();se.useEffect(()=>{if(i)return s(r)},[i]);const o=se.useCallback(()=>i&&n&&n(r),[r,n,i]);return!t&&n?[!1,o]:[!0]}const __=i=>i.key||"";function zC(i){const e=[];return se.Children.forEach(i,t=>{se.isValidElement(t)&&e.push(t)}),e}const wr=({children:i,custom:e,initial:t=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:r="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[p,m]=ED(o),g=se.useMemo(()=>zC(i),[i]),y=o&&!p?[]:g.map(__),b=se.useRef(!0),S=se.useRef(g),E=iw(()=>new Map),[A,M]=se.useState(g),[D,R]=se.useState(g);z5(()=>{b.current=!1,S.current=g;for(let U=0;U<D.length;U++){const I=__(D[U]);y.includes(I)?E.delete(I):E.get(I)!==!0&&E.set(I,!1)}},[D,y.length,y.join("-")]);const L=[];if(g!==A){let U=[...g];for(let I=0;I<D.length;I++){const F=D[I],P=__(F);y.includes(P)||(U.splice(I,0,F),L.push(F))}return r==="wait"&&L.length&&(U=L),R(zC(U)),M(g),null}const{forceRender:z}=se.useContext(nw);return _.jsx(_.Fragment,{children:D.map(U=>{const I=__(U),F=o&&!p?!1:g===D||y.includes(I),P=()=>{if(E.has(I))E.set(I,!0);else return;let B=!0;E.forEach(H=>{H||(B=!1)}),B&&(z?.(),R(S.current),o&&m?.(),n&&n())};return _.jsx(DI,{isPresent:F,initial:!b.current||t?void 0:!1,custom:e,presenceAffectsLayout:s,mode:r,root:d,onExitComplete:F?void 0:P,anchorX:c,children:U},I)})})},AD=se.createContext({strict:!1}),PC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qm={};for(const i in PC)qm[i]={isEnabled:e=>PC[i].some(t=>!!e[t])};function OI(i){for(const e in i)qm[e]={...qm[e],...i[e]}}const UI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $b(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||UI.has(i)}let CD=i=>!$b(i);function zI(i){typeof i=="function"&&(CD=e=>e.startsWith("on")?!$b(e):i(e))}try{zI(require("@emotion/is-prop-valid").default)}catch{}function PI(i,e,t){const n={};for(const s in i)s==="values"&&typeof i.values=="object"||(CD(s)||t===!0&&$b(s)||!e&&!$b(s)||i.draggable&&s.startsWith("onDrag"))&&(n[s]=i[s]);return n}const hS=se.createContext({});function pS(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}function tv(i){return typeof i=="string"||Array.isArray(i)}const Aw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cw=["initial",...Aw];function mS(i){return pS(i.animate)||Cw.some(e=>tv(i[e]))}function ND(i){return!!(mS(i)||i.variants)}function BI(i,e){if(mS(i)){const{initial:t,animate:n}=i;return{initial:t===!1||tv(t)?t:void 0,animate:tv(n)?n:void 0}}return i.inherit!==!1?e:{}}function II(i){const{initial:e,animate:t}=BI(i,se.useContext(hS));return se.useMemo(()=>({initial:e,animate:t}),[BC(e),BC(t)])}function BC(i){return Array.isArray(i)?i.join(" "):i}const nv={};function jI(i){for(const e in i)nv[e]=i[e],dw(e)&&(nv[e].isCSSVariable=!0)}function RD(i,{layout:e,layoutId:t}){return g0.has(i)||i.startsWith("origin")||(e||t!==void 0)&&(!!nv[i]||i==="opacity")}const FI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},VI=x0.length;function kI(i,e,t){let n="",s=!0;for(let r=0;r<VI;r++){const o=x0[r],c=i[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||t){const p=_D(c,Mw[o]);if(!d){s=!1;const m=FI[o]||o;n+=`${m}(${p}) `}t&&(e[o]=p)}}return n=n.trim(),t?n=t(e,s?"":n):s&&(n="none"),n}function Nw(i,e,t){const{style:n,vars:s,transformOrigin:r}=i;let o=!1,c=!1;for(const d in e){const p=e[d];if(g0.has(d)){o=!0;continue}else if(dw(d)){s[d]=p;continue}else{const m=_D(p,Mw[d]);d.startsWith("origin")?(c=!0,r[d]=m):n[d]=m}}if(e.transform||(o||t?n.transform=kI(e,i.transform,t):n.transform&&(n.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=r;n.transformOrigin=`${d} ${p} ${m}`}}const Rw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function DD(i,e,t){for(const n in e)!La(e[n])&&!RD(n,t)&&(i[n]=e[n])}function HI({transformTemplate:i},e){return se.useMemo(()=>{const t=Rw();return Nw(t,e,i),Object.assign({},t.vars,t.style)},[e])}function GI(i,e){const t=i.style||{},n={};return DD(n,t,i),Object.assign(n,HI(i,e)),n}function XI(i,e){const t={},n=GI(i,e);return i.drag&&i.dragListener!==!1&&(t.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(t.tabIndex=0),t.style=n,t}const qI={offset:"stroke-dashoffset",array:"stroke-dasharray"},WI={offset:"strokeDashoffset",array:"strokeDasharray"};function YI(i,e,t=1,n=0,s=!0){i.pathLength=1;const r=s?qI:WI;i[r.offset]=nn.transform(-n);const o=nn.transform(e),c=nn.transform(t);i[r.array]=`${o} ${c}`}function LD(i,{attrX:e,attrY:t,attrScale:n,pathLength:s,pathSpacing:r=1,pathOffset:o=0,...c},d,p,m){if(Nw(i,c,p),d){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:g,style:y}=i;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),t!==void 0&&(g.y=t),n!==void 0&&(g.scale=n),s!==void 0&&YI(g,s,r,o,!1)}const OD=()=>({...Rw(),attrs:{}}),UD=i=>typeof i=="string"&&i.toLowerCase()==="svg";function ZI(i,e,t,n){const s=se.useMemo(()=>{const r=OD();return LD(r,e,UD(n),i.transformTemplate,i.style),{...r.attrs,style:{...r.style}}},[e]);if(i.style){const r={};DD(r,i.style,i),s.style={...r,...s.style}}return s}const KI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dw(i){return typeof i!="string"||i.includes("-")?!1:!!(KI.indexOf(i)>-1||/[A-Z]/u.test(i))}function QI(i,e,t,{latestValues:n},s,r=!1){const c=(Dw(i)?ZI:XI)(e,n,s,i),d=PI(e,typeof i=="string",r),p=i!==se.Fragment?{...d,...c,ref:t}:{},{children:m}=e,g=se.useMemo(()=>La(m)?m.get():m,[m]);return se.createElement(i,{...p,children:g})}function IC(i){const e=[{},{}];return i?.values.forEach((t,n)=>{e[0][n]=t.get(),e[1][n]=t.getVelocity()}),e}function Lw(i,e,t,n){if(typeof e=="function"){const[s,r]=IC(n);e=e(t!==void 0?t:i.custom,s,r)}if(typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"){const[s,r]=IC(n);e=e(t!==void 0?t:i.custom,s,r)}return e}function Ob(i){return La(i)?i.get():i}function JI({scrapeMotionValuesFromProps:i,createRenderState:e},t,n,s){return{latestValues:$I(t,n,s,i),renderState:e()}}function $I(i,e,t,n){const s={},r=n(i,{});for(const y in r)s[y]=Ob(r[y]);let{initial:o,animate:c}=i;const d=mS(i),p=ND(i);e&&p&&!d&&i.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let m=t?t.initial===!1:!1;m=m||o===!1;const g=m?c:o;if(g&&typeof g!="boolean"&&!pS(g)){const y=Array.isArray(g)?g:[g];for(let b=0;b<y.length;b++){const S=Lw(i,y[b]);if(S){const{transitionEnd:E,transition:A,...M}=S;for(const D in M){let R=M[D];if(Array.isArray(R)){const L=m?R.length-1:0;R=R[L]}R!==null&&(s[D]=R)}for(const D in E)s[D]=E[D]}}}return s}const zD=i=>(e,t)=>{const n=se.useContext(hS),s=se.useContext(dS),r=()=>JI(i,e,n,s);return t?r():iw(r)};function Ow(i,e,t){const{style:n}=i,s={};for(const r in n)(La(n[r])||e.style&&La(e.style[r])||RD(r,i)||t?.getValue(r)?.liveStyle!==void 0)&&(s[r]=n[r]);return s}const e9=zD({scrapeMotionValuesFromProps:Ow,createRenderState:Rw});function PD(i,e,t){const n=Ow(i,e,t);for(const s in i)if(La(i[s])||La(e[s])){const r=x0.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[r]=i[s]}return n}const t9=zD({scrapeMotionValuesFromProps:PD,createRenderState:OD}),n9=Symbol.for("motionComponentSymbol");function Em(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function i9(i,e,t){return se.useCallback(n=>{n&&i.onMount&&i.onMount(n),e&&(n?e.mount(n):e.unmount()),t&&(typeof t=="function"?t(n):Em(t)&&(t.current=n))},[e])}const Uw=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),s9="framerAppearId",BD="data-"+Uw(s9),ID=se.createContext({});function a9(i,e,t,n,s){const{visualElement:r}=se.useContext(hS),o=se.useContext(AD),c=se.useContext(dS),d=se.useContext(Ew).reducedMotion,p=se.useRef(null);n=n||o.renderer,!p.current&&n&&(p.current=n(i,{visualState:e,parent:r,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=p.current,g=se.useContext(ID);m&&!m.projection&&s&&(m.type==="html"||m.type==="svg")&&r9(p.current,t,s,g);const y=se.useRef(!1);se.useInsertionEffect(()=>{m&&y.current&&m.update(t,c)});const b=t[BD],S=se.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return z5(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),S.current&&m.animationState&&m.animationState.animateChanges())}),se.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),S.current=!1),m.enteringChildren=void 0)}),m}function r9(i,e,t,n){const{layoutId:s,layout:r,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:p,layoutCrossfade:m}=e;i.projection=new t(i.latestValues,e["data-framer-portal-id"]?void 0:jD(i.parent)),i.projection.setOptions({layoutId:s,layout:r,alwaysMeasureLayout:!!o||c&&Em(c),visualElement:i,animationType:typeof r=="string"?r:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:d,layoutRoot:p})}function jD(i){if(i)return i.options.allowProjection!==!1?i.projection:jD(i.parent)}function eM(i,{forwardMotionProps:e=!1}={},t,n){t&&OI(t);const s=Dw(i)?t9:e9;function r(c,d){let p;const m={...se.useContext(Ew),...c,layoutId:o9(c)},{isStatic:g}=m,y=II(c),b=s(c,g);if(!g&&sw){l9();const S=c9(m);p=S.MeasureLayout,y.visualElement=a9(i,b,m,n,S.ProjectionNode)}return _.jsxs(hS.Provider,{value:y,children:[p&&y.visualElement?_.jsx(p,{visualElement:y.visualElement,...m}):null,QI(i,c,i9(b,y.visualElement,d),b,g,e)]})}r.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const o=se.forwardRef(r);return o[n9]=i,o}function o9({layoutId:i}){const e=se.useContext(nw).id;return e&&i!==void 0?e+"-"+i:i}function l9(i,e){se.useContext(AD).strict}function c9(i){const{drag:e,layout:t}=qm;if(!e&&!t)return{};const n={...e,...t};return{MeasureLayout:e?.isEnabled(i)||t?.isEnabled(i)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function u9(i,e){if(typeof Proxy>"u")return eM;const t=new Map,n=(r,o)=>eM(r,o,i,e),s=(r,o)=>n(r,o);return new Proxy(s,{get:(r,o)=>o==="create"?n:(t.has(o)||t.set(o,eM(o,void 0,i,e)),t.get(o))})}function FD({top:i,left:e,right:t,bottom:n}){return{x:{min:e,max:t},y:{min:i,max:n}}}function f9({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function d9(i,e){if(!e)return i;const t=e({x:i.left,y:i.top}),n=e({x:i.right,y:i.bottom});return{top:t.y,left:t.x,bottom:n.y,right:n.x}}function tM(i){return i===void 0||i===1}function Q3({scale:i,scaleX:e,scaleY:t}){return!tM(i)||!tM(e)||!tM(t)}function nh(i){return Q3(i)||VD(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function VD(i){return jC(i.x)||jC(i.y)}function jC(i){return i&&i!=="0%"}function e1(i,e,t){const n=i-t,s=e*n;return t+s}function FC(i,e,t,n,s){return s!==void 0&&(i=e1(i,s,n)),e1(i,t,n)+e}function J3(i,e=0,t=1,n,s){i.min=FC(i.min,e,t,n,s),i.max=FC(i.max,e,t,n,s)}function kD(i,{x:e,y:t}){J3(i.x,e.translate,e.scale,e.originPoint),J3(i.y,t.translate,t.scale,t.originPoint)}const VC=.999999999999,kC=1.0000000000001;function h9(i,e,t,n=!1){const s=t.length;if(!s)return;e.x=e.y=1;let r,o;for(let c=0;c<s;c++){r=t[c],o=r.projectionDelta;const{visualElement:d}=r.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Cm(i,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,kD(i,o)),n&&nh(r.latestValues)&&Cm(i,r.latestValues))}e.x<kC&&e.x>VC&&(e.x=1),e.y<kC&&e.y>VC&&(e.y=1)}function Am(i,e){i.min=i.min+e,i.max=i.max+e}function HC(i,e,t,n,s=.5){const r=Xi(i.min,i.max,s);J3(i,e,t,r,n)}function Cm(i,e){HC(i.x,e.x,e.scaleX,e.scale,e.originX),HC(i.y,e.y,e.scaleY,e.scale,e.originY)}function HD(i,e){return FD(d9(i.getBoundingClientRect(),e))}function p9(i,e,t){const n=HD(i,t),{scroll:s}=e;return s&&(Am(n.x,s.offset.x),Am(n.y,s.offset.y)),n}const GC=()=>({translate:0,scale:1,origin:0,originPoint:0}),Nm=()=>({x:GC(),y:GC()}),XC=()=>({min:0,max:0}),Os=()=>({x:XC(),y:XC()}),$3={current:null},GD={current:!1};function m9(){if(GD.current=!0,!!sw)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>$3.current=i.matches;i.addEventListener("change",e),e()}else $3.current=!1}const x9=new WeakMap;function g9(i,e,t){for(const n in e){const s=e[n],r=t[n];if(La(s))i.addValue(n,s);else if(La(r))i.addValue(n,Xm(s,{owner:i}));else if(r!==s)if(i.hasValue(n)){const o=i.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=i.getStaticValue(n);i.addValue(n,Xm(o!==void 0?o:s,{owner:i}))}}for(const n in t)e[n]===void 0&&i.removeValue(n);return e}const qC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class v9{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:r,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Cr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Bi.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!r,this.isControllingVariants=mS(t),this.isVariantNode=ND(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(t,{},this);for(const y in g){const b=g[y];d[y]!==void 0&&La(b)&&b.set(d[y])}}mount(e){this.current=e,x9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,n)=>this.bindToMotionValue(n,t)),GD.current||m9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:$3.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Lf(this.notifyUpdate),Lf(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=g0.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Bi.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in qm){const t=qm[e];if(!t)continue;const{isEnabled:n,Feature:s}=t;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Os()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<qC.length;n++){const s=qC[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const r="on"+s,o=e[r];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=g9(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&t!==void 0&&(n=Xm(t===null?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(P5(n)||I5(n))?n=parseFloat(n):!EI(n)&&Of.test(t)&&(n=yD(e,t)),this.setBaseTarget(e,La(n)?n.get():n)),La(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if(typeof t=="string"||typeof t=="object"){const r=Lw(this.props,t,this.presenceContext?.custom);r&&(n=r[e])}if(t&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!La(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new cw),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Tw.render(this.render)}}class XD extends v9{constructor(){super(...arguments),this.KeyframeResolver=pI}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;La(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function qD(i,{style:e,vars:t},n,s){const r=i.style;let o;for(o in e)r[o]=e[o];s?.applyProjectionStyles(r,n);for(o in t)r.setProperty(o,t[o])}function y9(i){return window.getComputedStyle(i)}class _9 extends XD{constructor(){super(...arguments),this.type="html",this.renderInstance=qD}readValueFromInstance(e,t){if(g0.has(t))return this.projection?.isProjecting?G3(t):OB(e,t);{const n=y9(e),s=(dw(t)?n.getPropertyValue(t):n[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return HD(e,t)}build(e,t,n){Nw(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return Ow(e,t,n)}}const WD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function b9(i,e,t,n){qD(i,e,void 0,n);for(const s in e.attrs)i.setAttribute(WD.has(s)?s:Uw(s),e.attrs[s])}class S9 extends XD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Os}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(g0.has(t)){const n=vD(t);return n&&n.default||0}return t=WD.has(t)?t:Uw(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return PD(e,t,n)}build(e,t,n){LD(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,s){b9(e,t,n,s)}mount(e){this.isSVGTag=UD(e.tagName),super.mount(e)}}const M9=(i,e)=>Dw(i)?new S9(e):new _9(e,{allowProjection:i!==se.Fragment});function Pm(i,e,t){const n=i.getProps();return Lw(n,e,t!==void 0?t:n.custom,i)}const eT=i=>Array.isArray(i);function T9(i,e,t){i.hasValue(e)?i.getValue(e).set(t):i.addValue(e,Xm(t))}function w9(i){return eT(i)?i[i.length-1]||0:i}function E9(i,e){const t=Pm(i,e);let{transitionEnd:n={},transition:s={},...r}=t||{};r={...r,...n};for(const o in r){const c=w9(r[o]);T9(i,o,c)}}function A9(i){return!!(La(i)&&i.add)}function tT(i,e){const t=i.getValue("willChange");if(A9(t))return t.add(e);if(!t&&vu.WillChange){const n=new vu.WillChange("auto");i.addValue("willChange",n),n.add(e)}}function YD(i){return i.props[BD]}const C9=i=>i!==null;function N9(i,{repeat:e,repeatType:t="loop"},n){const s=i.filter(C9),r=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[r]}const R9={type:"spring",stiffness:500,damping:25,restSpeed:10},D9=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),L9={type:"keyframes",duration:.8},O9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},U9=(i,{keyframes:e})=>e.length>2?L9:g0.has(i)?i.startsWith("scale")?D9(e[1]):R9:O9;function z9({when:i,delay:e,delayChildren:t,staggerChildren:n,staggerDirection:s,repeat:r,repeatType:o,repeatDelay:c,from:d,elapsed:p,...m}){return!!Object.keys(m).length}const zw=(i,e,t,n={},s,r)=>o=>{const c=Sw(n,i)||{},d=c.delay||n.delay||0;let{elapsed:p=0}=n;p=p-vc(d);const m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:y=>{e.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:i,motionValue:e,element:r?void 0:s};z9(c)||Object.assign(m,U9(i,m)),m.duration&&(m.duration=vc(m.duration)),m.repeatDelay&&(m.repeatDelay=vc(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Z3(m),m.delay===0&&(g=!0)),(vu.instantAnimations||vu.skipAnimations)&&(g=!0,Z3(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,g&&!r&&e.get()!==void 0){const y=N9(m.keyframes,c);if(y!==void 0){Bi.update(()=>{m.onUpdate(y),m.onComplete()});return}}return c.isSync?new _w(m):new nI(m)};function P9({protectedKeys:i,needsAnimating:e},t){const n=i.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,n}function ZD(i,e,{delay:t=0,transitionOverride:n,type:s}={}){let{transition:r=i.getDefaultTransition(),transitionEnd:o,...c}=e;n&&(r=n);const d=[],p=s&&i.animationState&&i.animationState.getState()[s];for(const m in c){const g=i.getValue(m,i.latestValues[m]??null),y=c[m];if(y===void 0||p&&P9(p,m))continue;const b={delay:t,...Sw(r||{},m)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===S&&!b.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const M=YD(i);if(M){const D=window.MotionHandoffAnimation(M,m,Bi);D!==null&&(b.startTime=D,E=!0)}}tT(i,m),g.start(zw(m,g,y,i.shouldReduceMotion&&mD.has(m)?{type:!1}:b,i,E));const A=g.animation;A&&d.push(A)}return o&&Promise.all(d).then(()=>{Bi.update(()=>{o&&E9(i,o)})}),d}function KD(i,e,t,n=0,s=1){const r=Array.from(i).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),o=i.size,c=(o-1)*n;return typeof t=="function"?t(r,o):s===1?r*n:c-r*n}function nT(i,e,t={}){const n=Pm(i,e,t.type==="exit"?i.presenceContext?.custom:void 0);let{transition:s=i.getDefaultTransition()||{}}=n||{};t.transitionOverride&&(s=t.transitionOverride);const r=n?()=>Promise.all(ZD(i,n,t)):()=>Promise.resolve(),o=i.variantChildren&&i.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:g}=s;return B9(i,e,d,p,m,g,t)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,p]=c==="beforeChildren"?[r,o]:[o,r];return d().then(()=>p())}else return Promise.all([r(),o(t.delay)])}function B9(i,e,t=0,n=0,s=0,r=1,o){const c=[];for(const d of i.variantChildren)d.notify("AnimationStart",e),c.push(nT(d,e,{...o,delay:t+(typeof n=="function"?0:n)+KD(i.variantChildren,d,n,s,r)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function I9(i,e,t={}){i.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(r=>nT(i,r,t));n=Promise.all(s)}else if(typeof e=="string")n=nT(i,e,t);else{const s=typeof e=="function"?Pm(i,e,t.custom):e;n=Promise.all(ZD(i,s,t))}return n.then(()=>{i.notify("AnimationComplete",e)})}function QD(i,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==i.length)return!1;for(let n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}const j9=Cw.length;function JD(i){if(!i)return;if(!i.isControllingVariants){const t=i.parent?JD(i.parent)||{}:{};return i.props.initial!==void 0&&(t.initial=i.props.initial),t}const e={};for(let t=0;t<j9;t++){const n=Cw[t],s=i.props[n];(tv(s)||s===!1)&&(e[n]=s)}return e}const F9=[...Aw].reverse(),V9=Aw.length;function k9(i){return e=>Promise.all(e.map(({animation:t,options:n})=>I9(i,t,n)))}function H9(i){let e=k9(i),t=WC(),n=!0;const s=d=>(p,m)=>{const g=Pm(i,m,d==="exit"?i.presenceContext?.custom:void 0);if(g){const{transition:y,transitionEnd:b,...S}=g;p={...p,...S,...b}}return p};function r(d){e=d(i)}function o(d){const{props:p}=i,m=JD(i.parent)||{},g=[],y=new Set;let b={},S=1/0;for(let A=0;A<V9;A++){const M=F9[A],D=t[M],R=p[M]!==void 0?p[M]:m[M],L=tv(R),z=M===d?D.isActive:null;z===!1&&(S=A);let U=R===m[M]&&R!==p[M]&&L;if(U&&n&&i.manuallyAnimateOnMount&&(U=!1),D.protectedKeys={...b},!D.isActive&&z===null||!R&&!D.prevProp||pS(R)||typeof R=="boolean")continue;const I=G9(D.prevProp,R);let F=I||M===d&&D.isActive&&!U&&L||A>S&&L,P=!1;const B=Array.isArray(R)?R:[R];let H=B.reduce(s(M),{});z===!1&&(H={});const{prevResolvedValues:Q={}}=D,ie={...Q,...H},ue=X=>{F=!0,y.has(X)&&(P=!0,y.delete(X)),D.needsAnimating[X]=!0;const K=i.getValue(X);K&&(K.liveStyle=!1)};for(const X in ie){const K=H[X],ce=Q[X];if(b.hasOwnProperty(X))continue;let Y=!1;eT(K)&&eT(ce)?Y=!QD(K,ce):Y=K!==ce,Y?K!=null?ue(X):y.add(X):K!==void 0&&y.has(X)?ue(X):D.protectedKeys[X]=!0}D.prevProp=R,D.prevResolvedValues=H,D.isActive&&(b={...b,...H}),n&&i.blockInitialAnimation&&(F=!1);const fe=U&&I;F&&(!fe||P)&&g.push(...B.map(X=>{const K={type:M};if(typeof X=="string"&&n&&!fe&&i.manuallyAnimateOnMount&&i.parent){const{parent:ce}=i,Y=Pm(ce,X);if(ce.enteringChildren&&Y){const{delayChildren:W}=Y.transition||{};K.delay=KD(ce.enteringChildren,i,W)}}return{animation:X,options:K}}))}if(y.size){const A={};if(typeof p.initial!="boolean"){const M=Pm(i,Array.isArray(p.initial)?p.initial[0]:p.initial);M&&M.transition&&(A.transition=M.transition)}y.forEach(M=>{const D=i.getBaseTarget(M),R=i.getValue(M);R&&(R.liveStyle=!0),A[M]=D??null}),g.push({animation:A})}let E=!!g.length;return n&&(p.initial===!1||p.initial===p.animate)&&!i.manuallyAnimateOnMount&&(E=!1),n=!1,E?e(g):Promise.resolve()}function c(d,p){if(t[d].isActive===p)return Promise.resolve();i.variantChildren?.forEach(g=>g.animationState?.setActive(d,p)),t[d].isActive=p;const m=o(d);for(const g in t)t[g].protectedKeys={};return m}return{animateChanges:o,setActive:c,setAnimateFunction:r,getState:()=>t,reset:()=>{t=WC()}}}function G9(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!QD(e,i):!1}function Id(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WC(){return{animate:Id(!0),whileInView:Id(),whileHover:Id(),whileTap:Id(),whileDrag:Id(),whileFocus:Id(),exit:Id()}}class Vf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class X9 extends Vf{constructor(e){super(e),e.animationState||(e.animationState=H9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();pS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let q9=0;class W9 extends Vf{constructor(){super(...arguments),this.id=q9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Y9={animation:{Feature:X9},exit:{Feature:W9}};function iv(i,e,t,n={passive:!0}){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t)}function Iv(i){return{point:{x:i.pageX,y:i.pageY}}}const Z9=i=>e=>ww(e)&&i(e,Iv(e));function Cg(i,e,t,n){return iv(i,e,Z9(t),n)}const $D=1e-4,K9=1-$D,Q9=1+$D,eL=.01,J9=0-eL,$9=0+eL;function ur(i){return i.max-i.min}function ej(i,e,t){return Math.abs(i-e)<=t}function YC(i,e,t,n=.5){i.origin=n,i.originPoint=Xi(e.min,e.max,i.origin),i.scale=ur(t)/ur(e),i.translate=Xi(t.min,t.max,i.origin)-i.originPoint,(i.scale>=K9&&i.scale<=Q9||isNaN(i.scale))&&(i.scale=1),(i.translate>=J9&&i.translate<=$9||isNaN(i.translate))&&(i.translate=0)}function Ng(i,e,t,n){YC(i.x,e.x,t.x,n?n.originX:void 0),YC(i.y,e.y,t.y,n?n.originY:void 0)}function ZC(i,e,t){i.min=t.min+e.min,i.max=i.min+ur(e)}function tj(i,e,t){ZC(i.x,e.x,t.x),ZC(i.y,e.y,t.y)}function KC(i,e,t){i.min=e.min-t.min,i.max=i.min+ur(e)}function t1(i,e,t){KC(i.x,e.x,t.x),KC(i.y,e.y,t.y)}function Po(i){return[i("x"),i("y")]}const tL=({current:i})=>i?i.ownerDocument.defaultView:null,QC=(i,e)=>Math.abs(i-e);function nj(i,e){const t=QC(i.x,e.x),n=QC(i.y,e.y);return Math.sqrt(t**2+n**2)}class nL{constructor(e,t,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:r=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=iM(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=nj(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!S)return;const{point:E}=y,{timestamp:A}=ra;this.history.push({...E,timestamp:A});const{onStart:M,onMove:D}=this.handlers;b||(M&&M(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=nM(b,this.transformPagePoint),Bi.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:S,onSessionEnd:E,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=iM(y.type==="pointercancel"?this.lastMoveEventInfo:nM(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(y,M),E&&E(y,M)},!ww(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=s||window;const c=Iv(e),d=nM(c,this.transformPagePoint),{point:p}=d,{timestamp:m}=ra;this.history=[{...p,timestamp:m}];const{onSessionStart:g}=t;g&&g(e,iM(d,this.history)),this.removeListeners=zv(Cg(this.contextWindow,"pointermove",this.handlePointerMove),Cg(this.contextWindow,"pointerup",this.handlePointerUp),Cg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Lf(this.updatePoint)}}function nM(i,e){return e?{point:e(i.point)}:i}function JC(i,e){return{x:i.x-e.x,y:i.y-e.y}}function iM({point:i},e){return{point:i,delta:JC(i,iL(e)),offset:JC(i,ij(e)),velocity:sj(e,.1)}}function ij(i){return i[0]}function iL(i){return i[i.length-1]}function sj(i,e){if(i.length<2)return{x:0,y:0};let t=i.length-1,n=null;const s=iL(i);for(;t>=0&&(n=i[t],!(s.timestamp-n.timestamp>vc(e)));)t--;if(!n)return{x:0,y:0};const r=Fo(s.timestamp-n.timestamp);if(r===0)return{x:0,y:0};const o={x:(s.x-n.x)/r,y:(s.y-n.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function aj(i,{min:e,max:t},n){return e!==void 0&&i<e?i=n?Xi(e,i,n.min):Math.max(i,e):t!==void 0&&i>t&&(i=n?Xi(t,i,n.max):Math.min(i,t)),i}function $C(i,e,t){return{min:e!==void 0?i.min+e:void 0,max:t!==void 0?i.max+t-(i.max-i.min):void 0}}function rj(i,{top:e,left:t,bottom:n,right:s}){return{x:$C(i.x,t,s),y:$C(i.y,e,n)}}function eN(i,e){let t=e.min-i.min,n=e.max-i.max;return e.max-e.min<i.max-i.min&&([t,n]=[n,t]),{min:t,max:n}}function oj(i,e){return{x:eN(i.x,e.x),y:eN(i.y,e.y)}}function lj(i,e){let t=.5;const n=ur(i),s=ur(e);return s>n?t=Jg(e.min,e.max-n,i.min):n>s&&(t=Jg(i.min,i.max-s,e.min)),gu(0,1,t)}function cj(i,e){const t={};return e.min!==void 0&&(t.min=e.min-i.min),e.max!==void 0&&(t.max=e.max-i.min),t}const iT=.35;function uj(i=iT){return i===!1?i=0:i===!0&&(i=iT),{x:tN(i,"left","right"),y:tN(i,"top","bottom")}}function tN(i,e,t){return{min:nN(i,e),max:nN(i,t)}}function nN(i,e){return typeof i=="number"?i:i[e]||0}const fj=new WeakMap;class dj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Os(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Iv(g).point)},o=(g,y)=>{const{drag:b,dragPropagation:S,onDragStart:E}=this.getProps();if(b&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vI(b),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Po(M=>{let D=this.getAxisMotionValue(M).get()||0;if(yc.test(D)){const{projection:R}=this.visualElement;if(R&&R.layout){const L=R.layout.layoutBox[M];L&&(D=ur(L)*(parseFloat(D)/100))}}this.originPoint[M]=D}),E&&Bi.postRender(()=>E(g,y)),tT(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},c=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:S,onDirectionLock:E,onDrag:A}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:M}=y;if(S&&this.currentDirection===null){this.currentDirection=hj(M),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",y.point,M),this.updateAxis("y",y.point,M),this.visualElement.render(),A&&A(g,y)},d=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Po(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new nL(e,{onSessionStart:r,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:n,contextWindow:tL(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,s=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!s||!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&Bi.postRender(()=>c(n,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:s}=this.getProps();if(!n||!b_(e,s,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=aj(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&Em(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=rj(n.layoutBox,e):this.constraints=!1,this.elastic=uj(t),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Po(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=cj(n.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Em(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const r=p9(n,s.root,this.visualElement.getTransformPagePoint());let o=oj(s.layout.layoutBox,r);if(t){const c=t(f9(o));this.hasMutatedConstraints=!!c,c&&(o=FD(c))}return o}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:s,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=Po(m=>{if(!b_(m,t,this.currentDirection))return;let g=d&&d[m]||{};o&&(g={min:0,max:0});const y=s?200:1e6,b=s?40:1e7,S={type:"inertia",velocity:n?e[m]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...r,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(p).then(c)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return tT(this.visualElement,e),n.start(zw(e,n,0,t,this.visualElement,!1))}stopAnimation(){Po(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Po(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[t];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Po(t=>{const{drag:n}=this.getProps();if(!b_(t,n,this.currentDirection))return;const{projection:s}=this.visualElement,r=this.getAxisMotionValue(t);if(s&&s.layout){const{min:o,max:c}=s.layout.layoutBox[t];r.set(e[t]-Xi(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Em(t)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Po(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();s[o]=lj({min:d,max:d},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Po(o=>{if(!b_(o,e,null))return;const c=this.getAxisMotionValue(o),{min:d,max:p}=this.constraints[o];c.set(Xi(d,p,s[o]))})}addListeners(){if(!this.visualElement.current)return;fj.set(this.visualElement,this);const e=this.visualElement.current,t=Cg(e,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Em(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,r=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Bi.read(n);const o=iv(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Po(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=d[m].translate,g.set(g.get()+d[m].translate))}),this.visualElement.render())}));return()=>{o(),t(),r(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:r=!1,dragElastic:o=iT,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:s,dragConstraints:r,dragElastic:o,dragMomentum:c}}}function b_(i,e,t){return(e===!0||e===i)&&(t===null||t===i)}function hj(i,e=10){let t=null;return Math.abs(i.y)>e?t="y":Math.abs(i.x)>e&&(t="x"),t}class pj extends Vf{constructor(e){super(e),this.removeGroupControls=Go,this.removeListeners=Go,this.controls=new dj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Go}unmount(){this.removeGroupControls(),this.removeListeners()}}const iN=i=>(e,t)=>{i&&Bi.postRender(()=>i(e,t))};class mj extends Vf{constructor(){super(...arguments),this.removePointerDownListener=Go}onPointerDown(e){this.session=new nL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tL(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:iN(e),onStart:iN(t),onMove:n,onEnd:(r,o)=>{delete this.session,s&&Bi.postRender(()=>s(r,o))}}}mount(){this.removePointerDownListener=Cg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ub={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sN(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const Qx={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(nn.test(i))i=parseFloat(i);else return i;const t=sN(i,e.target.x),n=sN(i,e.target.y);return`${t}% ${n}%`}},xj={correct:(i,{treeScale:e,projectionDelta:t})=>{const n=i,s=Of.parse(i);if(s.length>5)return n;const r=Of.createTransformer(i),o=typeof s[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;s[0+o]/=c,s[1+o]/=d;const p=Xi(c,d,.5);return typeof s[2+o]=="number"&&(s[2+o]/=p),typeof s[3+o]=="number"&&(s[3+o]/=p),r(s)}};let sM=!1;class gj extends se.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:s}=this.props,{projection:r}=e;jI(vj),r&&(t.group&&t.group.add(r),n&&n.register&&s&&n.register(r),sM&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),Ub.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:s,isPresent:r}=this.props,{projection:o}=n;return o&&(o.isPresent=r,sM=!0,s||e.layoutDependency!==t||t===void 0||e.isPresent!==r?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||Bi.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Tw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:s}=e;sM=!0,s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sL(i){const[e,t]=ED(),n=se.useContext(nw);return _.jsx(gj,{...i,layoutGroup:n,switchLayoutGroup:se.useContext(ID),isPresent:e,safeToRemove:t})}const vj={borderRadius:{...Qx,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qx,borderTopRightRadius:Qx,borderBottomLeftRadius:Qx,borderBottomRightRadius:Qx,boxShadow:xj};function yj(i,e,t){const n=La(i)?i:Xm(i);return n.start(zw("",n,e,t)),n.animation}const _j=(i,e)=>i.depth-e.depth;class bj{constructor(){this.children=[],this.isDirty=!1}add(e){aw(this.children,e),this.isDirty=!0}remove(e){rw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(_j),this.isDirty=!1,this.children.forEach(e)}}function Sj(i,e){const t=Cr.now(),n=({timestamp:s})=>{const r=s-t;r>=e&&(Lf(n),i(r-e))};return Bi.setup(n,!0),()=>Lf(n)}const aL=["TopLeft","TopRight","BottomLeft","BottomRight"],Mj=aL.length,aN=i=>typeof i=="string"?parseFloat(i):i,rN=i=>typeof i=="number"||nn.test(i);function Tj(i,e,t,n,s,r){s?(i.opacity=Xi(0,t.opacity??1,wj(n)),i.opacityExit=Xi(e.opacity??1,0,Ej(n))):r&&(i.opacity=Xi(e.opacity??1,t.opacity??1,n));for(let o=0;o<Mj;o++){const c=`border${aL[o]}Radius`;let d=oN(e,c),p=oN(t,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||rN(d)===rN(p)?(i[c]=Math.max(Xi(aN(d),aN(p),n),0),(yc.test(p)||yc.test(d))&&(i[c]+="%")):i[c]=p}(e.rotate||t.rotate)&&(i.rotate=Xi(e.rotate||0,t.rotate||0,n))}function oN(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const wj=rL(0,.5,q5),Ej=rL(.5,.95,Go);function rL(i,e,t){return n=>n<i?0:n>e?1:t(Jg(i,e,n))}function lN(i,e){i.min=e.min,i.max=e.max}function gl(i,e){lN(i.x,e.x),lN(i.y,e.y)}function cN(i,e){i.translate=e.translate,i.scale=e.scale,i.originPoint=e.originPoint,i.origin=e.origin}function uN(i,e,t,n,s){return i-=e,i=e1(i,1/t,n),s!==void 0&&(i=e1(i,1/s,n)),i}function Aj(i,e=0,t=1,n=.5,s,r=i,o=i){if(yc.test(e)&&(e=parseFloat(e),e=Xi(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=Xi(r.min,r.max,n);i===r&&(c-=e),i.min=uN(i.min,e,t,c,s),i.max=uN(i.max,e,t,c,s)}function fN(i,e,[t,n,s],r,o){Aj(i,e[t],e[n],e[s],e.scale,r,o)}const Cj=["x","scaleX","originX"],Nj=["y","scaleY","originY"];function dN(i,e,t,n){fN(i.x,e,Cj,t?t.x:void 0,n?n.x:void 0),fN(i.y,e,Nj,t?t.y:void 0,n?n.y:void 0)}function hN(i){return i.translate===0&&i.scale===1}function oL(i){return hN(i.x)&&hN(i.y)}function pN(i,e){return i.min===e.min&&i.max===e.max}function Rj(i,e){return pN(i.x,e.x)&&pN(i.y,e.y)}function mN(i,e){return Math.round(i.min)===Math.round(e.min)&&Math.round(i.max)===Math.round(e.max)}function lL(i,e){return mN(i.x,e.x)&&mN(i.y,e.y)}function xN(i){return ur(i.x)/ur(i.y)}function gN(i,e){return i.translate===e.translate&&i.scale===e.scale&&i.originPoint===e.originPoint}class Dj{constructor(){this.members=[]}add(e){aw(this.members,e),e.scheduleRender()}remove(e){if(rw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let n;for(let s=t;s>=0;s--){const r=this.members[s];if(r.isPresent!==!1){n=r;break}}return n?(this.promote(n),!0):!1}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lj(i,e,t){let n="";const s=i.x.translate/e.x,r=i.y.translate/e.y,o=t?.z||0;if((s||r||o)&&(n=`translate3d(${s}px, ${r}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:m,rotateX:g,rotateY:y,skewX:b,skewY:S}=t;p&&(n=`perspective(${p}px) ${n}`),m&&(n+=`rotate(${m}deg) `),g&&(n+=`rotateX(${g}deg) `),y&&(n+=`rotateY(${y}deg) `),b&&(n+=`skewX(${b}deg) `),S&&(n+=`skewY(${S}deg) `)}const c=i.x.scale*e.x,d=i.y.scale*e.y;return(c!==1||d!==1)&&(n+=`scale(${c}, ${d})`),n||"none"}const aM=["","X","Y","Z"],Oj=1e3;let Uj=0;function rM(i,e,t,n){const{latestValues:s}=e;s[i]&&(t[i]=s[i],e.setStaticValue(i,0),n&&(n[i]=0))}function cL(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:e}=i.options;if(!e)return;const t=YD(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:r}=i.options;window.MotionCancelOptimisedAnimation(t,"transform",Bi,!(s||r))}const{parent:n}=i;n&&!n.hasCheckedOptimisedAppear&&cL(n)}function uL({attachResizeListener:i,defaultParent:e,measureScroll:t,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},c=e?.()){this.id=Uj++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Bj),this.nodes.forEach(Vj),this.nodes.forEach(kj),this.nodes.forEach(Ij)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new bj)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new cw),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=wD(o)&&!TI(o),this.instance=o;const{layoutId:c,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),i){let m,g=0;const y=()=>this.root.updateBlockedByResize=!1;Bi.read(()=>{g=window.innerWidth}),i(o,()=>{const b=window.innerWidth;b!==g&&(g=b,this.root.updateBlockedByResize=!0,m&&m(),m=Sj(y,250),Ub.hasAnimatedSinceResize&&(Ub.hasAnimatedSinceResize=!1,this.nodes.forEach(_N)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||Wj,{onLayoutAnimationStart:E,onLayoutAnimationComplete:A}=p.getProps(),M=!this.targetLayout||!lL(this.targetLayout,b),D=!g&&y;if(this.options.layoutRoot||this.resumeFrom||D||g&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...Sw(S,"layout"),onPlay:E,onComplete:A};(p.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(m,D)}else g||_N(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Lf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Hj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vN);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(yN);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Fj),this.nodes.forEach(zj),this.nodes.forEach(Pj)):this.nodes.forEach(yN),this.clearAllSnapshots();const c=Cr.now();ra.delta=gu(0,1e3/60,c-ra.timestamp),ra.timestamp=c,ra.isProcessing=!0,Y2.update.process(ra),Y2.preRender.process(ra),Y2.render.process(ra),ra.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Tw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jj),this.sharedNodes.forEach(Gj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ur(this.snapshot.measuredBox.x)&&!ur(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Os(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!oL(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;o&&this.instance&&(c||nh(this.latestValues)||m)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),Yj(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Os();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Zj))){const{scroll:p}=this.root;p&&(Am(c.x,p.offset.x),Am(c.y,p.offset.y))}return c}removeElementScroll(o){const c=Os();if(gl(c,o),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:m,options:g}=p;p!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&gl(c,o),Am(c.x,m.offset.x),Am(c.y,m.offset.y))}return c}applyTransform(o,c=!1){const d=Os();gl(d,o);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Cm(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),nh(m.latestValues)&&Cm(d,m.latestValues)}return nh(this.latestValues)&&Cm(d,this.latestValues),d}removeTransform(o){const c=Os();gl(c,o);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!nh(p.latestValues))continue;Q3(p.latestValues)&&p.updateSnapshot();const m=Os(),g=p.measurePageBox();gl(m,g),dN(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return nh(this.latestValues)&&dN(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ra.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!this.layout||!(m||g))return;this.resolvedRelativeTargetAt=ra.timestamp;const y=this.getClosestProjectingParent();y&&this.linkedParentVersion!==y.layoutVersion&&!y.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(y&&y.layout?this.createRelativeTarget(y,this.layout.layoutBox,y.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Os(),this.targetWithTransforms=Os()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gl(this.target,this.layout.layoutBox),kD(this.target,this.targetDelta)):gl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?this.createRelativeTarget(y,this.target,y.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Q3(this.parent.latestValues)||VD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,c,d){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Os(),this.relativeTargetOrigin=Os(),t1(this.relativeTargetOrigin,c,d),gl(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ra.timestamp&&(d=!1),d)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;gl(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;h9(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Os());const{target:b}=o;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cN(this.prevProjectionDelta.x,this.projectionDelta.x),cN(this.prevProjectionDelta.y,this.projectionDelta.y)),Ng(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!gN(this.projectionDelta.x,this.prevProjectionDelta.x)||!gN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Nm(),this.projectionDelta=Nm(),this.projectionDeltaWithTransform=Nm()}setAnimationOrigin(o,c=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},g=Nm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=Os(),b=d?d.source:void 0,S=this.layout?this.layout.source:void 0,E=b!==S,A=this.getStack(),M=!A||A.members.length<=1,D=!!(E&&!M&&this.options.crossfade===!0&&!this.path.some(qj));this.animationProgress=0;let R;this.mixTargetDelta=L=>{const z=L/1e3;bN(g.x,o.x,z),bN(g.y,o.y,z),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(t1(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Xj(this.relativeTarget,this.relativeTargetOrigin,y,z),R&&Rj(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Os()),gl(R,this.relativeTarget)),E&&(this.animationValues=m,Tj(m,p,this.latestValues,z,D,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Lf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bi.update(()=>{Ub.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xm(0)),this.currentAnimation=yj(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Oj),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:m}=o;if(!(!c||!d||!p)){if(this!==o&&this.layout&&p&&fL(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Os();const g=ur(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+g;const y=ur(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+y}gl(c,d),Cm(c,m),Ng(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Dj),this.sharedNodes.get(o).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const p={};d.z&&rM("z",o,p,this.animationValues);for(let m=0;m<aM.length;m++)rM(`rotate${aM[m]}`,o,p,this.animationValues),rM(`skew${aM[m]}`,o,p,this.animationValues);o.render();for(const m in p)o.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ob(c?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ob(c?.pointerEvents)||""),this.hasProjected&&!nh(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let g=Lj(this.projectionDeltaWithTransform,this.treeScale,m);d&&(g=d(m,g)),o.transform=g;const{x:y,y:b}=this.projectionDelta;o.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,p.animationValues?o.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in nv){if(m[S]===void 0)continue;const{correct:E,applyTo:A,isCSSVariable:M}=nv[S],D=g==="none"?m[S]:E(m[S],p);if(A){const R=A.length;for(let L=0;L<R;L++)o[A[L]]=D}else M?this.options.visualElement.renderState.vars[S]=D:o[S]=D}this.options.layoutId&&(o.pointerEvents=p===this?Ob(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(vN),this.root.sharedNodes.clear()}}}function zj(i){i.updateLayout()}function Pj(i){const e=i.resumeFrom?.snapshot||i.snapshot;if(i.isLead()&&i.layout&&e&&i.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:n}=i.layout,{animationType:s}=i.options,r=e.source!==i.layout.source;s==="size"?Po(m=>{const g=r?e.measuredBox[m]:e.layoutBox[m],y=ur(g);g.min=t[m].min,g.max=g.min+y}):fL(s,e.layoutBox,t)&&Po(m=>{const g=r?e.measuredBox[m]:e.layoutBox[m],y=ur(t[m]);g.max=g.min+y,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[m].max=i.relativeTarget[m].min+y)});const o=Nm();Ng(o,t,e.layoutBox);const c=Nm();r?Ng(c,i.applyTransform(n,!0),e.measuredBox):Ng(c,t,e.layoutBox);const d=!oL(o);let p=!1;if(!i.resumeFrom){const m=i.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const b=Os();t1(b,e.layoutBox,g.layoutBox);const S=Os();t1(S,t,y.layoutBox),lL(b,S)||(p=!0),m.options.layoutRoot&&(i.relativeTarget=S,i.relativeTargetOrigin=b,i.relativeParent=m)}}}i.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(i.isLead()){const{onExitComplete:t}=i.options;t&&t()}i.options.transition=void 0}function Bj(i){i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function Ij(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function jj(i){i.clearSnapshot()}function vN(i){i.clearMeasurements()}function yN(i){i.isLayoutDirty=!1}function Fj(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function _N(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function Vj(i){i.resolveTargetDelta()}function kj(i){i.calcProjection()}function Hj(i){i.resetSkewAndRotation()}function Gj(i){i.removeLeadSnapshot()}function bN(i,e,t){i.translate=Xi(e.translate,0,t),i.scale=Xi(e.scale,1,t),i.origin=e.origin,i.originPoint=e.originPoint}function SN(i,e,t,n){i.min=Xi(e.min,t.min,n),i.max=Xi(e.max,t.max,n)}function Xj(i,e,t,n){SN(i.x,e.x,t.x,n),SN(i.y,e.y,t.y,n)}function qj(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const Wj={duration:.45,ease:[.4,0,.1,1]},MN=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),TN=MN("applewebkit/")&&!MN("chrome/")?Math.round:Go;function wN(i){i.min=TN(i.min),i.max=TN(i.max)}function Yj(i){wN(i.x),wN(i.y)}function fL(i,e,t){return i==="position"||i==="preserve-aspect"&&!ej(xN(e),xN(t),.2)}function Zj(i){return i!==i.root&&i.scroll?.wasRoot}const Kj=uL({attachResizeListener:(i,e)=>iv(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),oM={current:void 0},dL=uL({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!oM.current){const i=new Kj({});i.mount(window),i.setOptions({layoutScroll:!0}),oM.current=i}return oM.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),Qj={pan:{Feature:mj},drag:{Feature:pj,ProjectionNode:dL,MeasureLayout:sL}};function EN(i,e,t){const{props:n}=i;i.animationState&&n.whileHover&&i.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,r=n[s];r&&Bi.postRender(()=>r(e,Iv(e)))}class Jj extends Vf{mount(){const{current:e}=this.node;e&&(this.unmount=yI(e,(t,n)=>(EN(this.node,n,"Start"),s=>EN(this.node,s,"End"))))}unmount(){}}class $j extends Vf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zv(iv(this.node.current,"focus",()=>this.onFocus()),iv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function AN(i,e,t){const{props:n}=i;if(i.current instanceof HTMLButtonElement&&i.current.disabled)return;i.animationState&&n.whileTap&&i.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),r=n[s];r&&Bi.postRender(()=>r(e,Iv(e)))}class e7 extends Vf{mount(){const{current:e}=this.node;e&&(this.unmount=MI(e,(t,n)=>(AN(this.node,n,"Start"),(s,{success:r})=>AN(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sT=new WeakMap,lM=new WeakMap,t7=i=>{const e=sT.get(i.target);e&&e(i)},n7=i=>{i.forEach(t7)};function i7({root:i,...e}){const t=i||document;lM.has(t)||lM.set(t,{});const n=lM.get(t),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(n7,{root:i,...e})),n[s]}function s7(i,e,t){const n=i7(e);return sT.set(i,t),n.observe(i),()=>{sT.delete(i),n.unobserve(i)}}const a7={some:0,all:1};class r7 extends Vf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:s="some",once:r}=e,o={root:t?t.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:a7[s]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,r&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),y=p?m:g;y&&y(d)};return s7(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(o7(e,t))&&this.startObserver()}unmount(){}}function o7({viewport:i={}},{viewport:e={}}={}){return t=>i[t]!==e[t]}const l7={inView:{Feature:r7},tap:{Feature:e7},focus:{Feature:$j},hover:{Feature:Jj}},c7={layout:{ProjectionNode:dL,MeasureLayout:sL}},u7={...Y9,...l7,...Qj,...c7},In=u9(u7,M9),f7=()=>{const[i,e]=se.useState(null),[t,n]=se.useState(!1),[s,r]=se.useState(null),[o,c]=se.useState(""),[d,p]=se.useState(null),[m,g]=se.useState("full_time"),[y,b]=se.useState(!1),[S,E]=se.useState(!1),A=R=>{if(R.target.files&&R.target.files[0]){const L=R.target.files[0];e(L),c(""),r(null),p(null),M(L)}},M=async(R=null)=>{const L=R||i;if(!L)return;n(!0),c("");const z=new FormData;z.append("file",L);try{const U=localStorage.getItem("user");if(U){const I=JSON.parse(U);I.id&&z.append("user_id",I.id),I.full_name&&z.append("user_name",I.full_name),I.email&&z.append("user_email",I.email)}}catch(U){console.error("Auth Error",U)}try{const U=await Yt.post("/scan-resume",z,{headers:{"Content-Type":"multipart/form-data"}});r(U.data),D(U.data.extracted_skills)}catch(U){console.error(U);const I=U.response?.data?.detail;c(I||"Failed to process resume. Ensure the backend is running and the file is a PDF.")}finally{n(!1)}},D=async(R,L=m)=>{b(!0);try{const z=await Yt.post(`/search_jobs?contract_type=${L}`,R);p(z.data)}catch(z){console.error("Job search failed",z)}finally{b(!1)}};return _.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-6 space-y-8 animate-fade-in-up",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h2",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent inline-block mb-4",children:"AI Career Launchpad"}),_.jsx("p",{className:"text-gray-400 text-lg",children:"Upload your resume and let our AI find your perfect role."})]}),o&&_.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/50 rounded-xl text-red-200 flex items-center gap-3",children:[_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),o]}),_.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-xl border border-gray-800 rounded-3xl p-6 md:p-8 shadow-2xl relative overflow-hidden group",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-purple-500"}),_.jsxs("h3",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-3",children:[_.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-blue-500/20 text-blue-400 text-sm",children:"1"}),"Upload Resume"]}),_.jsx("div",{className:"w-full",children:_.jsxs("div",{className:`border-2 border-dashed rounded-2xl p-8 md:p-12 text-center cursor-pointer transition-all duration-300 relative group/upload
                            ${i?"border-green-500/50 bg-green-500/5":"border-gray-600 hover:border-blue-400 hover:bg-gray-800/50"}`,onClick:()=>document.getElementById("fileInput").click(),children:[_.jsx("input",{type:"file",id:"fileInput",accept:".pdf",className:"hidden",onChange:A}),_.jsx("div",{className:"flex flex-col items-center gap-4",children:t?_.jsxs("div",{className:"flex flex-col items-center gap-4",children:[_.jsxs("svg",{className:"animate-spin w-12 h-12 text-blue-500",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),_.jsx("p",{className:"text-lg font-medium text-blue-400 animate-pulse",children:"Analyzing Resume & Matching Jobs..."})]}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center transition-all duration-500
                                        ${i?"bg-green-500 text-white scale-110":"bg-gray-800 text-blue-400 group-hover/upload:bg-blue-500/20 group-hover/upload:scale-110"}`,children:i?_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}):_.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xl font-medium text-white mb-2",children:i?i.name:"Click to Upload PDF Resume"}),_.jsx("p",{className:"text-sm text-gray-500",children:i?"Upload a different file to replace":"We'll automatically extract skills and find jobs"})]})]})})]})})]}),(s||y)&&_.jsxs("div",{className:"grid md:grid-cols-12 gap-8 items-start",children:[_.jsx("div",{className:"md:col-span-4 space-y-8",children:_.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-xl border border-gray-800 rounded-3xl p-6 shadow-xl",children:[_.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-3 border-b border-gray-800 pb-4",children:[_.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-purple-500/20 text-purple-400 text-sm",children:"2"}),"Analysis Report"]}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"text-sm uppercase tracking-wider text-gray-500 font-semibold mb-3",children:"Extracted Skills"}),_.jsx("div",{className:"flex flex-wrap gap-2",children:s&&s.extracted_skills.map((R,L)=>_.jsx("span",{className:"px-3 py-1 bg-purple-500/10 text-purple-300 border border-purple-500/20 rounded-lg text-sm font-medium",children:R},L))})]}),s&&_.jsxs("div",{className:"bg-blue-500/5 rounded-xl p-4 border border-blue-500/10",children:[_.jsxs("h4",{className:"text-blue-400 font-semibold mb-2 flex items-center gap-2",children:[_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"AI Insight"]}),_.jsxs("p",{className:"text-sm text-gray-400",children:["Your skill profile matches ",_.jsx("span",{className:"text-white font-bold",children:s.extracted_skills.length})," key technologies. Based on this, we've curated opportunities below."]})]})]})]})}),_.jsx("div",{className:"md:col-span-8",children:_.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-xl border border-gray-800 rounded-3xl p-6 shadow-xl min-h-[500px]",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 border-b border-gray-800 pb-4 gap-4",children:[_.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-3",children:[_.jsx("span",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-green-500/20 text-green-400 text-sm",children:"3"}),"Recommended Roles"]}),_.jsxs("div",{className:"relative",children:[_.jsxs("button",{onClick:()=>E(!S),className:"flex items-center gap-2 bg-gray-800 border border-gray-700 text-gray-300 px-4 py-2 rounded-xl text-sm hover:bg-gray-700 transition w-full sm:w-auto justify-between",children:[_.jsx("span",{children:m==="full_time"?"Full Time":"Internships"}),_.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),S&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>E(!1)}),_.jsxs("div",{className:"absolute right-0 mt-2 w-full sm:w-48 bg-gray-800 border border-gray-700 rounded-xl shadow-xl z-50 overflow-hidden animate-fade-in-up origin-top-right",children:[_.jsx("button",{onClick:()=>{g("full_time"),E(!1),s&&D(s.extracted_skills,"full_time")},className:"w-full text-left px-4 py-3 text-sm hover:bg-gray-700 text-white",children:"Full Time"}),_.jsx("button",{onClick:()=>{g("internship"),E(!1),s&&D(s.extracted_skills,"internship")},className:"w-full text-left px-4 py-3 text-sm hover:bg-gray-700 text-white",children:"Internship"})]})]})]})]}),y?_.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-gray-500",children:[_.jsxs("svg",{className:"animate-spin w-10 h-10 text-green-500 mb-4",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),_.jsx("p",{children:"Curating the best jobs for you..."})]}):d?_.jsx(In.div,{layout:!0,className:"space-y-4 min-h-[300px]",children:_.jsx(wr,{mode:"popLayout",children:[...d.local_matches,...d.api_matches].length===0?_.jsx(In.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center text-gray-500 py-12",children:"No matching jobs found. Try refreshing or updating skills."}):[...d.local_matches,...d.api_matches].map((R,L)=>_.jsxs(In.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"bg-gray-800/50 p-5 rounded-xl border border-gray-700/50 hover:border-green-500/50 hover:bg-gray-800 transition-colors group",children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("h5",{className:"font-bold text-white text-lg group-hover:text-green-400 transition-colors",children:R.title}),_.jsx("p",{className:"text-blue-400 text-sm mb-2",children:R.company})]}),_.jsx("a",{href:R.url,target:"_blank",rel:"noopener noreferrer",className:"p-2 bg-gray-700 rounded-lg text-gray-400 hover:text-white hover:bg-green-600 transition-all",children:_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})]}),_.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-3",children:R.description}),_.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[_.jsxs("span",{className:"flex items-center gap-1",children:[_.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),R.location]}),_.jsx("span",{className:"bg-gray-700 px-2 py-0.5 rounded text-gray-300",children:R.source||"Matched"})]})]},R.id||L))})}):null]})})]})]})},d7=()=>{const[i,e]=se.useState(null),[t,n]=se.useState(""),[s,r]=se.useState(""),[o,c]=se.useState(null),[d,p]=se.useState(!1),[m,g]=se.useState(!1),[y,b]=se.useState(""),S=async A=>{const M=A.target.files[0];if(!M)return;g(!0),b(""),e(M);const D=new FormData;D.append("file",M);try{const R=await Yt.post("/scan-resume",D);n(R.data.text_preview)}catch(R){console.error(R),b("Failed to parse resume. Please try another PDF.")}finally{g(!1)}},E=async()=>{if(!t){b("Please upload a resume first.");return}const A=s.trim();if(!A||A.length<3){b("Please enter a valid Job Title or Description.");return}b(""),p(!0);try{const M=await Yt.post("/ats_check",{resume_text:t,job_description:A});c(M.data)}catch(M){console.error(M),b("Analysis failed. Please try again.")}finally{p(!1)}};return _.jsxs("div",{className:"max-w-4xl mx-auto p-2 md:p-6 text-white animate-fade-in-up w-full overflow-hidden",children:[_.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6 md:mb-8 text-center bg-gradient-to-r from-pink-400 to-orange-400 bg-clip-text text-transparent px-4",children:"ATS Compatibility Checker"}),y&&_.jsxs("div",{className:"mb-6 mx-2 bg-red-500/10 border border-red-500/50 text-red-200 px-4 py-3 rounded-xl flex items-center gap-2 animate-pulse text-sm md:text-base",children:[_.jsx("svg",{className:"w-5 h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),y]}),_.jsxs("div",{className:"bg-slate-900/40 backdrop-blur-xl border border-slate-700/50 rounded-3xl p-4 md:p-8 shadow-2xl relative overflow-hidden group w-full",children:[_.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 md:w-[500px] md:h-[500px] bg-blue-500/5 rounded-full blur-[50px] md:blur-[100px] pointer-events-none"}),_.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 md:w-[500px] md:h-[500px] bg-purple-500/5 rounded-full blur-[50px] md:blur-[100px] pointer-events-none"}),_.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 md:gap-12 relative z-10 w-full",children:[_.jsxs("div",{className:"flex flex-col h-full w-full",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("label",{className:"flex items-center gap-3 text-lg font-bold text-white",children:[_.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 border border-blue-500/30 flex items-center justify-center text-blue-400 font-mono text-sm flex-shrink-0",children:"01"}),"Resume Source"]}),i&&_.jsx("button",{onClick:()=>{e(null),n("")},className:"text-xs text-red-400 hover:text-red-300 transition-colors",children:"Remove"})]}),_.jsxs("div",{className:"flex-1 relative group/upload w-full min-w-0",children:[_.jsx("input",{type:"file",accept:".pdf",onChange:S,className:"hidden",id:"ats-resume-upload"}),_.jsx("label",{htmlFor:"ats-resume-upload",className:`h-full min-h-[180px] md:min-h-[300px] flex flex-col items-center justify-center border-2 border-dashed rounded-2xl cursor-pointer transition-all duration-300 relative overflow-hidden w-full
                                    ${i?"border-blue-500/50 bg-blue-500/5":"border-slate-700 hover:border-slate-500 hover:bg-slate-800/50"}`,children:m?_.jsxs("div",{className:"text-center z-10",children:[_.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),_.jsx("p",{className:"text-blue-400 font-mono animate-pulse text-sm md:text-base",children:"EXTRACTING..."})]}):i?_.jsxs("div",{className:"text-center z-10 p-4 w-full max-w-full min-w-0",children:[_.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-blue-500/20",children:_.jsx("svg",{className:"w-8 h-8 md:w-10 md:h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),_.jsx("p",{className:"text-base md:text-xl font-bold text-white mb-1 truncate px-2 max-w-full block",children:i.name}),_.jsxs("p",{className:"text-slate-400 text-xs md:text-sm",children:["PDF  ",(i.size/1024).toFixed(0)," KB"]}),_.jsxs("div",{className:"mt-4 md:mt-6 flex items-center justify-center gap-2 text-green-400 text-xs md:text-sm font-medium bg-green-500/10 py-1.5 px-3 md:py-2 md:px-4 rounded-full w-fit mx-auto border border-green-500/20",children:[_.jsx("svg",{className:"w-3 h-3 md:w-4 md:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Ready"]})]}):_.jsxs("div",{className:"text-center z-10 space-y-3 px-2",children:[_.jsx("div",{className:"w-12 h-12 md:w-16 md:h-16 bg-slate-800 rounded-2xl flex items-center justify-center mx-auto group-hover/upload:scale-110 transition-transform duration-300 border border-slate-700 group-hover/upload:border-slate-600",children:_.jsx("svg",{className:"w-6 h-6 md:w-8 md:h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-base md:text-lg font-medium text-slate-300",children:"Tap to upload"}),_.jsx("p",{className:"text-slate-500 text-xs md:text-sm mt-1",children:"PDF only"})]})]})})]})]}),_.jsxs("div",{className:"flex flex-col h-full w-full",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("label",{className:"flex items-center gap-3 text-lg font-bold text-white",children:[_.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500/20 border border-purple-500/30 flex items-center justify-center text-purple-400 font-mono text-sm flex-shrink-0",children:"02"}),"Target Job"]}),_.jsxs("span",{className:"text-xs text-slate-500 font-mono",children:[s.length," chars"]})]}),_.jsxs("div",{className:"flex-1 relative group/jd w-full",children:[_.jsx("div",{className:"absolute inset-0 bg-slate-900 rounded-2xl border border-slate-700 transition-colors group-hover/jd:border-slate-600"}),_.jsx("textarea",{className:`relative w-full h-full min-h-[180px] md:min-h-[300px] bg-transparent rounded-2xl p-4 md:p-6 text-sm md:text-base text-slate-200 \r
                                    focus:outline-none resize-none placeholder-slate-600 custom-scrollbar leading-relaxed font-mono z-10`,placeholder:"Paste the full Job Description here. Include responsibilities, requirements, and qualifications to get the best ATS score analysis.",value:s,onChange:A=>{r(A.target.value),y&&b("")}}),_.jsx("div",{className:"absolute top-0 right-0 p-4 pointer-events-none opacity-50",children:_.jsx("svg",{className:"w-5 h-5 text-slate-600",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})})]})]})]})]}),_.jsx("div",{className:"mt-8 text-center",children:_.jsx("button",{onClick:E,disabled:!t||!s||d,className:`px-8 py-3 rounded-xl font-bold text-lg shadow-lg transition-all transform hover:scale-105
                        ${!t||!s?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-pink-600 to-orange-600 hover:from-pink-500 hover:to-orange-500 text-white"}`,children:d?"Crunching Numbers...":"Calculate ATS Score"})}),o&&_.jsxs("div",{className:"mt-12 bg-gray-900/80 border border-gray-700 rounded-2xl p-6 md:p-8 backdrop-blur-xl animate-fade-in-up",children:[_.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[_.jsxs("div",{className:"relative w-32 h-32 md:w-40 md:h-40 flex-shrink-0",children:[_.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[_.jsx("circle",{className:"text-gray-700",strokeWidth:"12",stroke:"currentColor",fill:"transparent",r:"60",cx:"50%",cy:"50%"}),_.jsx("circle",{className:`${o.score>=70?"text-green-500":o.score>=50?"text-yellow-500":"text-red-500"} transition-all duration-1000 ease-out`,strokeWidth:"12",strokeDasharray:377,strokeDashoffset:377-377*o.score/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"60",cx:"50%",cy:"50%"})]}),_.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center",children:[_.jsxs("span",{className:"text-3xl md:text-4xl font-bold text-white",children:[o.score,"%"]}),_.jsx("span",{className:"block text-[10px] md:text-xs text-gray-400 uppercase tracking-widest mt-1",children:"Match"})]})]}),_.jsxs("div",{className:"flex-1 w-full",children:[_.jsx("h3",{className:"text-2xl font-bold text-white mb-4 text-center md:text-left",children:"Analysis Report"}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[_.jsxs("div",{children:[_.jsxs("h4",{className:"flex items-center gap-2 text-green-400 font-semibold mb-3 text-sm md:text-base",children:[_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Matched Keywords"]}),_.jsx("div",{className:"flex flex-wrap gap-2 max-h-[200px] overflow-y-auto custom-scrollbar pr-2",children:o.matched_keywords.length>0?o.matched_keywords.map((A,M)=>_.jsx("span",{className:"px-2 py-1 bg-green-500/10 text-green-300 text-[10px] md:text-xs rounded border border-green-500/20",children:A},M)):_.jsx("span",{className:"text-gray-500 text-sm",children:"No exact matches found."})})]}),_.jsxs("div",{children:[_.jsxs("h4",{className:"flex items-center gap-2 text-red-400 font-semibold mb-3 text-sm md:text-base",children:[_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Missing Keywords"]}),_.jsx("div",{className:"flex flex-wrap gap-2 max-h-[200px] overflow-y-auto custom-scrollbar pr-2",children:o.missing_keywords.length>0?o.missing_keywords.map((A,M)=>_.jsx("span",{className:"px-2 py-1 bg-red-500/10 text-red-300 text-[10px] md:text-xs rounded border border-red-500/20",children:A},M)):_.jsx("span",{className:"text-green-500 text-sm",children:"Great job! No obvious keywords missing."})})]})]})]})]}),_.jsxs("div",{className:"mt-8 border-t border-gray-700 pt-6",children:[_.jsxs("h4",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[_.jsx("span",{className:"text-yellow-400",children:""}),"Action Plan to Improve Score"]}),_.jsxs("div",{className:"space-y-4",children:[o.score<50&&_.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-lg",children:[_.jsx("h5",{className:"font-bold text-red-400 mb-1",children:"Critical Mismatch Detected"}),_.jsxs("p",{className:"text-gray-300 text-sm",children:["Your resume scored low (",_.jsxs("span",{className:"font-bold",children:[o.score,"%"]}),"). This suggests a significant gap between your resume and the job description. Check if you are applying for the right role, or if your resume is machine-readable (pdf parsing issues)."]})]}),o.missing_keywords.length>0&&_.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 p-4 rounded-lg",children:[_.jsx("h5",{className:"font-bold text-blue-400 mb-1",children:"Keyword Optimization"}),_.jsxs("p",{className:"text-gray-300 text-sm mb-2",children:["The ATS is specifically looking for these high-value terms. Try to weave them into your ",_.jsx("strong",{children:"Skills"})," or ",_.jsx("strong",{children:"Work Experience"})," sections naturally:"]}),_.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.missing_keywords.slice(0,5).map((A,M)=>_.jsx("span",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-300 text-xs rounded border border-blue-500/30 font-mono",children:A},M)),o.missing_keywords.length>5&&_.jsxs("span",{className:"text-gray-500 text-xs self-center",children:["...and ",o.missing_keywords.length-5," more"]})]})]}),o.score>=80?_.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 p-4 rounded-lg",children:[_.jsx("h5",{className:"font-bold text-green-400 mb-1",children:"Excellent Optimization!"}),_.jsx("p",{className:"text-gray-300 text-sm",children:"Your content matches the job description well. Now focus on formatting: ensure you have clear headings, consistent fonts, and no complex columns or graphics that might confuse older ATS parsers."})]}):_.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 p-4 rounded-lg",children:[_.jsx("h5",{className:"font-bold text-yellow-400 mb-1",children:"General Advice"}),_.jsxs("ul",{className:"text-gray-300 text-sm list-disc list-inside space-y-1",children:[_.jsx("li",{children:'Ensure exact spelling matches for technical skills (e.g., "React.js" vs "React").'}),_.jsx("li",{children:'Quantify your achievements (e.g., "Improved performance by 20%").'}),_.jsx("li",{children:'Use standard section headings like "Experience" and "Skills".'})]})]})]})]})]})]})},h7=({onBack:i})=>{const[e,t]=se.useState("upload"),[n,s]=se.useState(null),[r,o]=se.useState(!1),[c,d]=se.useState(""),[p,m]=se.useState([]),[g,y]=se.useState(0),[b,S]=se.useState([]),[E,A]=se.useState(!1),[M,D]=se.useState(null),[R,L]=se.useState(!1),[z,U]=se.useState(!1),[I,F]=se.useState(null);se.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const ae=window.SpeechRecognition||window.webkitSpeechRecognition,he=new ae;he.continuous=!1,he.continuous=!0,he.interimResults=!0,he.lang="en-US",he.onresult=ye=>{let Pe="",pe="";for(let _e=ye.resultIndex;_e<ye.results.length;++_e)ye.results[_e].isFinal?pe+=ye.results[_e][0].transcript:Pe+=ye.results[_e][0].transcript;ie(pe,Pe)},he.onerror=ye=>{console.error("Speech Error",ye.error),A(!1)},D(he)}else d("Web Speech API not supported in this browser. Please use Chrome.")},[]);const[P,B]=se.useState(""),[H,Q]=se.useState(""),ie=(ae,he)=>{ae?(B(ye=>ye+" "+ae),Q("")):Q(he)},ue=async ae=>{const he=ae.target.files[0];if(!he)return;if(!he.name.toLowerCase().endsWith(".pdf")&&!he.name.toLowerCase().endsWith(".docx")){d("Please upload a PDF or DOCX.");return}s(he),o(!0),d("");const ye=new FormData;ye.append("file",he);try{const Pe=await Yt.post("/scan-resume",ye),_e=`I have experience in ${Pe.data.extracted_skills.join(", ")}. `+Pe.data.text_preview,We=await Yt.post("/interview/generate",{resume_text:_e});m(We.data),t("interview"),U(!0),setTimeout(()=>fe(We.data[0]),1e3)}catch(Pe){console.error(Pe);const pe=Pe.response?.data?.detail;d(pe||"Failed to analyze resume.")}finally{o(!1)}},fe=ae=>{if("speechSynthesis"in window){window.speechSynthesis.cancel(),L(!0);const he=new SpeechSynthesisUtterance(ae);he.rate=1.1,he.pitch=.9,he.volume=1;const ye=window.speechSynthesis.getVoices(),Pe=ye.find(pe=>pe.name.includes("Google")&&pe.name.includes("English")&&!pe.name.includes("UK"))||ye.find(pe=>pe.name.includes("Samantha"))||ye.find(pe=>pe.lang==="en-US");Pe&&(he.voice=Pe),he.onend=()=>L(!1),window.speechSynthesis.speak(he)}},V=()=>{if(M&&!E)try{M.start(),A(!0)}catch(ae){console.error(ae)}},X=()=>{M&&E&&(M.stop(),A(!1),Q(""))},K=()=>{const ae=[...b,{question:p[g],answer:P||"(No Answer)"}];if(S(ae),B(""),X(),window.speechSynthesis.cancel(),g<p.length-1){const he=g+1;y(he),setTimeout(()=>fe(p[he]),500)}else W(ae)},ce=()=>{const ae=[...b,{question:p[g],answer:"SKIPPED"}];if(S(ae),B(""),X(),window.speechSynthesis.cancel(),g<p.length-1){const he=g+1;y(he),setTimeout(()=>fe(p[he]),500)}else W(ae)},Y=()=>{window.speechSynthesis.cancel(),X(),i()},W=async ae=>{t("result"),U(!1),F(null);try{const he=await Yt.post("/interview/evaluate",{transcript:ae});F(he.data)}catch(he){console.error(he),F({score:0,pros:["Completed the interview session"],cons:["Could not retrieve detailed analysis from server. Please check your connection."]})}};return _.jsxs("div",{className:"w-full min-h-[calc(100vh-100px)] flex flex-col animate-fade-in-up",children:[_.jsxs("div",{className:"flex justify-between items-center py-4 px-4 md:px-0 mb-4 border-b border-gray-800/50",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-600 to-purple-600 flex items-center justify-center text-xs shadow-lg shadow-blue-500/30",children:"AI"}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("span",{className:"font-bold leading-tight text-white",children:"HR Coach"}),_.jsx("span",{className:"text-[10px] text-blue-400 font-medium uppercase tracking-wider bg-blue-500/10 px-1.5 py-0.5 rounded w-fit",children:"Beta"})]})]}),e!=="result"&&_.jsx("button",{onClick:Y,className:"text-xs md:text-sm text-gray-400 hover:text-white px-4 py-2 border border-gray-700 rounded-lg hover:bg-gray-800 transition-colors",children:"Exit Interview"})]}),_.jsxs("div",{className:"flex-1 flex flex-col w-full max-w-4xl mx-auto p-4 md:p-6",children:[e==="upload"&&_.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center text-center space-y-8 animate-fade-in py-12",children:[_.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl shadow-blue-500/10 ring-1 ring-white/10",children:_.jsx("svg",{className:"w-12 h-12 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})}),_.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-100 to-blue-400",children:"AI Interview"}),_.jsx("p",{className:"text-slate-400 text-base md:text-lg max-w-md mx-auto leading-relaxed",children:"Upload your resume. Our AI Agent will scan your profile and conduct a mock voice interview."})]}),c&&_.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 text-red-200 rounded-xl mx-auto max-w-sm text-sm flex items-center gap-3 animate-shake",children:[_.jsx("svg",{className:"w-5 h-5 flex-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c]}),_.jsx("div",{className:"w-full max-w-sm mx-auto",children:_.jsxs("label",{className:`
                                relative flex flex-col items-center justify-center w-full aspect-[4/3] border-2 border-dashed rounded-3xl cursor-pointer transition-all duration-300 group overflow-hidden bg-slate-900/50
                                ${r?"border-blue-500 bg-blue-500/5":"border-slate-700 hover:border-blue-500 hover:bg-slate-800"}
                            `,children:[r?_.jsxs("div",{className:"flex flex-col items-center z-10 p-6",children:[_.jsx("div",{className:"w-12 h-12 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin mb-4"}),_.jsx("p",{className:"text-white font-bold text-lg animate-pulse",children:"Analyzing..."}),_.jsx("p",{className:"text-slate-400 text-xs mt-2",children:"Reading resume & generating questions"})]}):_.jsxs("div",{className:"flex flex-col items-center z-10 group-hover:scale-105 transition-transform duration-300 p-6",children:[_.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-2xl mb-4 group-hover:bg-blue-600 transition-colors flex items-center justify-center shadow-lg",children:_.jsx("svg",{className:"w-8 h-8 text-slate-300 group-hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),_.jsx("span",{className:"text-lg font-bold text-white",children:"Upload Resume"}),_.jsx("p",{className:"text-xs text-slate-500 mt-2 font-medium bg-slate-900/80 px-3 py-1 rounded-full border border-slate-700",children:"PDF / DOCX  Max 4 Pages"})]}),_.jsx("input",{type:"file",className:"hidden",accept:".pdf,.docx",onChange:ue,disabled:r})]})})]}),e==="interview"&&_.jsxs("div",{className:"flex-1 flex flex-col w-full space-y-8",children:[_.jsx("div",{className:"flex-none flex items-center justify-center py-8 min-h-[200px]",children:_.jsxs("div",{className:`relative w-32 h-32 md:w-48 md:h-48 rounded-full flex items-center justify-center transition-all duration-500 ${R?"scale-110 shadow-[0_0_80px_rgba(59,130,246,0.5)]":"shadow-2xl shadow-black/80"}`,children:[R&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"absolute inset-0 rounded-full bg-blue-500/30 animate-ping duration-[1.5s]"}),_.jsx("div",{className:"absolute inset-0 rounded-full bg-purple-500/30 animate-ping delay-150 duration-[2s]"})]}),_.jsx("div",{className:"absolute inset-0 rounded-full bg-slate-900 border border-slate-700 z-10 flex items-center justify-center overflow-hidden",children:R?_.jsx("div",{className:"flex items-center gap-1 h-12 items-end",children:[.4,.7,1,.6,.8,.4].map((ae,he)=>_.jsx("div",{className:"w-1.5 md:w-2 bg-gradient-to-t from-blue-500 to-purple-400 rounded-full animate-wave",style:{height:`${ae*100}%`,animationDelay:`${he*.15}s`}},he))}):_.jsx("svg",{className:"w-12 h-12 text-slate-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})})]})}),_.jsxs("div",{className:"text-center space-y-4",children:[_.jsxs("span",{className:"text-xs font-bold tracking-[0.2em] text-blue-400 uppercase bg-blue-500/10 px-3 py-1 rounded-full border border-blue-500/20",children:["Question ",g+1," / ",p.length]}),_.jsxs("h3",{className:"text-xl md:text-2xl font-semibold text-white leading-relaxed px-2",children:['"',p[g],'"']})]}),_.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-4",children:[_.jsxs("div",{className:"relative group",children:[_.jsx("textarea",{value:P+(E?(P?" ":"")+H:""),onChange:ae=>{B(ae.target.value)},placeholder:E?"Listening...":"Type your answer or tap the mic...",className:"w-full bg-slate-900 border border-slate-700 rounded-2xl p-4 md:p-6 text-base text-white placeholder-slate-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none min-h-[160px] resize-none transition-all shadow-inner leading-relaxed"}),_.jsxs("div",{className:"absolute bottom-4 right-4 flex items-center gap-3",children:[_.jsx("span",{className:`text-xs font-medium transition-opacity ${E?"opacity-100 text-red-400 animate-pulse":"opacity-0"}`,children:"Recording..."}),_.jsx("button",{onClick:E?X:V,className:`p-3 md:p-4 rounded-full transition-all flex items-center justify-center shadow-lg hover:scale-105 active:scale-95 ${E?"bg-red-500 text-white ring-4 ring-red-500/20":"bg-blue-600 text-white hover:bg-blue-500"}`,children:_.jsx("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E?_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"}):_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})})]})]}),_.jsxs("div",{className:"flex gap-4 pt-2",children:[_.jsx("button",{onClick:ce,className:"flex-1 py-3.5 rounded-xl border border-slate-700 bg-slate-800 text-slate-300 font-bold hover:bg-slate-700 hover:text-white transition-all text-sm md:text-base",children:"Skip Question"}),_.jsxs("button",{onClick:K,className:"flex-[2] py-3.5 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white font-bold shadow-lg shadow-blue-500/20 active:scale-95 transition-all flex items-center justify-center gap-2 text-sm md:text-base",children:["Next Question",_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]})]}),e==="result"&&I&&_.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center w-full max-w-2xl mx-auto space-y-8 animate-fade-in pb-12",children:[_.jsxs("div",{className:"text-center space-y-2",children:[_.jsx("span",{className:"text-sm font-bold text-slate-500 uppercase tracking-widest px-4 py-1 rounded-full border border-slate-800",children:"Performance Report"}),_.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mt-4",children:"Interview Complete"}),_.jsx("p",{className:"text-slate-400",children:"Great job! Here is your AI analysis."})]}),_.jsxs("div",{className:"relative p-8 bg-gradient-to-b from-slate-900 to-slate-950 border border-slate-800 rounded-3xl overflow-hidden text-center shadow-2xl w-full",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-red-500 via-yellow-500 to-green-500"}),_.jsxs("div",{className:"inline-flex items-end justify-center gap-2 mb-2",children:[_.jsx("span",{className:"text-6xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-br from-white to-slate-400",children:I.score}),_.jsx("span",{className:"text-2xl md:text-3xl text-slate-600 mb-3 font-medium",children:"/10"})]}),_.jsx("p",{className:"text-blue-400 font-medium tracking-wide text-sm uppercase",children:"Overall Rating"})]}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-4 w-full",children:[_.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/10 p-6 rounded-3xl",children:[_.jsxs("h3",{className:"text-emerald-400 font-bold mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[_.jsx("span",{className:"p-1 rounded bg-emerald-500/10",children:_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),"Strengths"]}),_.jsx("ul",{className:"space-y-3",children:I.pros.map((ae,he)=>_.jsxs("li",{className:"text-sm text-slate-300 flex items-start gap-3",children:[_.jsx("span",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-emerald-500 flex-none shadow-[0_0_8px_rgba(16,185,129,0.5)]"}),_.jsx("span",{className:"leading-snug",children:ae})]},he))})]}),_.jsxs("div",{className:"bg-amber-500/5 border border-amber-500/10 p-6 rounded-3xl",children:[_.jsxs("h3",{className:"text-amber-400 font-bold mb-4 flex items-center gap-2 text-sm uppercase tracking-wide",children:[_.jsx("span",{className:"p-1 rounded bg-amber-500/10",children:_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),"Improvements"]}),_.jsx("ul",{className:"space-y-3",children:I.cons.map((ae,he)=>_.jsxs("li",{className:"text-sm text-slate-300 flex items-start gap-3",children:[_.jsx("span",{className:"mt-1.5 w-1.5 h-1.5 rounded-full bg-amber-500 flex-none shadow-[0_0_8px_rgba(245,158,11,0.5)]"}),_.jsx("span",{className:"leading-snug",children:ae})]},he))})]})]}),_.jsx("div",{className:"flex justify-center pt-6 w-full",children:_.jsxs("button",{onClick:()=>t("upload"),className:"w-full md:w-auto px-10 py-4 bg-white hover:bg-gray-100 text-slate-900 font-bold rounded-2xl shadow-xl hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Start New Session"]})})]})]}),_.jsx("style",{children:`
                @keyframes wave {
                    0%, 100% { height: 10%; opacity: 0.5; }
                    50% { height: 60%; opacity: 1; }
                }
                .animate-wave {
                    animation: wave 1s ease-in-out infinite;
                }
                .animate-fade-in-up {
                     animation: fadeInUp 0.5s ease-out;
                }
                @keyframes fadeInUp {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }
            `})]})},p7=[{type:"System Design",text:"In a distributed system, what does the CAP theorem assert you must choose between during a partition?",options:["Consistency and Availability","Consistency and Performance","Availability and Latency","Performance and Durability"],correctAnswer:0,hint:"P stands for Partition Tolerance, which is unavoidable. You pick C or A."},{type:"JavaScript",text:"What is the purpose of a 'Closure' in JavaScript?",options:["To secure variables from the global scope.","To allow a function to access variables from an outer function that has already returned.","To close the browser window.","To optimize memory usage by deleting variables."],correctAnswer:1,hint:"It's about memory memory retention of the lexical scope."},{type:"Databases",text:"What is 'Normalization' principally used for in a relational database?",options:["To increase read speed.","To reduce data redundancy and improve integrity.","To create backups.","To encrypt sensitive data."],correctAnswer:1,hint:"It involves dividing large tables into smaller, related tables."},{type:"React",text:"Why should you never modify `this.state` directly in a class component?",options:["It will throw a syntax error.","It won't trigger a re-render.","It will crash the browser.","It violates security protocols."],correctAnswer:1,hint:"React needs to know state changed to update the DOM."},{type:"Network",text:"What is the function of DNS?",options:["To encrypt traffic.","To translate domain names (google.com) into IP addresses.","To assign IP addresses to devices.","To firewall the network."],correctAnswer:1,hint:"It's the phonebook of the internet."},{type:"Python",text:"What acts as a constructor in a Python class?",options:["def construct(self):","def __init__(self):","class Name():","def build(self):"],correctAnswer:1,hint:"Double underscore methods are special in Python."},{type:"DevOps",text:"What is the main benefit of using Docker containers?",options:["They replace the need for an OS.","Consistency across environments (Works on my machine = Works in Prod).","They make the internet faster.","They automatically fix code bugs."],correctAnswer:1,hint:"No more 'it works on my laptop' excuses."},{type:"Algorithms",text:"Which data structure follows the LIFO (Last In First Out) principle?",options:["Queue","Array","Stack","Linked List"],correctAnswer:2,hint:"Like a stack of plates."},{type:"Security",text:"What is Cross-Site Scripting (XSS)?",options:["Injecting malicious scripts into trusted websites viewed by other users.","Stealing a server's database.","Cracking passwords using a dictionary attack.","Sending spam emails."],correctAnswer:0,hint:"It happens on the client-side (browser)."},{type:"Testing",text:"What is the goal of Unit Testing?",options:["To test the whole system end-to-end.","To test individual components or functions in isolation.","To check user acceptance.","To load test the server."],correctAnswer:1,hint:"Testing the smallest testable parts."},{type:"React",text:"What is the virtual DOM?",options:["A direct copy of the browser DOM.","A lightweight in-memory representation of the DOM used for diffing.","A 3D visualization of the UI.","A plugin for Chrome."],correctAnswer:1,hint:"It minimizes direct manipulation of the slow real DOM."},{type:"CSS",text:"Which value of `position` takes the element out of the document flow?",options:["relative","static","absolute","sticky"],correctAnswer:2,hint:"Fixed does too, but absolute is the common answer here."},{type:"Technical",text:"Which of the following is a primary difference between SQL and NoSQL databases?",options:["SQL databases are vertically scalable, while NoSQL are horizontally scalable.","SQL databases do not support transactions.","NoSQL databases require a predefined schema.","SQL databases are unstructured."],correctAnswer:0,hint:"Think about scaling: adding more power (CPU/RAM) vs adding more servers."},{type:"React",text:"In React, what constitutes the 'One-Way Data Flow'?",options:["Data flows from Child to Parent via Props.","Data flows from Parent to Child via Props.","Data flows bi-directionally automatically.","Data is stored globally by default."],correctAnswer:1,hint:"Props are read-only and passed down the component tree."},{type:"JavaScript",text:"What is the output of `console.log(typeof NaN)`?",options:["'number'","'NaN'","'undefined'","'object'"],correctAnswer:0,hint:"NaN stands for Not-a-Number, but technically it belongs to a numeric type."},{type:"Technical",text:"Which HTTP method is idempotent and used to update an existing resource?",options:["POST","PUT","DELETE","GET"],correctAnswer:1,hint:"It replaces the resource entirely. Running it multiple times has the same effect."},{type:"Python",text:"Which keyword is used to handle exceptions in Python?",options:["catch","rescue","except","error"],correctAnswer:2,hint:"Used in try-... blocks."},{type:"Git",text:"Which command is used to stash changes in a dirty working directory?",options:["git stash","git save","git hide","git commit"],correctAnswer:0,hint:"Useful for switching branches without committing half-done work."},{type:"CSS",text:"Which CSS property is used to change the text color of an element?",options:["text-color","font-color","color","background-color"],correctAnswer:2,hint:"It's the simplest property name."},{type:"HTML",text:"Which semantic tag is best for the main navigation menu?",options:["<menu>","<nav>","<div>","<section>"],correctAnswer:1,hint:"Short for 'navigation'."},{type:"Security",text:"What does SQL Injection target?",options:["The frontend logic.","The database layer.","The CSS styles.","The browser cache."],correctAnswer:1,hint:"It manipulates queries."},{type:"Data Structures",text:"What is the time complexity of looking up a value in a Hash Map?",options:["O(n)","O(log n)","O(1)","O(n^2)"],correctAnswer:2,hint:"It's constant time on average."},{type:"General",text:"What does CI/CD stand for?",options:["Code Integration / Code Deployment","Continuous Integration / Continuous Deployment","Computer Interface / Computer Design","Customer Interaction / Customer Delivery"],correctAnswer:1,hint:"Automated pipelines."}],m7=[{type:"Logic",text:"Look at this series: 7, 10, 8, 11, 9, 12, ... What number should come next?",options:["7","10","12","13"],correctAnswer:1,hint:"It's an alternating series: 7->8->9->10. Interleaved with 10->11->12."},{type:"Math",text:"A shopkeeper sells a bag at a 20% profit. If he had sold it for $20 less, he would have made a 10% profit. What is the cost price?",options:["$150","$200","$250","$300"],correctAnswer:1,hint:"Diff of 10% (20% - 10%) = $20. So 1% = $2, 100% = $200."},{type:"Logic",text:"Statement: 'If you work hard, you will succeed.' Conclusion: 'If you don't work hard, you won't succeed.'",options:["True","False (Logic Error)","Probably True","Irrelevant"],correctAnswer:1,hint:"This is the 'Inverse Error'. You might succeed by luck! The statement only guarantees success for hard work, not failure for laziness."},{type:"Verbal",text:"Select the word that is opposite in meaning to 'OBSOLETE'.",options:["Rare","Useless","Contemporary","Old"],correctAnswer:2,hint:"Contemporary means modern or current."},{type:"Probability",text:"Two coins are tossed. What is the probability of getting at least one head?",options:["1/4","1/2","3/4","1"],correctAnswer:2,hint:"Options are HH, HT, TH, TT. Only TT has no heads. So 3 out of 4."},{type:"Lateral",text:"A man pushes his car to a hotel and tells the owner he's bankrupt. Why?",options:["He crashed the car.","He is playing Monopoly.","The hotel is expensive.","It's a robbery."],correctAnswer:1,hint:"It's a classic board game scenario."},{type:"Logic",text:"Choose the odd one out: Copper, Zinc, Brass, Aluminium.",options:["Copper","Zinc","Brass","Aluminium"],correctAnswer:2,hint:"Brass is an alloy (mixture), the others are pure elements."},{type:"Math",text:"If 5 cats catch 5 mice in 5 minutes, how many cats are needed to catch 100 mice in 100 minutes?",options:["100","5","20","50"],correctAnswer:1,hint:"1 cat catches 1 mouse in 5 minutes. In 100 mins, 1 cat catches 20 mice. To catch 100 mice, you need 5 cats."},{type:"Logic",text:"Identify the next number in the series: 2, 6, 12, 20, 30, ...",options:["40","42","44","46"],correctAnswer:1,hint:"Differences are 4, 6, 8, 10... so next is +12."},{type:"Logic",text:"If A is the brother of B; B is the sister of C; and C is the father of D, how is D related to A?",options:["Brother","Sister","Nephew/Niece","Uncle"],correctAnswer:2,hint:"A is C's brother. D is C's child."},{type:"Math",text:"A train running at the speed of 60 km/hr crosses a pole in 9 seconds. What is the length of the train?",options:["120 metres","180 metres","324 metres","150 metres"],correctAnswer:3,hint:"Distance = Speed  Time. Convert km/hr to m/s (60 * 5/18)."},{type:"Math",text:"The average of first 50 natural numbers is?",options:["25.30","25.5","25.00","12.25"],correctAnswer:1,hint:"Sum of n natural numbers = n(n+1)/2. Average = (n+1)/2."},{type:"Verbal",text:"Synonym of 'CANDID' is:",options:["Apparent","Explicit","Frank","Bright"],correctAnswer:2,hint:"It means truthful and straightforward."},{type:"Logic",text:"In a certain code language, 'COMPUTER' is written as 'RFUVQNPC'. How will 'MEDICINE' be written in that code?",options:["EOJDJEFM","EOJDEJFM","MFEJDJOE","EOJDJMFE"],correctAnswer:0,hint:"Reverse the word and write next/previous letters."},{type:"Probability",text:"Tickets numbered 1 to 20 are mixed up and then a ticket is drawn at random. What is the probability that the ticket drawn has a number which is a multiple of 3 or 5?",options:["1/2","2/5","8/15","9/20"],correctAnswer:3,hint:"Multiples of 3: 3,6,9,12,15,18 (6). Multiples of 5: 5,10,15,20 (4). Common (15) counted twice. Total = 6+4-1 = 9."},{type:"Logic",text:"Statements: Some actors are singers. All the singers are dancers. Conclusion: Some actors are dancers.",options:["True","False","Cannot be determined","None of these"],correctAnswer:0,hint:"Draw a Venn diagram."},{type:"Math",text:"A fruit seller had some apples. He sells 40% apples and still has 420 apples. Originally, he had:",options:["588 apples","600 apples","672 apples","700 apples"],correctAnswer:3,hint:"60% = 420. So 100% = 420/0.6."},{type:"Math",text:"What is 20% of 30% of 500?",options:["20","30","50","300"],correctAnswer:1,hint:"0.2 * 0.3 * 500."}],x7=()=>{const[i,e]=se.useState(null),[t,n]=se.useState(!1),[s,r]=se.useState(!1),[o,c]=se.useState(0),[d,p]=se.useState({}),[m,g]=se.useState(!1),[y,b]=se.useState([]),[S,E]=se.useState(5),[A,M]=se.useState({technical:[],aptitude:[]}),D=F=>{try{const P=F==="technical"?p7:m7,H=[...P].sort(()=>.5-Math.random()).slice(0,Math.min(S,P.length));if(H.length===0){console.error("No questions found!");return}b(H),r(!0),c(0),p({}),g(!1)}catch(P){console.error("Quiz Start Error:",P),alert("Failed to start quiz. Please try again.")}},R=F=>{p({...d,[o]:F})},L=()=>{let F=0;return y.forEach((P,B)=>{d[B]===P.correctAnswer&&(F+=1)}),F},z=()=>{g(!0)},U=()=>{r(!1),g(!1),p({}),c(0),e(null)};if(t)return _.jsx(h7,{onBack:()=>n(!1)});if(!i)return _.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-8 text-center animate-fade-in-up",children:[_.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-white",children:"Interview Prep Hub"}),_.jsx("p",{className:"text-lg md:text-xl text-gray-300 mb-8 md:mb-12 max-w-2xl mx-auto",children:"Select a track to begin your preparation. Questions are randomized and non-repetitive in each session."}),_.jsxs("div",{className:"grid md:grid-cols-3 gap-6 md:gap-8",children:[_.jsxs("div",{onClick:()=>e("technical"),className:"bg-gray-800 p-6 md:p-8 rounded-2xl border border-gray-700 hover:border-blue-500 cursor-pointer transition-all hover:bg-gray-800/80 group shadow-lg hover:shadow-blue-500/20",children:[_.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-4 md:mb-6 group-hover:scale-110 transition-transform",children:_.jsx("svg",{className:"w-8 h-8 md:w-10 md:h-10 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),_.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:"Technical Interview"}),_.jsx("p",{className:"text-sm md:text-base text-gray-400",children:"Master concepts in React, Python, and System Design."})]}),_.jsxs("div",{onClick:()=>e("aptitude"),className:"bg-gray-800 p-6 md:p-8 rounded-2xl border border-gray-700 hover:border-purple-500 cursor-pointer transition-all hover:bg-gray-800/80 group shadow-lg hover:shadow-purple-500/20",children:[_.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-4 md:mb-6 group-hover:scale-110 transition-transform",children:_.jsx("svg",{className:"w-8 h-8 md:w-10 md:h-10 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),_.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:"Aptitude & Logic"}),_.jsx("p",{className:"text-sm md:text-base text-gray-400",children:"Sharpen skills with math, logic, and puzzles."})]}),_.jsxs("div",{onClick:()=>n(!0),className:"bg-gray-800 p-6 md:p-8 rounded-2xl border border-gray-700 hover:border-pink-500 cursor-pointer transition-all hover:bg-gray-800/80 group shadow-lg hover:shadow-pink-500/20",children:[_.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-pink-500/20 rounded-full flex items-center justify-center mx-auto mb-4 md:mb-6 group-hover:scale-110 transition-transform",children:_.jsx("svg",{className:"w-8 h-8 md:w-10 md:h-10 text-pink-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})})}),_.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:"AI HR Interview"}),_.jsx("p",{className:"text-sm md:text-base text-gray-400",children:"Mock interview with AI Voice agent based on your resume."})]})]})]});if(!s){const F=i==="technical";return _.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-8 text-center animate-fade-in-up",children:[_.jsx("div",{className:"w-full text-left mb-6",children:_.jsx("button",{onClick:()=>e(null),className:"text-gray-400 hover:text-white flex items-center gap-2 transition-colors py-2",children:" Back to Tracks"})}),_.jsx("div",{className:"mb-6 md:mb-8 flex justify-center",children:_.jsx("div",{className:`w-20 h-20 md:w-24 md:h-24 bg-gradient-to-br ${F?"from-blue-500 to-cyan-500 shadow-blue-500/30":"from-purple-500 to-pink-500 shadow-purple-500/30"} rounded-full flex items-center justify-center shadow-lg`,children:F?_.jsx("svg",{className:"w-10 h-10 md:w-12 md:h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})}):_.jsx("svg",{className:"w-10 h-10 md:w-12 md:h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})}),_.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 md:mb-6 text-white",children:F?"Technical Assessment":"Aptitude & Logic Quiz"}),_.jsx("p",{className:"text-lg md:text-xl text-gray-300 mb-8 max-w-2xl mx-auto px-2",children:F?"Test your knowledge on React, Python, Databases, and System Design.":"Challenge yourself with logical reasoning, quantitative aptitude, and puzzles."}),_.jsx("div",{className:"mb-8 md:mb-12 flex flex-wrap justify-center gap-3",children:[5,10,15,20].map(P=>{const B=S===P,H=F?"bg-blue-600 border-blue-600 text-white shadow-lg scale-105":"bg-purple-600 border-purple-600 text-white shadow-lg scale-105";return _.jsxs("button",{onClick:()=>E(P),className:`px-4 md:px-6 py-2 md:py-3 rounded-xl font-bold border-2 transition-all text-sm md:text-base flex-1 sm:flex-none min-w-[100px]
                                    ${B?H:"bg-gray-800 border-gray-600 text-gray-300 hover:border-gray-500"}`,children:[P," Qs"]},P)})}),_.jsxs("button",{onClick:()=>D(i),className:`w-full md:w-auto px-8 py-4 bg-gradient-to-r ${F?"from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500":"from-purple-600 to-pink-600 hover:from-purple-600 hover:to-pink-600"} text-white font-bold rounded-xl text-lg shadow-xl hover:shadow-2xl transition-all transform hover:-translate-y-1 active:scale-95`,children:["Start ",F?"Coding":"Logic"," Quiz"]})]})}if(m){const F=L(),P=F/y.length*100,B=P>=60;return _.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-8 animate-fade-in-up",children:[_.jsxs("div",{className:"relative mb-12",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-purple-600/20 blur-[60px] rounded-full -z-10"}),_.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-xl border border-gray-800 rounded-3xl p-8 md:p-12 shadow-2xl flex flex-col md:flex-row items-center justify-between gap-12 overflow-hidden relative",children:[_.jsx("div",{className:`absolute top-0 left-0 w-full h-1 bg-gradient-to-r ${B?"from-green-500 to-emerald-500":"from-red-500 to-orange-500"}`}),_.jsxs("div",{className:"relative flex-shrink-0",children:[_.jsxs("svg",{className:"w-56 h-56 transform -rotate-90 drop-shadow-[0_0_15px_rgba(0,0,0,0.5)]",children:[_.jsx("circle",{className:"text-gray-800",strokeWidth:"16",stroke:"currentColor",fill:"transparent",r:"90",cx:"112",cy:"112"}),_.jsx("circle",{className:`${B?"text-green-500":"text-red-500"} transition-all duration-1000 ease-out`,strokeWidth:"16",strokeDasharray:565,strokeDashoffset:565-565*P/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"90",cx:"112",cy:"112"})]}),_.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[_.jsxs("span",{className:`text-6xl font-black ${B?"text-white":"text-red-100"}`,children:[F,"/",y.length]}),_.jsx("span",{className:"text-sm text-gray-400 font-bold uppercase tracking-widest mt-1",children:"Score"})]})]}),_.jsxs("div",{className:"text-center md:text-left flex-1 space-y-6",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-2",children:B?"Excellent Work! ":"Keep Practicing! "}),_.jsx("p",{className:"text-lg text-gray-400 leading-relaxed max-w-lg",children:B?"You demonstrated strong understanding of the core concepts. You're ready for the next level.":"Don't worry, every expert was once a beginner. Review your incorrect answers below and try again."})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-4 md:justify-start justify-center",children:[_.jsxs("button",{onClick:()=>{g(!1),p({}),c(0),window.scrollTo(0,0)},className:"px-8 py-4 bg-white text-gray-900 font-bold rounded-xl hover:bg-gray-100 transition-all shadow-[0_0_20px_rgba(255,255,255,0.2)] hover:shadow-[0_0_30px_rgba(255,255,255,0.3)] hover:scale-105 active:scale-95 flex items-center justify-center gap-2",children:[_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Retry Quiz"]}),_.jsxs("button",{onClick:U,className:"px-8 py-4 bg-gray-800 text-white border border-gray-700 font-bold rounded-xl hover:bg-gray-700 transition-all hover:scale-105 active:scale-95 flex items-center justify-center gap-2",children:[_.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Switch Track"]})]})]})]})]}),_.jsxs("div",{className:"space-y-8",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("h3",{className:"text-2xl font-bold text-white",children:"Performance Review"}),_.jsx("div",{className:"h-px bg-gray-800 flex-1"})]}),_.jsx("div",{className:"space-y-6",children:y.map((H,Q)=>{const ie=d[Q]===H.correctAnswer,ue=H.options[d[Q]],fe=H.options[H.correctAnswer];return _.jsxs("div",{className:`relative p-6 rounded-2xl border transition-all duration-300 hover:shadow-xl group
                                    ${ie?"bg-gradient-to-br from-green-500/5 to-emerald-500/5 border-green-500/20 hover:border-green-500/40":"bg-gradient-to-br from-red-500/5 to-orange-500/5 border-red-500/20 hover:border-red-500/40"}`,children:[_.jsxs("div",{className:"flex justify-between items-start mb-4 gap-4",children:[_.jsxs("div",{className:"flex gap-3",children:[_.jsx("span",{className:`flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold
                                                ${ie?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:Q+1}),_.jsx("h4",{className:"text-base font-semibold text-gray-200 leading-snug",children:H.text})]}),ie?_.jsx("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}):_.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})]}),_.jsxs("div",{className:"space-y-3 mt-4 bg-gray-900/50 p-4 rounded-xl border border-gray-800/50 group-hover:border-gray-700 transition-colors",children:[_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider font-semibold",children:"Your Answer"}),_.jsx("span",{className:`font-medium ${ie?"text-green-300":"text-red-300 line-through decoration-red-500/50"}`,children:ue||"Skipped"})]}),!ie&&_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider font-semibold",children:"Correct Answer"}),_.jsx("span",{className:"text-green-400 font-medium",children:fe})]})]}),_.jsxs("div",{className:"mt-4 flex items-start gap-2 text-sm text-gray-400",children:[_.jsx("svg",{className:"w-5 h-5 text-yellow-500/70 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),_.jsx("p",{children:H.hint})]})]},Q)})})]})]})}if(!y||y.length===0)return _.jsx("div",{className:"min-h-[50vh] flex items-center justify-center text-white",children:"Loading Assessment..."});const I=i==="technical"?"bg-blue-600 hover:bg-blue-500":"bg-purple-600 hover:bg-purple-500";return _.jsxs("div",{className:"max-w-3xl mx-auto p-4 md:p-6 animate-fade-in-up",children:[_.jsx("div",{className:"flex justify-between items-center mb-4",children:_.jsxs("button",{onClick:U,className:"text-red-400 hover:text-red-300 text-sm font-semibold flex items-center gap-1 transition-colors px-2 py-1 hover:bg-red-500/10 rounded-lg",children:[_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Quit Quiz"]})}),_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-3 md:gap-0 mb-6 md:mb-8",children:[_.jsxs("h3",{className:"text-gray-400 uppercase tracking-wider text-xs md:text-sm font-semibold",children:["Question ",o+1," of ",y.length]}),_.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] md:text-xs font-bold border ${i==="technical"?"border-blue-500 text-blue-400 bg-blue-500/10":"border-purple-500 text-purple-400 bg-purple-500/10"}`,children:y[o].type})]}),_.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl p-5 md:p-8 shadow-2xl mb-8",children:[_.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-6",children:y[o].text}),_.jsx("div",{className:"space-y-3 md:space-y-4",children:y[o].options.map((F,P)=>_.jsxs("div",{onClick:()=>R(P),className:`flex items-start md:items-center p-3 md:p-4 rounded-xl border cursor-pointer transition-all group active:scale-[0.98]
                                ${d[o]===P?i==="technical"?"border-blue-500 bg-blue-500/20":"border-purple-500 bg-purple-500/20":"border-gray-700 bg-gray-900/50 hover:border-gray-600 hover:bg-gray-700/50"}`,children:[_.jsx("div",{className:`w-5 h-5 md:w-6 md:h-6 rounded-full border-2 flex items-center justify-center mr-3 md:mr-4 mt-0.5 md:mt-0 flex-shrink-0 transition-colors
                                ${d[o]===P?i==="technical"?"border-blue-500":"border-purple-500":"border-gray-500 group-hover:border-gray-400"}`,children:d[o]===P&&_.jsx("div",{className:`w-2.5 h-2.5 md:w-3 md:h-3 rounded-full ${i==="technical"?"bg-blue-500":"bg-purple-500"}`})}),_.jsx("span",{className:`text-base md:text-lg ${d[o]===P?"text-white":"text-gray-300"}`,children:F})]},P))}),_.jsx("div",{className:"mt-8 flex justify-center items-center gap-2 flex-wrap",children:y?.map((F,P)=>{const B=d[P]!==void 0,H=o===P;return _.jsx("button",{onClick:()=>c(P),className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all border-2
                                    ${H?"scale-110 shadow-lg ring-2 ring-blue-500/50":""}
                                    ${B?"bg-green-500 border-green-600 text-white":"bg-slate-800 border-slate-700 text-slate-400 hover:border-slate-500"}
                                `,children:P+1},P)})})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("button",{onClick:()=>c(Math.max(0,o-1)),disabled:o===0,className:"flex-1 py-3 rounded-xl font-medium border border-gray-600 text-gray-300 hover:bg-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors text-sm md:text-base",children:"Previous"}),Object.keys(d).length===y.length?_.jsx("button",{onClick:z,className:"flex-[2] py-3 rounded-xl font-bold bg-green-600 hover:bg-green-500 text-white shadow-lg transition-all text-sm md:text-base active:scale-95 shadow-green-500/20",children:"Finish & Submit Quiz"}):o<y.length-1?_.jsx("button",{onClick:()=>c(o+1),className:`flex-[2] py-3 rounded-xl font-bold ${I} text-white shadow-lg transition-all text-sm md:text-base active:scale-95`,children:"Next Question"}):_.jsx("button",{disabled:!0,className:"flex-[2] py-3 rounded-xl font-bold bg-gray-600 text-gray-400 opacity-50 cursor-not-allowed shadow-none border border-gray-600/50",children:"Answer All to Finish"})]})]})},g7=[{id:1,type:"initials",color:"from-blue-500 to-purple-600"},{id:2,type:"emoji",content:"",color:"from-emerald-400 to-cyan-500"},{id:3,type:"emoji",content:"",color:"from-orange-400 to-red-500"},{id:4,type:"emoji",content:"",color:"from-yellow-400 to-orange-500"},{id:5,type:"emoji",content:"",color:"from-indigo-400 to-purple-500"},{id:6,type:"emoji",content:"",color:"from-pink-400 to-rose-500"}],v7=({user:i,setUser:e,onClose:t})=>{const[n,s]=se.useState("profile"),[r,o]=se.useState({full_name:i.full_name||"",email:i.email||"",avatarId:i.avatar_id||i.avatarId||1}),[c,d]=se.useState({current_password:"",new_password:""}),[p,m]=se.useState(!1),[g,y]=se.useState({type:"",text:""}),[b,S]=se.useState(!1),[E,A]=se.useState(!1),M=async R=>{R.preventDefault(),m(!0),y({type:"",text:""});try{const L=await Yt.put("/update_profile",{user_id:i.id,full_name:r.full_name,avatar_id:r.avatarId});e({...i,...L.data}),y({type:"success",text:"Profile updated successfully!"}),setTimeout(t,1e3)}catch(L){console.error(L),y({type:"error",text:L.response?.data?.detail||"Update failed. Check your network."})}finally{m(!1)}},D=async R=>{R.preventDefault(),m(!0),y({type:"",text:""});try{await Yt.put("/change_password",{user_id:i.id,current_password:c.current_password,new_password:c.new_password}),y({type:"success",text:"Password changed successfully!"}),d({current_password:"",new_password:""})}catch(L){console.error(L),y({type:"error",text:L.response?.data?.detail||"Password change failed."})}finally{m(!1)}};return _.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[_.jsx(In.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"absolute inset-0 bg-slate-950/80 backdrop-blur-sm"}),_.jsxs(In.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl overflow-hidden",children:[_.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-center bg-slate-800/20",children:[_.jsx("h2",{className:"text-xl font-bold text-white",children:"Edit Profile"}),_.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors",children:_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),_.jsxs("div",{className:"p-6",children:[_.jsxs("div",{className:"flex gap-4 mb-8 border-b border-slate-800",children:[_.jsxs("button",{onClick:()=>{s("profile"),y({type:"",text:""})},className:`pb-3 text-sm font-medium transition-colors relative ${n==="profile"?"text-white":"text-slate-400 hover:text-slate-200"}`,children:["General Info",n==="profile"&&_.jsx(In.div,{layoutId:"tab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500"})]}),_.jsxs("button",{onClick:()=>{s("security"),y({type:"",text:""})},className:`pb-3 text-sm font-medium transition-colors relative ${n==="security"?"text-white":"text-slate-400 hover:text-slate-200"}`,children:["Security",n==="security"&&_.jsx(In.div,{layoutId:"tab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500"})]})]}),g.text&&_.jsx("div",{className:`mb-4 p-3 rounded-xl text-sm text-center ${g.type==="success"?"bg-green-500/10 text-green-300 border border-green-500/20":"bg-red-500/10 text-red-300 border border-red-500/20"}`,children:g.text}),_.jsxs("form",{onSubmit:n==="profile"?M:D,children:[n==="profile"&&_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:"Choose Avatar"}),_.jsx("div",{className:"flex gap-3 flex-wrap",children:g7.map(R=>_.jsx("button",{type:"button",onClick:()=>o({...r,avatarId:R.id}),className:`w-12 h-12 rounded-full flex items-center justify-center text-lg shadow-lg border-2 transition-all ${r.avatarId===R.id?"border-blue-500 scale-110":"border-transparent hover:border-slate-600"} bg-gradient-to-br ${R.color}`,children:R.type==="initials"?_.jsx("span",{className:"text-white font-bold text-sm",children:r.full_name?.charAt(0)||"U"}):R.content},R.id))})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Full Name"}),_.jsx("input",{value:r.full_name,onChange:R=>o({...r,full_name:R.target.value}),type:"text",required:!0,className:"w-full bg-slate-950/50 border border-slate-700 rounded-xl px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 transition-all"})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Email Address"}),_.jsx("input",{value:r.email,readOnly:!0,disabled:!0,className:"w-full bg-slate-900/50 border border-slate-700/50 rounded-xl px-4 py-2.5 text-slate-500 cursor-not-allowed"})]})]})]}),n==="security"&&_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-sm font-medium text-slate-300",children:"Current Password"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{value:c.current_password,onChange:R=>d({...c,current_password:R.target.value}),type:b?"text":"password",placeholder:"",required:!0,className:"w-full bg-slate-950/50 border border-slate-700 rounded-xl px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 transition-all pr-10"}),_.jsx("button",{type:"button",onClick:()=>S(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white transition-colors",children:b?_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):_.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-sm font-medium text-slate-300",children:"New Password"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{value:c.new_password,onChange:R=>d({...c,new_password:R.target.value}),type:E?"text":"password",placeholder:"",required:!0,className:"w-full bg-slate-950/50 border border-slate-700 rounded-xl px-4 py-2.5 text-white focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 transition-all pr-10"}),_.jsx("button",{type:"button",onClick:()=>A(!E),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white transition-colors",children:E?_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):_.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]})]}),_.jsxs("div",{className:"mt-8 flex justify-end gap-3",children:[_.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-slate-300 hover:text-white transition-colors",children:"Cancel"}),_.jsx("button",{type:"submit",disabled:p,className:"px-6 py-2 text-sm font-bold text-white bg-blue-600 hover:bg-blue-500 rounded-lg shadow-lg shadow-blue-500/20 transition-all flex items-center gap-2",children:p?"Saving...":"Save Changes"})]})]})]})]})]})},CN=[{id:1,type:"initials",color:"from-blue-500 to-purple-600"},{id:2,type:"emoji",content:"",color:"from-emerald-400 to-cyan-500"},{id:3,type:"emoji",content:"",color:"from-orange-400 to-red-500"},{id:4,type:"emoji",content:"",color:"from-yellow-400 to-orange-500"},{id:5,type:"emoji",content:"",color:"from-indigo-400 to-purple-500"},{id:6,type:"emoji",content:"",color:"from-pink-400 to-rose-500"}],y7=({setCurrentPage:i,currentPage:e,user:t,setUser:n})=>{const[s,r]=se.useState(!1),[o,c]=se.useState(!1),[d,p]=se.useState(!1),m=se.useRef(null),g=se.useRef(null),y=()=>{g.current&&(clearTimeout(g.current),g.current=null)},b=()=>{g.current=setTimeout(()=>{r(!1)},300)};se.useEffect(()=>{p(!1)},[e]),se.useEffect(()=>{const M=D=>{m.current&&!m.current.contains(D.target)&&r(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M),g.current&&clearTimeout(g.current)}},[]);const E=(()=>{if(!t)return null;const M=parseInt(t.avatar_id||t.avatarId||1);return CN.find(D=>D.id===M)||CN[0]})(),A=["Home","Resume Scan","ATS Checker","Interview Prep"];return _.jsxs(_.Fragment,{children:[_.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-slate-900/90 backdrop-blur-xl border-b border-white/10 support-backdrop-blur:bg-slate-900/90",children:[_.jsxs("div",{className:"container mx-auto px-4 md:px-6 h-16 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2 cursor-pointer z-50",onClick:()=>i("home"),children:[_.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center shadow-lg shadow-blue-500/20",children:_.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),_.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400 font-sans tracking-tight",children:"LaunchPad"})]}),_.jsx("div",{className:"hidden md:flex items-center gap-1 bg-slate-800/50 p-1 rounded-full border border-white/5",children:A.map(M=>{const D=M.toLowerCase().replace(" ","").replace("scan","").replace("checker","").replace("prep",""),R=D==="resume"?"resume":D==="ats"?"ats":D==="interview"?"interview":"home",L=e===R;return _.jsx("button",{onClick:()=>i(R),className:`px-4 py-1.5 text-sm font-medium rounded-full transition-all duration-200 ${L?"bg-blue-600 text-white shadow-md":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:M},M)})}),_.jsxs("div",{className:"flex items-center gap-3 md:gap-4 z-50",children:[t?_.jsxs("div",{className:"relative",ref:m,onMouseEnter:y,onMouseLeave:b,children:[_.jsxs("button",{onClick:()=>r(!s),className:"flex items-center gap-3 md:gap-4 focus:outline-none group p-2 pr-5 rounded-full hover:bg-slate-800 transition-all duration-300 border border-transparent hover:border-slate-700",children:[_.jsxs("div",{className:"text-right hidden md:block",children:[_.jsx("p",{className:"text-sm font-bold text-white leading-none group-hover:text-blue-400 transition-colors",children:t.full_name}),_.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"PRO ACCOUNT"})]}),_.jsx("div",{className:`h-8 w-8 md:h-10 md:w-10 rounded-full flex items-center justify-center text-white font-bold border border-white/10 shadow-lg group-hover:shadow-blue-500/20 transition-all bg-gradient-to-br ${E?.color}`,children:E?.type==="initials"?t.full_name?.charAt(0).toUpperCase():_.jsx("span",{className:"text-lg md:text-xl",children:E?.content})})]}),_.jsx(wr,{children:s&&_.jsxs(In.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2,ease:"circOut"},className:"absolute right-0 top-full mt-3 w-72 bg-slate-900/95 border border-slate-700/50 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-xl z-50 origin-top-right ring-1 ring-white/10",children:[_.jsxs("div",{className:"p-5 border-b border-slate-700/50 bg-gradient-to-br from-slate-800/50 to-slate-900/50",children:[_.jsx("p",{className:"text-white font-bold truncate text-base",children:t.full_name}),_.jsx("p",{className:"text-xs text-slate-400 truncate mt-0.5",children:t.email}),_.jsx("div",{className:"mt-3 flex items-center gap-2",children:_.jsx("span",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-300 text-[10px] font-bold rounded uppercase tracking-wider border border-blue-500/20",children:"Pro Member"})})]}),_.jsxs("div",{className:"p-2 space-y-1",children:[_.jsxs("button",{onClick:()=>{c(!0),r(!1)},className:"w-full text-left px-4 py-3 text-sm text-slate-300 hover:text-white hover:bg-slate-800/80 rounded-xl transition-all flex items-center gap-3 group",children:[_.jsx("div",{className:"p-1.5 bg-slate-800 rounded-lg group-hover:bg-blue-600 transition-colors",children:_.jsx("svg",{className:"w-4 h-4 text-blue-400 group-hover:text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),"My Profile"]}),t.role==="admin"&&_.jsxs("button",{onClick:()=>{i("admin"),r(!1)},className:"w-full text-left px-4 py-3 text-sm text-yellow-500 hover:text-yellow-400 hover:bg-yellow-500/10 rounded-xl transition-all flex items-center gap-3 group",children:[_.jsx("div",{className:"p-1.5 bg-yellow-500/20 rounded-lg group-hover:bg-yellow-500/30 transition-colors",children:_.jsx("svg",{className:"w-4 h-4 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),"Admin Panel"]}),_.jsx("div",{className:"h-px bg-slate-800/50 mx-2 my-1"}),_.jsxs("button",{onClick:()=>{localStorage.removeItem("user"),n(null),r(!1),i("home")},className:"w-full text-left px-4 py-3 text-sm text-slate-300 hover:text-red-300 hover:bg-red-500/10 rounded-xl transition-all flex items-center gap-3 group",children:[_.jsx("div",{className:"p-1.5 bg-slate-800 rounded-lg group-hover:bg-red-500/20 transition-colors",children:_.jsx("svg",{className:"w-4 h-4 text-slate-400 group-hover:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),"Sign Out"]})]})]})})]}):_.jsx("button",{onClick:()=>i("auth"),className:"px-4 py-2 text-sm font-bold text-white bg-blue-600 hover:bg-blue-500 rounded-lg transition-all shadow-lg shadow-blue-500/20 active:scale-95",children:"Get Started"}),_.jsx("button",{className:"md:hidden p-2 text-slate-300 hover:text-white bg-slate-800/50 rounded-lg border border-white/10",onClick:()=>p(!d),children:d?_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),_.jsx(wr,{children:d&&_.jsx(In.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:[.04,.62,.23,.98]},className:"md:hidden bg-slate-900/95 backdrop-blur-xl border-b border-white/10 overflow-hidden shadow-2xl",children:_.jsx("div",{className:"flex flex-col p-4 space-y-2",children:A.map(M=>{const D=M.toLowerCase().replace(" ","").replace("scan","").replace("checker","").replace("prep",""),R=D==="resume"?"resume":D==="ats"?"ats":D==="interview"?"interview":"home",L=e===R;return _.jsxs("button",{onClick:()=>{i(R),p(!1)},className:`w-full text-left px-5 py-4 text-base font-medium rounded-xl transition-all duration-200 flex items-center justify-between group ${L?"bg-gradient-to-r from-blue-600/20 to-purple-600/20 text-blue-400 border border-blue-500/30 shadow-lg shadow-blue-500/10":"text-slate-400 hover:text-white hover:bg-white/5 border border-transparent active:scale-[0.98]"}`,children:[_.jsx("span",{className:"flex items-center gap-3",children:M}),L?_.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400 shadow-[0_0_8px_rgba(96,165,250,0.8)]"}):_.jsx("svg",{className:"w-4 h-4 text-slate-600 opacity-0 group-hover:opacity-100 transition-opacity -translate-x-2 group-hover:translate-x-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]},M)})})})})]}),_.jsx(wr,{children:o&&t&&_.jsx(v7,{user:t,setUser:n,onClose:()=>c(!1)})})]})};var cM={exports:{}},tu={};var NN;function _7(){return NN||(NN=1,tu.ConcurrentRoot=1,tu.ContinuousEventPriority=8,tu.DefaultEventPriority=32,tu.DiscreteEventPriority=2,tu.IdleEventPriority=268435456,tu.LegacyRoot=0,tu.NoEventPriority=0),tu}var RN;function b7(){return RN||(RN=1,cM.exports=_7()),cM.exports}var zb=b7();const jv="181",S7={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},M7={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},hL=0,aT=1,pL=2,T7=3,mL=0,xS=1,Rg=2,Ml=3,yu=0,fr=1,dc=2,_c=0,yh=1,n1=2,rT=3,oT=4,xL=5,_f=100,gL=101,vL=102,yL=103,_L=104,bL=200,SL=201,ML=202,TL=203,i1=204,s1=205,wL=206,EL=207,AL=208,CL=209,NL=210,RL=211,DL=212,LL=213,OL=214,a1=0,r1=1,o1=2,Dh=3,l1=4,c1=5,u1=6,f1=7,Fv=0,UL=1,zL=2,bc=0,PL=1,BL=2,IL=3,Pw=4,jL=5,FL=6,VL=7,lT="attached",kL="detached",gS=300,_u=301,Uf=302,sv=303,av=304,v0=306,rv=1e3,Nr=1001,ov=1002,la=1003,Bw=1004,w7=1004,Rm=1005,E7=1005,fs=1006,Dg=1007,A7=1007,pc=1008,C7=1008,qo=1009,Iw=1010,jw=1011,Wm=1012,vS=1013,bu=1014,Rr=1015,Fh=1016,yS=1017,_S=1018,Ym=1020,Fw=35902,Vw=35899,kw=1021,Hw=1022,Oa=1023,Zm=1026,Km=1027,bS=1028,Vv=1029,SS=1030,MS=1031,N7=1032,TS=1033,Lg=33776,Og=33777,Ug=33778,zg=33779,d1=35840,h1=35841,p1=35842,m1=35843,x1=36196,g1=37492,v1=37496,y1=37808,_1=37809,b1=37810,S1=37811,M1=37812,T1=37813,w1=37814,E1=37815,A1=37816,C1=37817,N1=37818,R1=37819,D1=37820,L1=37821,O1=36492,U1=36494,z1=36495,P1=36283,B1=36284,I1=36285,j1=36286,HL=2200,GL=2201,XL=2202,lv=2300,F1=2301,Pb=2302,fh=2400,dh=2401,cv=2402,wS=2500,Gw=2501,R7=0,D7=1,L7=2,qL=3200,WL=3201,O7=3202,U7=3203,kf=0,YL=1,fu="",Ca="srgb",zf="srgb-linear",uv="linear",hi="srgb",z7=0,ih=7680,P7=7681,B7=7682,I7=7683,j7=34055,F7=34056,V7=5386,k7=512,H7=513,G7=514,X7=515,q7=516,W7=517,Y7=518,cT=519,ZL=512,KL=513,QL=514,Xw=515,JL=516,$L=517,eO=518,tO=519,fv=35044,_h=35048,Z7=35040,K7=35045,Q7=35049,J7=35041,$7=35046,eF=35050,tF=35042,nF="100",uT="300 es",ro=2e3,Qm=2001,iF={COMPUTE:"compute",RENDER:"render"},sF={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},aF={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function nO(i){for(let e=i.length-1;e>=0;--e)if(i[e]>=65535)return!0;return!1}const rF={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Dm(i,e){return new rF[i](e)}function dv(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function iO(){const i=dv("canvas");return i.style.display="block",i}const DN={};let Pf=null;function oF(i){Pf=i}function lF(){return Pf}function hv(...i){const e="THREE."+i.shift();Pf?Pf("log",e,...i):console.log(e,...i)}function St(...i){const e="THREE."+i.shift();Pf?Pf("warn",e,...i):console.warn(e,...i)}function an(...i){const e="THREE."+i.shift();Pf?Pf("error",e,...i):console.error(e,...i)}function Jm(...i){const e=i.join(" ");e in DN||(DN[e]=!0,St(...i))}function cF(i,e,t){return new Promise(function(n,s){function r(){switch(i.clientWaitSync(e,i.SYNC_FLUSH_COMMANDS_BIT,0)){case i.WAIT_FAILED:s();break;case i.TIMEOUT_EXPIRED:setTimeout(r,t);break;default:n()}}setTimeout(r,t)})}class wc{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const s=n[e];if(s!==void 0){const r=s.indexOf(t);r!==-1&&s.splice(r,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const s=n.slice(0);for(let r=0,o=s.length;r<o;r++)s[r].call(this,e);e.target=null}}}const Ma=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let LN=1234567;const bh=Math.PI/180,$m=180/Math.PI;function lo(){const i=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Ma[i&255]+Ma[i>>8&255]+Ma[i>>16&255]+Ma[i>>24&255]+"-"+Ma[e&255]+Ma[e>>8&255]+"-"+Ma[e>>16&15|64]+Ma[e>>24&255]+"-"+Ma[t&63|128]+Ma[t>>8&255]+"-"+Ma[t>>16&255]+Ma[t>>24&255]+Ma[n&255]+Ma[n>>8&255]+Ma[n>>16&255]+Ma[n>>24&255]).toLowerCase()}function Jt(i,e,t){return Math.max(e,Math.min(t,i))}function qw(i,e){return(i%e+e)%e}function uF(i,e,t,n,s){return n+(i-e)*(s-n)/(t-e)}function fF(i,e,t){return i!==e?(t-i)/(e-i):0}function Pg(i,e,t){return(1-t)*i+t*e}function dF(i,e,t,n){return Pg(i,e,1-Math.exp(-t*n))}function hF(i,e=1){return e-Math.abs(qw(i,e*2)-e)}function pF(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*(3-2*i))}function mF(i,e,t){return i<=e?0:i>=t?1:(i=(i-e)/(t-e),i*i*i*(i*(i*6-15)+10))}function xF(i,e){return i+Math.floor(Math.random()*(e-i+1))}function gF(i,e){return i+Math.random()*(e-i)}function vF(i){return i*(.5-Math.random())}function yF(i){i!==void 0&&(LN=i);let e=LN+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function _F(i){return i*bh}function bF(i){return i*$m}function SF(i){return(i&i-1)===0&&i!==0}function MF(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function TF(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}function wF(i,e,t,n,s){const r=Math.cos,o=Math.sin,c=r(t/2),d=o(t/2),p=r((e+n)/2),m=o((e+n)/2),g=r((e-n)/2),y=o((e-n)/2),b=r((n-e)/2),S=o((n-e)/2);switch(s){case"XYX":i.set(c*m,d*g,d*y,c*p);break;case"YZY":i.set(d*y,c*m,d*g,c*p);break;case"ZXZ":i.set(d*g,d*y,c*m,c*p);break;case"XZX":i.set(c*m,d*S,d*b,c*p);break;case"YXY":i.set(d*b,c*m,d*S,c*p);break;case"ZYZ":i.set(d*S,d*b,c*m,c*p);break;default:St("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function or(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return i/4294967295;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int32Array:return Math.max(i/2147483647,-1);case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}function hn(i,e){switch(e.constructor){case Float32Array:return i;case Uint32Array:return Math.round(i*4294967295);case Uint16Array:return Math.round(i*65535);case Uint8Array:return Math.round(i*255);case Int32Array:return Math.round(i*2147483647);case Int16Array:return Math.round(i*32767);case Int8Array:return Math.round(i*127);default:throw new Error("Invalid component type.")}}const EF={DEG2RAD:bh,RAD2DEG:$m,generateUUID:lo,clamp:Jt,euclideanModulo:qw,mapLinear:uF,inverseLerp:fF,lerp:Pg,damp:dF,pingpong:hF,smoothstep:pF,smootherstep:mF,randInt:xF,randFloat:gF,randFloatSpread:vF,seededRandom:yF,degToRad:_F,radToDeg:bF,isPowerOfTwo:SF,ceilPowerOfTwo:MF,floorPowerOfTwo:TF,setQuaternionFromProperEuler:wF,normalize:hn,denormalize:or};class Ke{constructor(e=0,t=0){Ke.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,s=e.elements;return this.x=s[0]*t+s[3]*n+s[6],this.y=s[1]*t+s[4]*n+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Jt(this.x,e.x,t.x),this.y=Jt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Jt(this.x,e,t),this.y=Jt(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Jt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Jt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),s=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*n-o*s+e.x,this.y=r*s+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Or{constructor(e=0,t=0,n=0,s=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=s}static slerpFlat(e,t,n,s,r,o,c){let d=n[s+0],p=n[s+1],m=n[s+2],g=n[s+3],y=r[o+0],b=r[o+1],S=r[o+2],E=r[o+3];if(c<=0){e[t+0]=d,e[t+1]=p,e[t+2]=m,e[t+3]=g;return}if(c>=1){e[t+0]=y,e[t+1]=b,e[t+2]=S,e[t+3]=E;return}if(g!==E||d!==y||p!==b||m!==S){let A=d*y+p*b+m*S+g*E;A<0&&(y=-y,b=-b,S=-S,E=-E,A=-A);let M=1-c;if(A<.9995){const D=Math.acos(A),R=Math.sin(D);M=Math.sin(M*D)/R,c=Math.sin(c*D)/R,d=d*M+y*c,p=p*M+b*c,m=m*M+S*c,g=g*M+E*c}else{d=d*M+y*c,p=p*M+b*c,m=m*M+S*c,g=g*M+E*c;const D=1/Math.sqrt(d*d+p*p+m*m+g*g);d*=D,p*=D,m*=D,g*=D}}e[t]=d,e[t+1]=p,e[t+2]=m,e[t+3]=g}static multiplyQuaternionsFlat(e,t,n,s,r,o){const c=n[s],d=n[s+1],p=n[s+2],m=n[s+3],g=r[o],y=r[o+1],b=r[o+2],S=r[o+3];return e[t]=c*S+m*g+d*b-p*y,e[t+1]=d*S+m*y+p*g-c*b,e[t+2]=p*S+m*b+c*y-d*g,e[t+3]=m*S-c*g-d*y-p*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,s){return this._x=e,this._y=t,this._z=n,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,s=e._y,r=e._z,o=e._order,c=Math.cos,d=Math.sin,p=c(n/2),m=c(s/2),g=c(r/2),y=d(n/2),b=d(s/2),S=d(r/2);switch(o){case"XYZ":this._x=y*m*g+p*b*S,this._y=p*b*g-y*m*S,this._z=p*m*S+y*b*g,this._w=p*m*g-y*b*S;break;case"YXZ":this._x=y*m*g+p*b*S,this._y=p*b*g-y*m*S,this._z=p*m*S-y*b*g,this._w=p*m*g+y*b*S;break;case"ZXY":this._x=y*m*g-p*b*S,this._y=p*b*g+y*m*S,this._z=p*m*S+y*b*g,this._w=p*m*g-y*b*S;break;case"ZYX":this._x=y*m*g-p*b*S,this._y=p*b*g+y*m*S,this._z=p*m*S-y*b*g,this._w=p*m*g+y*b*S;break;case"YZX":this._x=y*m*g+p*b*S,this._y=p*b*g+y*m*S,this._z=p*m*S-y*b*g,this._w=p*m*g-y*b*S;break;case"XZY":this._x=y*m*g-p*b*S,this._y=p*b*g-y*m*S,this._z=p*m*S+y*b*g,this._w=p*m*g+y*b*S;break;default:St("Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,s=Math.sin(n);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],s=t[4],r=t[8],o=t[1],c=t[5],d=t[9],p=t[2],m=t[6],g=t[10],y=n+c+g;if(y>0){const b=.5/Math.sqrt(y+1);this._w=.25/b,this._x=(m-d)*b,this._y=(r-p)*b,this._z=(o-s)*b}else if(n>c&&n>g){const b=2*Math.sqrt(1+n-c-g);this._w=(m-d)/b,this._x=.25*b,this._y=(s+o)/b,this._z=(r+p)/b}else if(c>g){const b=2*Math.sqrt(1+c-n-g);this._w=(r-p)/b,this._x=(s+o)/b,this._y=.25*b,this._z=(d+m)/b}else{const b=2*Math.sqrt(1+g-n-c);this._w=(o-s)/b,this._x=(r+p)/b,this._y=(d+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Jt(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const s=Math.min(1,t/n);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,s=e._y,r=e._z,o=e._w,c=t._x,d=t._y,p=t._z,m=t._w;return this._x=n*m+o*c+s*p-r*d,this._y=s*m+o*d+r*c-n*p,this._z=r*m+o*p+n*d-s*c,this._w=o*m-n*c-s*d-r*p,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,s=e._y,r=e._z,o=e._w,c=this.dot(e);c<0&&(n=-n,s=-s,r=-r,o=-o,c=-c);let d=1-t;if(c<.9995){const p=Math.acos(c),m=Math.sin(p);d=Math.sin(d*p)/m,t=Math.sin(t*p)/m,this._x=this._x*d+n*t,this._y=this._y*d+s*t,this._z=this._z*d+r*t,this._w=this._w*d+o*t,this._onChangeCallback()}else this._x=this._x*d+n*t,this._y=this._y*d+s*t,this._z=this._z*d+r*t,this._w=this._w*d+o*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),s=Math.sqrt(1-n),r=Math.sqrt(n);return this.set(s*Math.sin(e),s*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class te{constructor(e=0,t=0,n=0){te.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(ON.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ON.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,s=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*s,this.y=r[1]*t+r[4]*n+r[7]*s,this.z=r[2]*t+r[5]*n+r[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,s=this.z,r=e.elements,o=1/(r[3]*t+r[7]*n+r[11]*s+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*s+r[12])*o,this.y=(r[1]*t+r[5]*n+r[9]*s+r[13])*o,this.z=(r[2]*t+r[6]*n+r[10]*s+r[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,s=this.z,r=e.x,o=e.y,c=e.z,d=e.w,p=2*(o*s-c*n),m=2*(c*t-r*s),g=2*(r*n-o*t);return this.x=t+d*p+o*g-c*m,this.y=n+d*m+c*p-r*g,this.z=s+d*g+r*m-o*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,s=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*s,this.y=r[1]*t+r[5]*n+r[9]*s,this.z=r[2]*t+r[6]*n+r[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Jt(this.x,e.x,t.x),this.y=Jt(this.y,e.y,t.y),this.z=Jt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Jt(this.x,e,t),this.y=Jt(this.y,e,t),this.z=Jt(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Jt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,s=e.y,r=e.z,o=t.x,c=t.y,d=t.z;return this.x=s*d-r*c,this.y=r*o-n*d,this.z=n*c-s*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return uM.copy(this).projectOnVector(e),this.sub(uM)}reflect(e){return this.sub(uM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Jt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,s=this.z-e.z;return t*t+n*n+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const s=Math.sin(t)*e;return this.x=s*Math.sin(n),this.y=Math.cos(t)*e,this.z=s*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=s,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const uM=new te,ON=new Or;class fn{constructor(e,t,n,s,r,o,c,d,p){fn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,s,r,o,c,d,p)}set(e,t,n,s,r,o,c,d,p){const m=this.elements;return m[0]=e,m[1]=s,m[2]=c,m[3]=t,m[4]=r,m[5]=d,m[6]=n,m[7]=o,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,s=t.elements,r=this.elements,o=n[0],c=n[3],d=n[6],p=n[1],m=n[4],g=n[7],y=n[2],b=n[5],S=n[8],E=s[0],A=s[3],M=s[6],D=s[1],R=s[4],L=s[7],z=s[2],U=s[5],I=s[8];return r[0]=o*E+c*D+d*z,r[3]=o*A+c*R+d*U,r[6]=o*M+c*L+d*I,r[1]=p*E+m*D+g*z,r[4]=p*A+m*R+g*U,r[7]=p*M+m*L+g*I,r[2]=y*E+b*D+S*z,r[5]=y*A+b*R+S*U,r[8]=y*M+b*L+S*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],s=e[2],r=e[3],o=e[4],c=e[5],d=e[6],p=e[7],m=e[8];return t*o*m-t*c*p-n*r*m+n*c*d+s*r*p-s*o*d}invert(){const e=this.elements,t=e[0],n=e[1],s=e[2],r=e[3],o=e[4],c=e[5],d=e[6],p=e[7],m=e[8],g=m*o-c*p,y=c*d-m*r,b=p*r-o*d,S=t*g+n*y+s*b;if(S===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/S;return e[0]=g*E,e[1]=(s*p-m*n)*E,e[2]=(c*n-s*o)*E,e[3]=y*E,e[4]=(m*t-s*d)*E,e[5]=(s*r-c*t)*E,e[6]=b*E,e[7]=(n*d-p*t)*E,e[8]=(o*t-n*r)*E,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,s,r,o,c){const d=Math.cos(r),p=Math.sin(r);return this.set(n*d,n*p,-n*(d*o+p*c)+o+e,-s*p,s*d,-s*(-p*o+d*c)+c+t,0,0,1),this}scale(e,t){return this.premultiply(fM.makeScale(e,t)),this}rotate(e){return this.premultiply(fM.makeRotation(-e)),this}translate(e,t){return this.premultiply(fM.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let s=0;s<9;s++)if(t[s]!==n[s])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const fM=new fn,UN=new fn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),zN=new fn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function AF(){const i={enabled:!0,workingColorSpace:zf,spaces:{},convert:function(s,r,o){return this.enabled===!1||r===o||!r||!o||(this.spaces[r].transfer===hi&&(s.r=mu(s.r),s.g=mu(s.g),s.b=mu(s.b)),this.spaces[r].primaries!==this.spaces[o].primaries&&(s.applyMatrix3(this.spaces[r].toXYZ),s.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===hi&&(s.r=Bm(s.r),s.g=Bm(s.g),s.b=Bm(s.b))),s},workingToColorSpace:function(s,r){return this.convert(s,this.workingColorSpace,r)},colorSpaceToWorking:function(s,r){return this.convert(s,r,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===fu?uv:this.spaces[s].transfer},getToneMappingMode:function(s){return this.spaces[s].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(s,r=this.workingColorSpace){return s.fromArray(this.spaces[r].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,r,o){return s.copy(this.spaces[r].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(s,r){return Jm("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),i.workingToColorSpace(s,r)},toWorkingColorSpace:function(s,r){return Jm("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),i.colorSpaceToWorking(s,r)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return i.define({[zf]:{primaries:e,whitePoint:n,transfer:uv,toXYZ:UN,fromXYZ:zN,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Ca},outputColorSpaceConfig:{drawingBufferColorSpace:Ca}},[Ca]:{primaries:e,whitePoint:n,transfer:hi,toXYZ:UN,fromXYZ:zN,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Ca}}}),i}const Gn=AF();function mu(i){return i<.04045?i*.0773993808:Math.pow(i*.9478672986+.0521327014,2.4)}function Bm(i){return i<.0031308?i*12.92:1.055*Math.pow(i,.41666)-.055}let Kp;class sO{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Kp===void 0&&(Kp=dv("canvas")),Kp.width=e.width,Kp.height=e.height;const s=Kp.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),n=Kp}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=dv("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const s=n.getImageData(0,0,e.width,e.height),r=s.data;for(let o=0;o<r.length;o++)r[o]=mu(r[o]/255)*255;return n.putImageData(s,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(mu(t[n]/255)*255):t[n]=mu(t[n]);return{data:t,width:e.width,height:e.height}}else return St("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let CF=0;class Sf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:CF++}),this.uuid=lo(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},s=this.data;if(s!==null){let r;if(Array.isArray(s)){r=[];for(let o=0,c=s.length;o<c;o++)s[o].isDataTexture?r.push(dM(s[o].image)):r.push(dM(s[o]))}else r=dM(s);n.url=r}return t||(e.images[this.uuid]=n),n}}function dM(i){return typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&i instanceof ImageBitmap?sO.getDataURL(i):i.data?{data:Array.from(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(St("Texture: Unable to serialize Texture."),{})}let NF=0;const hM=new te;class ts extends wc{constructor(e=ts.DEFAULT_IMAGE,t=ts.DEFAULT_MAPPING,n=Nr,s=Nr,r=fs,o=pc,c=Oa,d=qo,p=ts.DEFAULT_ANISOTROPY,m=fu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:NF++}),this.uuid=lo(),this.name="",this.source=new Sf(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=s,this.magFilter=r,this.minFilter=o,this.anisotropy=p,this.format=c,this.internalFormat=null,this.type=d,this.offset=new Ke(0,0),this.repeat=new Ke(1,1),this.center=new Ke(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(hM).x}get height(){return this.source.getSize(hM).y}get depth(){return this.source.getSize(hM).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){St(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const s=this[t];if(s===void 0){St(`Texture.setValues(): property '${t}' does not exist.`);continue}s&&n&&s.isVector2&&n.isVector2||s&&n&&s.isVector3&&n.isVector3||s&&n&&s.isMatrix3&&n.isMatrix3?s.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==gS)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case rv:e.x=e.x-Math.floor(e.x);break;case Nr:e.x=e.x<0?0:1;break;case ov:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case rv:e.y=e.y-Math.floor(e.y);break;case Nr:e.y=e.y<0?0:1;break;case ov:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ts.DEFAULT_IMAGE=null;ts.DEFAULT_MAPPING=gS;ts.DEFAULT_ANISOTROPY=1;class Yn{constructor(e=0,t=0,n=0,s=1){Yn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,s){return this.x=e,this.y=t,this.z=n,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,s=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*s+o[12]*r,this.y=o[1]*t+o[5]*n+o[9]*s+o[13]*r,this.z=o[2]*t+o[6]*n+o[10]*s+o[14]*r,this.w=o[3]*t+o[7]*n+o[11]*s+o[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,s,r;const d=e.elements,p=d[0],m=d[4],g=d[8],y=d[1],b=d[5],S=d[9],E=d[2],A=d[6],M=d[10];if(Math.abs(m-y)<.01&&Math.abs(g-E)<.01&&Math.abs(S-A)<.01){if(Math.abs(m+y)<.1&&Math.abs(g+E)<.1&&Math.abs(S+A)<.1&&Math.abs(p+b+M-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const R=(p+1)/2,L=(b+1)/2,z=(M+1)/2,U=(m+y)/4,I=(g+E)/4,F=(S+A)/4;return R>L&&R>z?R<.01?(n=0,s=.707106781,r=.707106781):(n=Math.sqrt(R),s=U/n,r=I/n):L>z?L<.01?(n=.707106781,s=0,r=.707106781):(s=Math.sqrt(L),n=U/s,r=F/s):z<.01?(n=.707106781,s=.707106781,r=0):(r=Math.sqrt(z),n=I/r,s=F/r),this.set(n,s,r,t),this}let D=Math.sqrt((A-S)*(A-S)+(g-E)*(g-E)+(y-m)*(y-m));return Math.abs(D)<.001&&(D=1),this.x=(A-S)/D,this.y=(g-E)/D,this.z=(y-m)/D,this.w=Math.acos((p+b+M-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Jt(this.x,e.x,t.x),this.y=Jt(this.y,e.y,t.y),this.z=Jt(this.z,e.z,t.z),this.w=Jt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Jt(this.x,e,t),this.y=Jt(this.y,e,t),this.z=Jt(this.z,e,t),this.w=Jt(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Jt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ww extends wc{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:fs,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new Yn(0,0,e,t),this.scissorTest=!1,this.viewport=new Yn(0,0,e,t);const s={width:e,height:t,depth:n.depth},r=new ts(s);this.textures=[];const o=n.count;for(let c=0;c<o;c++)this.textures[c]=r.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:fs,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let s=0,r=this.textures.length;s<r;s++)this.textures[s].image.width=e,this.textures[s].image.height=t,this.textures[s].image.depth=n,this.textures[s].isData3DTexture!==!0&&(this.textures[s].isArrayTexture=this.textures[s].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const s=Object.assign({},e.textures[t].image);this.textures[t].source=new Sf(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Mc extends Ww{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class ES extends ts{constructor(e=null,t=1,n=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:s},this.magFilter=la,this.minFilter=la,this.wrapR=Nr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class RF extends Mc{constructor(e=1,t=1,n=1,s={}){super(e,t,s),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new ES(null,e,t,n),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class AS extends ts{constructor(e=null,t=1,n=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:s},this.magFilter=la,this.minFilter=la,this.wrapR=Nr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class DF extends Mc{constructor(e=1,t=1,n=1,s={}){super(e,t,s),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new AS(null,e,t,n),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class Ua{constructor(e=new te(1/0,1/0,1/0),t=new te(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(vl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(vl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=vl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const r=n.getAttribute("position");if(t===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let o=0,c=r.count;o<c;o++)e.isMesh===!0?e.getVertexPosition(o,vl):vl.fromBufferAttribute(r,o),vl.applyMatrix4(e.matrixWorld),this.expandByPoint(vl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),S_.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),S_.copy(n.boundingBox)),S_.applyMatrix4(e.matrixWorld),this.union(S_)}const s=e.children;for(let r=0,o=s.length;r<o;r++)this.expandByObject(s[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,vl),vl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Jx),M_.subVectors(this.max,Jx),Qp.subVectors(e.a,Jx),Jp.subVectors(e.b,Jx),$p.subVectors(e.c,Jx),uf.subVectors(Jp,Qp),ff.subVectors($p,Jp),jd.subVectors(Qp,$p);let t=[0,-uf.z,uf.y,0,-ff.z,ff.y,0,-jd.z,jd.y,uf.z,0,-uf.x,ff.z,0,-ff.x,jd.z,0,-jd.x,-uf.y,uf.x,0,-ff.y,ff.x,0,-jd.y,jd.x,0];return!pM(t,Qp,Jp,$p,M_)||(t=[1,0,0,0,1,0,0,0,1],!pM(t,Qp,Jp,$p,M_))?!1:(T_.crossVectors(uf,ff),t=[T_.x,T_.y,T_.z],pM(t,Qp,Jp,$p,M_))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,vl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(vl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(nu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),nu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),nu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),nu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),nu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),nu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),nu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),nu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(nu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const nu=[new te,new te,new te,new te,new te,new te,new te,new te],vl=new te,S_=new Ua,Qp=new te,Jp=new te,$p=new te,uf=new te,ff=new te,jd=new te,Jx=new te,M_=new te,T_=new te,Fd=new te;function pM(i,e,t,n,s){for(let r=0,o=i.length-3;r<=o;r+=3){Fd.fromArray(i,r);const c=s.x*Math.abs(Fd.x)+s.y*Math.abs(Fd.y)+s.z*Math.abs(Fd.z),d=e.dot(Fd),p=t.dot(Fd),m=n.dot(Fd);if(Math.max(-Math.max(d,p,m),Math.min(d,p,m))>c)return!1}return!0}const LF=new Ua,$x=new te,mM=new te;class ca{constructor(e=new te,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):LF.setFromPoints(e).getCenter(n);let s=0;for(let r=0,o=e.length;r<o;r++)s=Math.max(s,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;$x.subVectors(e,this.center);const t=$x.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),s=(n-this.radius)*.5;this.center.addScaledVector($x,s/n),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(mM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint($x.copy(e.center).add(mM)),this.expandByPoint($x.copy(e.center).sub(mM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const iu=new te,xM=new te,w_=new te,df=new te,gM=new te,E_=new te,vM=new te;class y0{constructor(e=new te,t=new te(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,iu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=iu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(iu.copy(this.origin).addScaledVector(this.direction,t),iu.distanceToSquared(e))}distanceSqToSegment(e,t,n,s){xM.copy(e).add(t).multiplyScalar(.5),w_.copy(t).sub(e).normalize(),df.copy(this.origin).sub(xM);const r=e.distanceTo(t)*.5,o=-this.direction.dot(w_),c=df.dot(this.direction),d=-df.dot(w_),p=df.lengthSq(),m=Math.abs(1-o*o);let g,y,b,S;if(m>0)if(g=o*d-c,y=o*c-d,S=r*m,g>=0)if(y>=-S)if(y<=S){const E=1/m;g*=E,y*=E,b=g*(g+o*y+2*c)+y*(o*g+y+2*d)+p}else y=r,g=Math.max(0,-(o*y+c)),b=-g*g+y*(y+2*d)+p;else y=-r,g=Math.max(0,-(o*y+c)),b=-g*g+y*(y+2*d)+p;else y<=-S?(g=Math.max(0,-(-o*r+c)),y=g>0?-r:Math.min(Math.max(-r,-d),r),b=-g*g+y*(y+2*d)+p):y<=S?(g=0,y=Math.min(Math.max(-r,-d),r),b=y*(y+2*d)+p):(g=Math.max(0,-(o*r+c)),y=g>0?r:Math.min(Math.max(-r,-d),r),b=-g*g+y*(y+2*d)+p);else y=o>0?-r:r,g=Math.max(0,-(o*y+c)),b=-g*g+y*(y+2*d)+p;return n&&n.copy(this.origin).addScaledVector(this.direction,g),s&&s.copy(xM).addScaledVector(w_,y),b}intersectSphere(e,t){iu.subVectors(e.center,this.origin);const n=iu.dot(this.direction),s=iu.dot(iu)-n*n,r=e.radius*e.radius;if(s>r)return null;const o=Math.sqrt(r-s),c=n-o,d=n+o;return d<0?null:c<0?this.at(d,t):this.at(c,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,s,r,o,c,d;const p=1/this.direction.x,m=1/this.direction.y,g=1/this.direction.z,y=this.origin;return p>=0?(n=(e.min.x-y.x)*p,s=(e.max.x-y.x)*p):(n=(e.max.x-y.x)*p,s=(e.min.x-y.x)*p),m>=0?(r=(e.min.y-y.y)*m,o=(e.max.y-y.y)*m):(r=(e.max.y-y.y)*m,o=(e.min.y-y.y)*m),n>o||r>s||((r>n||isNaN(n))&&(n=r),(o<s||isNaN(s))&&(s=o),g>=0?(c=(e.min.z-y.z)*g,d=(e.max.z-y.z)*g):(c=(e.max.z-y.z)*g,d=(e.min.z-y.z)*g),n>d||c>s)||((c>n||n!==n)&&(n=c),(d<s||s!==s)&&(s=d),s<0)?null:this.at(n>=0?n:s,t)}intersectsBox(e){return this.intersectBox(e,iu)!==null}intersectTriangle(e,t,n,s,r){gM.subVectors(t,e),E_.subVectors(n,e),vM.crossVectors(gM,E_);let o=this.direction.dot(vM),c;if(o>0){if(s)return null;c=1}else if(o<0)c=-1,o=-o;else return null;df.subVectors(this.origin,e);const d=c*this.direction.dot(E_.crossVectors(df,E_));if(d<0)return null;const p=c*this.direction.dot(gM.cross(df));if(p<0||d+p>o)return null;const m=-c*df.dot(vM);return m<0?null:this.at(m/o,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class $t{constructor(e,t,n,s,r,o,c,d,p,m,g,y,b,S,E,A){$t.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,s,r,o,c,d,p,m,g,y,b,S,E,A)}set(e,t,n,s,r,o,c,d,p,m,g,y,b,S,E,A){const M=this.elements;return M[0]=e,M[4]=t,M[8]=n,M[12]=s,M[1]=r,M[5]=o,M[9]=c,M[13]=d,M[2]=p,M[6]=m,M[10]=g,M[14]=y,M[3]=b,M[7]=S,M[11]=E,M[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new $t().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,s=1/em.setFromMatrixColumn(e,0).length(),r=1/em.setFromMatrixColumn(e,1).length(),o=1/em.setFromMatrixColumn(e,2).length();return t[0]=n[0]*s,t[1]=n[1]*s,t[2]=n[2]*s,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,s=e.y,r=e.z,o=Math.cos(n),c=Math.sin(n),d=Math.cos(s),p=Math.sin(s),m=Math.cos(r),g=Math.sin(r);if(e.order==="XYZ"){const y=o*m,b=o*g,S=c*m,E=c*g;t[0]=d*m,t[4]=-d*g,t[8]=p,t[1]=b+S*p,t[5]=y-E*p,t[9]=-c*d,t[2]=E-y*p,t[6]=S+b*p,t[10]=o*d}else if(e.order==="YXZ"){const y=d*m,b=d*g,S=p*m,E=p*g;t[0]=y+E*c,t[4]=S*c-b,t[8]=o*p,t[1]=o*g,t[5]=o*m,t[9]=-c,t[2]=b*c-S,t[6]=E+y*c,t[10]=o*d}else if(e.order==="ZXY"){const y=d*m,b=d*g,S=p*m,E=p*g;t[0]=y-E*c,t[4]=-o*g,t[8]=S+b*c,t[1]=b+S*c,t[5]=o*m,t[9]=E-y*c,t[2]=-o*p,t[6]=c,t[10]=o*d}else if(e.order==="ZYX"){const y=o*m,b=o*g,S=c*m,E=c*g;t[0]=d*m,t[4]=S*p-b,t[8]=y*p+E,t[1]=d*g,t[5]=E*p+y,t[9]=b*p-S,t[2]=-p,t[6]=c*d,t[10]=o*d}else if(e.order==="YZX"){const y=o*d,b=o*p,S=c*d,E=c*p;t[0]=d*m,t[4]=E-y*g,t[8]=S*g+b,t[1]=g,t[5]=o*m,t[9]=-c*m,t[2]=-p*m,t[6]=b*g+S,t[10]=y-E*g}else if(e.order==="XZY"){const y=o*d,b=o*p,S=c*d,E=c*p;t[0]=d*m,t[4]=-g,t[8]=p*m,t[1]=y*g+E,t[5]=o*m,t[9]=b*g-S,t[2]=S*g-b,t[6]=c*m,t[10]=E*g+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(OF,e,UF)}lookAt(e,t,n){const s=this.elements;return Jr.subVectors(e,t),Jr.lengthSq()===0&&(Jr.z=1),Jr.normalize(),hf.crossVectors(n,Jr),hf.lengthSq()===0&&(Math.abs(n.z)===1?Jr.x+=1e-4:Jr.z+=1e-4,Jr.normalize(),hf.crossVectors(n,Jr)),hf.normalize(),A_.crossVectors(Jr,hf),s[0]=hf.x,s[4]=A_.x,s[8]=Jr.x,s[1]=hf.y,s[5]=A_.y,s[9]=Jr.y,s[2]=hf.z,s[6]=A_.z,s[10]=Jr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,s=t.elements,r=this.elements,o=n[0],c=n[4],d=n[8],p=n[12],m=n[1],g=n[5],y=n[9],b=n[13],S=n[2],E=n[6],A=n[10],M=n[14],D=n[3],R=n[7],L=n[11],z=n[15],U=s[0],I=s[4],F=s[8],P=s[12],B=s[1],H=s[5],Q=s[9],ie=s[13],ue=s[2],fe=s[6],V=s[10],X=s[14],K=s[3],ce=s[7],Y=s[11],W=s[15];return r[0]=o*U+c*B+d*ue+p*K,r[4]=o*I+c*H+d*fe+p*ce,r[8]=o*F+c*Q+d*V+p*Y,r[12]=o*P+c*ie+d*X+p*W,r[1]=m*U+g*B+y*ue+b*K,r[5]=m*I+g*H+y*fe+b*ce,r[9]=m*F+g*Q+y*V+b*Y,r[13]=m*P+g*ie+y*X+b*W,r[2]=S*U+E*B+A*ue+M*K,r[6]=S*I+E*H+A*fe+M*ce,r[10]=S*F+E*Q+A*V+M*Y,r[14]=S*P+E*ie+A*X+M*W,r[3]=D*U+R*B+L*ue+z*K,r[7]=D*I+R*H+L*fe+z*ce,r[11]=D*F+R*Q+L*V+z*Y,r[15]=D*P+R*ie+L*X+z*W,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],s=e[8],r=e[12],o=e[1],c=e[5],d=e[9],p=e[13],m=e[2],g=e[6],y=e[10],b=e[14],S=e[3],E=e[7],A=e[11],M=e[15];return S*(+r*d*g-s*p*g-r*c*y+n*p*y+s*c*b-n*d*b)+E*(+t*d*b-t*p*y+r*o*y-s*o*b+s*p*m-r*d*m)+A*(+t*p*g-t*c*b-r*o*g+n*o*b+r*c*m-n*p*m)+M*(-s*c*m-t*d*g+t*c*y+s*o*g-n*o*y+n*d*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=t,s[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],s=e[2],r=e[3],o=e[4],c=e[5],d=e[6],p=e[7],m=e[8],g=e[9],y=e[10],b=e[11],S=e[12],E=e[13],A=e[14],M=e[15],D=g*A*p-E*y*p+E*d*b-c*A*b-g*d*M+c*y*M,R=S*y*p-m*A*p-S*d*b+o*A*b+m*d*M-o*y*M,L=m*E*p-S*g*p+S*c*b-o*E*b-m*c*M+o*g*M,z=S*g*d-m*E*d-S*c*y+o*E*y+m*c*A-o*g*A,U=t*D+n*R+s*L+r*z;if(U===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/U;return e[0]=D*I,e[1]=(E*y*r-g*A*r-E*s*b+n*A*b+g*s*M-n*y*M)*I,e[2]=(c*A*r-E*d*r+E*s*p-n*A*p-c*s*M+n*d*M)*I,e[3]=(g*d*r-c*y*r-g*s*p+n*y*p+c*s*b-n*d*b)*I,e[4]=R*I,e[5]=(m*A*r-S*y*r+S*s*b-t*A*b-m*s*M+t*y*M)*I,e[6]=(S*d*r-o*A*r-S*s*p+t*A*p+o*s*M-t*d*M)*I,e[7]=(o*y*r-m*d*r+m*s*p-t*y*p-o*s*b+t*d*b)*I,e[8]=L*I,e[9]=(S*g*r-m*E*r-S*n*b+t*E*b+m*n*M-t*g*M)*I,e[10]=(o*E*r-S*c*r+S*n*p-t*E*p-o*n*M+t*c*M)*I,e[11]=(m*c*r-o*g*r-m*n*p+t*g*p+o*n*b-t*c*b)*I,e[12]=z*I,e[13]=(m*E*s-S*g*s+S*n*y-t*E*y-m*n*A+t*g*A)*I,e[14]=(S*c*s-o*E*s-S*n*d+t*E*d+o*n*A-t*c*A)*I,e[15]=(o*g*s-m*c*s+m*n*d-t*g*d-o*n*y+t*c*y)*I,this}scale(e){const t=this.elements,n=e.x,s=e.y,r=e.z;return t[0]*=n,t[4]*=s,t[8]*=r,t[1]*=n,t[5]*=s,t[9]*=r,t[2]*=n,t[6]*=s,t[10]*=r,t[3]*=n,t[7]*=s,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,s))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),s=Math.sin(t),r=1-n,o=e.x,c=e.y,d=e.z,p=r*o,m=r*c;return this.set(p*o+n,p*c-s*d,p*d+s*c,0,p*c+s*d,m*c+n,m*d-s*o,0,p*d-s*c,m*d+s*o,r*d*d+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,s,r,o){return this.set(1,n,r,0,e,1,o,0,t,s,1,0,0,0,0,1),this}compose(e,t,n){const s=this.elements,r=t._x,o=t._y,c=t._z,d=t._w,p=r+r,m=o+o,g=c+c,y=r*p,b=r*m,S=r*g,E=o*m,A=o*g,M=c*g,D=d*p,R=d*m,L=d*g,z=n.x,U=n.y,I=n.z;return s[0]=(1-(E+M))*z,s[1]=(b+L)*z,s[2]=(S-R)*z,s[3]=0,s[4]=(b-L)*U,s[5]=(1-(y+M))*U,s[6]=(A+D)*U,s[7]=0,s[8]=(S+R)*I,s[9]=(A-D)*I,s[10]=(1-(y+E))*I,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,t,n){const s=this.elements;let r=em.set(s[0],s[1],s[2]).length();const o=em.set(s[4],s[5],s[6]).length(),c=em.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),e.x=s[12],e.y=s[13],e.z=s[14],yl.copy(this);const p=1/r,m=1/o,g=1/c;return yl.elements[0]*=p,yl.elements[1]*=p,yl.elements[2]*=p,yl.elements[4]*=m,yl.elements[5]*=m,yl.elements[6]*=m,yl.elements[8]*=g,yl.elements[9]*=g,yl.elements[10]*=g,t.setFromRotationMatrix(yl),n.x=r,n.y=o,n.z=c,this}makePerspective(e,t,n,s,r,o,c=ro,d=!1){const p=this.elements,m=2*r/(t-e),g=2*r/(n-s),y=(t+e)/(t-e),b=(n+s)/(n-s);let S,E;if(d)S=r/(o-r),E=o*r/(o-r);else if(c===ro)S=-(o+r)/(o-r),E=-2*o*r/(o-r);else if(c===Qm)S=-o/(o-r),E=-o*r/(o-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return p[0]=m,p[4]=0,p[8]=y,p[12]=0,p[1]=0,p[5]=g,p[9]=b,p[13]=0,p[2]=0,p[6]=0,p[10]=S,p[14]=E,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(e,t,n,s,r,o,c=ro,d=!1){const p=this.elements,m=2/(t-e),g=2/(n-s),y=-(t+e)/(t-e),b=-(n+s)/(n-s);let S,E;if(d)S=1/(o-r),E=o/(o-r);else if(c===ro)S=-2/(o-r),E=-(o+r)/(o-r);else if(c===Qm)S=-1/(o-r),E=-r/(o-r);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return p[0]=m,p[4]=0,p[8]=0,p[12]=y,p[1]=0,p[5]=g,p[9]=0,p[13]=b,p[2]=0,p[6]=0,p[10]=S,p[14]=E,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let s=0;s<16;s++)if(t[s]!==n[s])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const em=new te,yl=new $t,OF=new te(0,0,0),UF=new te(1,1,1),hf=new te,A_=new te,Jr=new te,PN=new $t,BN=new Or;class uo{constructor(e=0,t=0,n=0,s=uo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,s=this._order){return this._x=e,this._y=t,this._z=n,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const s=e.elements,r=s[0],o=s[4],c=s[8],d=s[1],p=s[5],m=s[9],g=s[2],y=s[6],b=s[10];switch(t){case"XYZ":this._y=Math.asin(Jt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(y,p),this._z=0);break;case"YXZ":this._x=Math.asin(-Jt(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(c,b),this._z=Math.atan2(d,p)):(this._y=Math.atan2(-g,r),this._z=0);break;case"ZXY":this._x=Math.asin(Jt(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(-g,b),this._z=Math.atan2(-o,p)):(this._y=0,this._z=Math.atan2(d,r));break;case"ZYX":this._y=Math.asin(-Jt(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(y,b),this._z=Math.atan2(d,r)):(this._x=0,this._z=Math.atan2(-o,p));break;case"YZX":this._z=Math.asin(Jt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-g,r)):(this._x=0,this._y=Math.atan2(c,b));break;case"XZY":this._z=Math.asin(-Jt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(y,p),this._y=Math.atan2(c,r)):(this._x=Math.atan2(-m,b),this._y=0);break;default:St("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return PN.makeRotationFromQuaternion(e),this.setFromRotationMatrix(PN,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return BN.setFromEuler(this),this.setFromQuaternion(BN,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}uo.DEFAULT_ORDER="XYZ";class e0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let zF=0;const IN=new te,tm=new Or,su=new $t,C_=new te,eg=new te,PF=new te,BF=new Or,jN=new te(1,0,0),FN=new te(0,1,0),VN=new te(0,0,1),kN={type:"added"},IF={type:"removed"},nm={type:"childadded",child:null},yM={type:"childremoved",child:null};class Zn extends wc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:zF++}),this.uuid=lo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Zn.DEFAULT_UP.clone();const e=new te,t=new uo,n=new Or,s=new te(1,1,1);function r(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(r),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new $t},normalMatrix:{value:new fn}}),this.matrix=new $t,this.matrixWorld=new $t,this.matrixAutoUpdate=Zn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Zn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new e0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return tm.setFromAxisAngle(e,t),this.quaternion.multiply(tm),this}rotateOnWorldAxis(e,t){return tm.setFromAxisAngle(e,t),this.quaternion.premultiply(tm),this}rotateX(e){return this.rotateOnAxis(jN,e)}rotateY(e){return this.rotateOnAxis(FN,e)}rotateZ(e){return this.rotateOnAxis(VN,e)}translateOnAxis(e,t){return IN.copy(e).applyQuaternion(this.quaternion),this.position.add(IN.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(jN,e)}translateY(e){return this.translateOnAxis(FN,e)}translateZ(e){return this.translateOnAxis(VN,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(su.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?C_.copy(e):C_.set(e,t,n);const s=this.parent;this.updateWorldMatrix(!0,!1),eg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?su.lookAt(eg,C_,this.up):su.lookAt(C_,eg,this.up),this.quaternion.setFromRotationMatrix(su),s&&(su.extractRotation(s.matrixWorld),tm.setFromRotationMatrix(su),this.quaternion.premultiply(tm.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(an("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(kN),nm.child=e,this.dispatchEvent(nm),nm.child=null):an("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(IF),yM.child=e,this.dispatchEvent(yM),yM.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),su.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),su.multiply(e.parent.matrixWorld)),e.applyMatrix4(su),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(kN),nm.child=e,this.dispatchEvent(nm),nm.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,s=this.children.length;n<s;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const s=this.children;for(let r=0,o=s.length;r<o;r++)s[r].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(eg,e,PF),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(eg,BF,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,s=t.length;n<s;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,s=t.length;n<s;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,s=t.length;n<s;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const s=this.children;for(let r=0,o=s.length;r<o;r++)s[r].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.geometryInfo=this._geometryInfo.map(c=>({...c,boundingBox:c.boundingBox?c.boundingBox.toJSON():void 0,boundingSphere:c.boundingSphere?c.boundingSphere.toJSON():void 0})),s.instanceInfo=this._instanceInfo.map(c=>({...c})),s.availableInstanceIds=this._availableInstanceIds.slice(),s.availableGeometryIds=this._availableGeometryIds.slice(),s.nextIndexStart=this._nextIndexStart,s.nextVertexStart=this._nextVertexStart,s.geometryCount=this._geometryCount,s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.matricesTexture=this._matricesTexture.toJSON(e),s.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(s.boundingBox=this.boundingBox.toJSON()));function r(c,d){return c[d.uuid]===void 0&&(c[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(e.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const d=c.shapes;if(Array.isArray(d))for(let p=0,m=d.length;p<m;p++){const g=d[p];r(e.shapes,g)}else r(e.shapes,d)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let d=0,p=this.material.length;d<p;d++)c.push(r(e.materials,this.material[d]));s.material=c}else s.material=r(e.materials,this.material);if(this.children.length>0){s.children=[];for(let c=0;c<this.children.length;c++)s.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let c=0;c<this.animations.length;c++){const d=this.animations[c];s.animations.push(r(e.animations,d))}}if(t){const c=o(e.geometries),d=o(e.materials),p=o(e.textures),m=o(e.images),g=o(e.shapes),y=o(e.skeletons),b=o(e.animations),S=o(e.nodes);c.length>0&&(n.geometries=c),d.length>0&&(n.materials=d),p.length>0&&(n.textures=p),m.length>0&&(n.images=m),g.length>0&&(n.shapes=g),y.length>0&&(n.skeletons=y),b.length>0&&(n.animations=b),S.length>0&&(n.nodes=S)}return n.object=s,n;function o(c){const d=[];for(const p in c){const m=c[p];delete m.metadata,d.push(m)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const s=e.children[n];this.add(s.clone())}return this}}Zn.DEFAULT_UP=new te(0,1,0);Zn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Zn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _l=new te,au=new te,_M=new te,ru=new te,im=new te,sm=new te,HN=new te,bM=new te,SM=new te,MM=new te,TM=new Yn,wM=new Yn,EM=new Yn;class Ar{constructor(e=new te,t=new te,n=new te){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,s){s.subVectors(n,t),_l.subVectors(e,t),s.cross(_l);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(e,t,n,s,r){_l.subVectors(s,t),au.subVectors(n,t),_M.subVectors(e,t);const o=_l.dot(_l),c=_l.dot(au),d=_l.dot(_M),p=au.dot(au),m=au.dot(_M),g=o*p-c*c;if(g===0)return r.set(0,0,0),null;const y=1/g,b=(p*d-c*m)*y,S=(o*m-c*d)*y;return r.set(1-b-S,S,b)}static containsPoint(e,t,n,s){return this.getBarycoord(e,t,n,s,ru)===null?!1:ru.x>=0&&ru.y>=0&&ru.x+ru.y<=1}static getInterpolation(e,t,n,s,r,o,c,d){return this.getBarycoord(e,t,n,s,ru)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(r,ru.x),d.addScaledVector(o,ru.y),d.addScaledVector(c,ru.z),d)}static getInterpolatedAttribute(e,t,n,s,r,o){return TM.setScalar(0),wM.setScalar(0),EM.setScalar(0),TM.fromBufferAttribute(e,t),wM.fromBufferAttribute(e,n),EM.fromBufferAttribute(e,s),o.setScalar(0),o.addScaledVector(TM,r.x),o.addScaledVector(wM,r.y),o.addScaledVector(EM,r.z),o}static isFrontFacing(e,t,n,s){return _l.subVectors(n,t),au.subVectors(e,t),_l.cross(au).dot(s)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,s){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,t,n,s){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return _l.subVectors(this.c,this.b),au.subVectors(this.a,this.b),_l.cross(au).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ar.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ar.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,s,r){return Ar.getInterpolation(e,this.a,this.b,this.c,t,n,s,r)}containsPoint(e){return Ar.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ar.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,s=this.b,r=this.c;let o,c;im.subVectors(s,n),sm.subVectors(r,n),bM.subVectors(e,n);const d=im.dot(bM),p=sm.dot(bM);if(d<=0&&p<=0)return t.copy(n);SM.subVectors(e,s);const m=im.dot(SM),g=sm.dot(SM);if(m>=0&&g<=m)return t.copy(s);const y=d*g-m*p;if(y<=0&&d>=0&&m<=0)return o=d/(d-m),t.copy(n).addScaledVector(im,o);MM.subVectors(e,r);const b=im.dot(MM),S=sm.dot(MM);if(S>=0&&b<=S)return t.copy(r);const E=b*p-d*S;if(E<=0&&p>=0&&S<=0)return c=p/(p-S),t.copy(n).addScaledVector(sm,c);const A=m*S-b*g;if(A<=0&&g-m>=0&&b-S>=0)return HN.subVectors(r,s),c=(g-m)/(g-m+(b-S)),t.copy(s).addScaledVector(HN,c);const M=1/(A+E+y);return o=E*M,c=y*M,t.copy(n).addScaledVector(im,o).addScaledVector(sm,c)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const aO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},pf={h:0,s:0,l:0},N_={h:0,s:0,l:0};function AM(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*6*t:t<1/2?e:t<2/3?i+(e-i)*6*(2/3-t):i}class Tt{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Ca){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Gn.colorSpaceToWorking(this,t),this}setRGB(e,t,n,s=Gn.workingColorSpace){return this.r=e,this.g=t,this.b=n,Gn.colorSpaceToWorking(this,s),this}setHSL(e,t,n,s=Gn.workingColorSpace){if(e=qw(e,1),t=Jt(t,0,1),n=Jt(n,0,1),t===0)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,o=2*n-r;this.r=AM(o,r,e+1/3),this.g=AM(o,r,e),this.b=AM(o,r,e-1/3)}return Gn.colorSpaceToWorking(this,s),this}setStyle(e,t=Ca){function n(r){r!==void 0&&parseFloat(r)<1&&St("Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const o=s[1],c=s[2];switch(o){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:St("Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=s[1],o=r.length;if(o===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(r,16),t);St("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Ca){const n=aO[e.toLowerCase()];return n!==void 0?this.setHex(n,t):St("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=mu(e.r),this.g=mu(e.g),this.b=mu(e.b),this}copyLinearToSRGB(e){return this.r=Bm(e.r),this.g=Bm(e.g),this.b=Bm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ca){return Gn.workingToColorSpace(Ta.copy(this),e),Math.round(Jt(Ta.r*255,0,255))*65536+Math.round(Jt(Ta.g*255,0,255))*256+Math.round(Jt(Ta.b*255,0,255))}getHexString(e=Ca){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Gn.workingColorSpace){Gn.workingToColorSpace(Ta.copy(this),t);const n=Ta.r,s=Ta.g,r=Ta.b,o=Math.max(n,s,r),c=Math.min(n,s,r);let d,p;const m=(c+o)/2;if(c===o)d=0,p=0;else{const g=o-c;switch(p=m<=.5?g/(o+c):g/(2-o-c),o){case n:d=(s-r)/g+(s<r?6:0);break;case s:d=(r-n)/g+2;break;case r:d=(n-s)/g+4;break}d/=6}return e.h=d,e.s=p,e.l=m,e}getRGB(e,t=Gn.workingColorSpace){return Gn.workingToColorSpace(Ta.copy(this),t),e.r=Ta.r,e.g=Ta.g,e.b=Ta.b,e}getStyle(e=Ca){Gn.workingToColorSpace(Ta.copy(this),e);const t=Ta.r,n=Ta.g,s=Ta.b;return e!==Ca?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(s*255)})`}offsetHSL(e,t,n){return this.getHSL(pf),this.setHSL(pf.h+e,pf.s+t,pf.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(pf),e.getHSL(N_);const n=Pg(pf.h,N_.h,t),s=Pg(pf.s,N_.s,t),r=Pg(pf.l,N_.l,t);return this.setHSL(n,s,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,s=this.b,r=e.elements;return this.r=r[0]*t+r[3]*n+r[6]*s,this.g=r[1]*t+r[4]*n+r[7]*s,this.b=r[2]*t+r[5]*n+r[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ta=new Tt;Tt.NAMES=aO;let jF=0;class Pa extends wc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:jF++}),this.uuid=lo(),this.name="",this.type="Material",this.blending=yh,this.side=yu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=i1,this.blendDst=s1,this.blendEquation=_f,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Tt(0,0,0),this.blendAlpha=0,this.depthFunc=Dh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=cT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ih,this.stencilZFail=ih,this.stencilZPass=ih,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){St(`Material: parameter '${t}' has value of undefined.`);continue}const s=this[t];if(s===void 0){St(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(n):s&&s.isVector3&&n&&n.isVector3?s.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==yh&&(n.blending=this.blending),this.side!==yu&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==i1&&(n.blendSrc=this.blendSrc),this.blendDst!==s1&&(n.blendDst=this.blendDst),this.blendEquation!==_f&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Dh&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==cT&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ih&&(n.stencilFail=this.stencilFail),this.stencilZFail!==ih&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==ih&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function s(r){const o=[];for(const c in r){const d=r[c];delete d.metadata,o.push(d)}return o}if(t){const r=s(e.textures),o=s(e.images);r.length>0&&(n.textures=r),o.length>0&&(n.images=o)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const s=t.length;n=new Array(s);for(let r=0;r!==s;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Hf extends Pa{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new uo,this.combine=Fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const du=FF();function FF(){const i=new ArrayBuffer(4),e=new Float32Array(i),t=new Uint32Array(i),n=new Uint32Array(512),s=new Uint32Array(512);for(let d=0;d<256;++d){const p=d-127;p<-27?(n[d]=0,n[d|256]=32768,s[d]=24,s[d|256]=24):p<-14?(n[d]=1024>>-p-14,n[d|256]=1024>>-p-14|32768,s[d]=-p-1,s[d|256]=-p-1):p<=15?(n[d]=p+15<<10,n[d|256]=p+15<<10|32768,s[d]=13,s[d|256]=13):p<128?(n[d]=31744,n[d|256]=64512,s[d]=24,s[d|256]=24):(n[d]=31744,n[d|256]=64512,s[d]=13,s[d|256]=13)}const r=new Uint32Array(2048),o=new Uint32Array(64),c=new Uint32Array(64);for(let d=1;d<1024;++d){let p=d<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,r[d]=p|m}for(let d=1024;d<2048;++d)r[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)o[d]=d<<23;o[31]=1199570944,o[32]=2147483648;for(let d=33;d<63;++d)o[d]=2147483648+(d-32<<23);o[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(c[d]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:s,mantissaTable:r,exponentTable:o,offsetTable:c}}function Mr(i){Math.abs(i)>65504&&St("DataUtils.toHalfFloat(): Value out of range."),i=Jt(i,-65504,65504),du.floatView[0]=i;const e=du.uint32View[0],t=e>>23&511;return du.baseTable[t]+((e&8388607)>>du.shiftTable[t])}function xg(i){const e=i>>10;return du.uint32View[0]=du.mantissaTable[du.offsetTable[e]+(i&1023)]+du.exponentTable[e],du.floatView[0]}class VF{static toHalfFloat(e){return Mr(e)}static fromHalfFloat(e){return xg(e)}}const vs=new te,R_=new Ke;let kF=0;class vi{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:kF++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=fv,this.updateRanges=[],this.gpuType=Rr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[e+s]=t.array[n+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)R_.fromBufferAttribute(this,t),R_.applyMatrix3(e),this.setXY(t,R_.x,R_.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)vs.fromBufferAttribute(this,t),vs.applyMatrix3(e),this.setXYZ(t,vs.x,vs.y,vs.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)vs.fromBufferAttribute(this,t),vs.applyMatrix4(e),this.setXYZ(t,vs.x,vs.y,vs.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)vs.fromBufferAttribute(this,t),vs.applyNormalMatrix(e),this.setXYZ(t,vs.x,vs.y,vs.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)vs.fromBufferAttribute(this,t),vs.transformDirection(e),this.setXYZ(t,vs.x,vs.y,vs.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=or(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=hn(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=or(t,this.array)),t}setX(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=or(t,this.array)),t}setY(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=or(t,this.array)),t}setZ(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=or(t,this.array)),t}setW(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),n=hn(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,s){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),n=hn(n,this.array),s=hn(s,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=s,this}setXYZW(e,t,n,s,r){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),n=hn(n,this.array),s=hn(s,this.array),r=hn(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=s,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==fv&&(e.usage=this.usage),e}}class HF extends vi{constructor(e,t,n){super(new Int8Array(e),t,n)}}class GF extends vi{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class XF extends vi{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class qF extends vi{constructor(e,t,n){super(new Int16Array(e),t,n)}}class Yw extends vi{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class WF extends vi{constructor(e,t,n){super(new Int32Array(e),t,n)}}class Zw extends vi{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class YF extends vi{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=xg(this.array[e*this.itemSize]);return this.normalized&&(t=or(t,this.array)),t}setX(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize]=Mr(t),this}getY(e){let t=xg(this.array[e*this.itemSize+1]);return this.normalized&&(t=or(t,this.array)),t}setY(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+1]=Mr(t),this}getZ(e){let t=xg(this.array[e*this.itemSize+2]);return this.normalized&&(t=or(t,this.array)),t}setZ(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+2]=Mr(t),this}getW(e){let t=xg(this.array[e*this.itemSize+3]);return this.normalized&&(t=or(t,this.array)),t}setW(e,t){return this.normalized&&(t=hn(t,this.array)),this.array[e*this.itemSize+3]=Mr(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),n=hn(n,this.array)),this.array[e+0]=Mr(t),this.array[e+1]=Mr(n),this}setXYZ(e,t,n,s){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),n=hn(n,this.array),s=hn(s,this.array)),this.array[e+0]=Mr(t),this.array[e+1]=Mr(n),this.array[e+2]=Mr(s),this}setXYZW(e,t,n,s,r){return e*=this.itemSize,this.normalized&&(t=hn(t,this.array),n=hn(n,this.array),s=hn(s,this.array),r=hn(r,this.array)),this.array[e+0]=Mr(t),this.array[e+1]=Mr(n),this.array[e+2]=Mr(s),this.array[e+3]=Mr(r),this}}class Ot extends vi{constructor(e,t,n){super(new Float32Array(e),t,n)}}let ZF=0;const zo=new $t,CM=new Zn,am=new te,$r=new Ua,tg=new Ua,Ws=new te;class dn extends wc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ZF++}),this.uuid=lo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(nO(e)?Zw:Yw)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const r=new fn().getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return zo.makeRotationFromQuaternion(e),this.applyMatrix4(zo),this}rotateX(e){return zo.makeRotationX(e),this.applyMatrix4(zo),this}rotateY(e){return zo.makeRotationY(e),this.applyMatrix4(zo),this}rotateZ(e){return zo.makeRotationZ(e),this.applyMatrix4(zo),this}translate(e,t,n){return zo.makeTranslation(e,t,n),this.applyMatrix4(zo),this}scale(e,t,n){return zo.makeScale(e,t,n),this.applyMatrix4(zo),this}lookAt(e){return CM.lookAt(e),CM.updateMatrix(),this.applyMatrix4(CM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(am).negate(),this.translate(am.x,am.y,am.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let s=0,r=e.length;s<r;s++){const o=e[s];n.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Ot(n,3))}else{const n=Math.min(e.length,t.count);for(let s=0;s<n;s++){const r=e[s];t.setXYZ(s,r.x,r.y,r.z||0)}e.length>t.count&&St("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ua);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){an("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new te(-1/0,-1/0,-1/0),new te(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,s=t.length;n<s;n++){const r=t[n];$r.setFromBufferAttribute(r),this.morphTargetsRelative?(Ws.addVectors(this.boundingBox.min,$r.min),this.boundingBox.expandByPoint(Ws),Ws.addVectors(this.boundingBox.max,$r.max),this.boundingBox.expandByPoint(Ws)):(this.boundingBox.expandByPoint($r.min),this.boundingBox.expandByPoint($r.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&an('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ca);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){an("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new te,1/0);return}if(e){const n=this.boundingSphere.center;if($r.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++){const c=t[r];tg.setFromBufferAttribute(c),this.morphTargetsRelative?(Ws.addVectors($r.min,tg.min),$r.expandByPoint(Ws),Ws.addVectors($r.max,tg.max),$r.expandByPoint(Ws)):($r.expandByPoint(tg.min),$r.expandByPoint(tg.max))}$r.getCenter(n);let s=0;for(let r=0,o=e.count;r<o;r++)Ws.fromBufferAttribute(e,r),s=Math.max(s,n.distanceToSquared(Ws));if(t)for(let r=0,o=t.length;r<o;r++){const c=t[r],d=this.morphTargetsRelative;for(let p=0,m=c.count;p<m;p++)Ws.fromBufferAttribute(c,p),d&&(am.fromBufferAttribute(e,p),Ws.add(am)),s=Math.max(s,n.distanceToSquared(Ws))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&an('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){an("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,s=t.normal,r=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new vi(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),c=[],d=[];for(let F=0;F<n.count;F++)c[F]=new te,d[F]=new te;const p=new te,m=new te,g=new te,y=new Ke,b=new Ke,S=new Ke,E=new te,A=new te;function M(F,P,B){p.fromBufferAttribute(n,F),m.fromBufferAttribute(n,P),g.fromBufferAttribute(n,B),y.fromBufferAttribute(r,F),b.fromBufferAttribute(r,P),S.fromBufferAttribute(r,B),m.sub(p),g.sub(p),b.sub(y),S.sub(y);const H=1/(b.x*S.y-S.x*b.y);isFinite(H)&&(E.copy(m).multiplyScalar(S.y).addScaledVector(g,-b.y).multiplyScalar(H),A.copy(g).multiplyScalar(b.x).addScaledVector(m,-S.x).multiplyScalar(H),c[F].add(E),c[P].add(E),c[B].add(E),d[F].add(A),d[P].add(A),d[B].add(A))}let D=this.groups;D.length===0&&(D=[{start:0,count:e.count}]);for(let F=0,P=D.length;F<P;++F){const B=D[F],H=B.start,Q=B.count;for(let ie=H,ue=H+Q;ie<ue;ie+=3)M(e.getX(ie+0),e.getX(ie+1),e.getX(ie+2))}const R=new te,L=new te,z=new te,U=new te;function I(F){z.fromBufferAttribute(s,F),U.copy(z);const P=c[F];R.copy(P),R.sub(z.multiplyScalar(z.dot(P))).normalize(),L.crossVectors(U,P);const H=L.dot(d[F])<0?-1:1;o.setXYZW(F,R.x,R.y,R.z,H)}for(let F=0,P=D.length;F<P;++F){const B=D[F],H=B.start,Q=B.count;for(let ie=H,ue=H+Q;ie<ue;ie+=3)I(e.getX(ie+0)),I(e.getX(ie+1)),I(e.getX(ie+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new vi(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let y=0,b=n.count;y<b;y++)n.setXYZ(y,0,0,0);const s=new te,r=new te,o=new te,c=new te,d=new te,p=new te,m=new te,g=new te;if(e)for(let y=0,b=e.count;y<b;y+=3){const S=e.getX(y+0),E=e.getX(y+1),A=e.getX(y+2);s.fromBufferAttribute(t,S),r.fromBufferAttribute(t,E),o.fromBufferAttribute(t,A),m.subVectors(o,r),g.subVectors(s,r),m.cross(g),c.fromBufferAttribute(n,S),d.fromBufferAttribute(n,E),p.fromBufferAttribute(n,A),c.add(m),d.add(m),p.add(m),n.setXYZ(S,c.x,c.y,c.z),n.setXYZ(E,d.x,d.y,d.z),n.setXYZ(A,p.x,p.y,p.z)}else for(let y=0,b=t.count;y<b;y+=3)s.fromBufferAttribute(t,y+0),r.fromBufferAttribute(t,y+1),o.fromBufferAttribute(t,y+2),m.subVectors(o,r),g.subVectors(s,r),m.cross(g),n.setXYZ(y+0,m.x,m.y,m.z),n.setXYZ(y+1,m.x,m.y,m.z),n.setXYZ(y+2,m.x,m.y,m.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Ws.fromBufferAttribute(e,t),Ws.normalize(),e.setXYZ(t,Ws.x,Ws.y,Ws.z)}toNonIndexed(){function e(c,d){const p=c.array,m=c.itemSize,g=c.normalized,y=new p.constructor(d.length*m);let b=0,S=0;for(let E=0,A=d.length;E<A;E++){c.isInterleavedBufferAttribute?b=d[E]*c.data.stride+c.offset:b=d[E]*m;for(let M=0;M<m;M++)y[S++]=p[b++]}return new vi(y,m,g)}if(this.index===null)return St("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new dn,n=this.index.array,s=this.attributes;for(const c in s){const d=s[c],p=e(d,n);t.setAttribute(c,p)}const r=this.morphAttributes;for(const c in r){const d=[],p=r[c];for(let m=0,g=p.length;m<g;m++){const y=p[m],b=e(y,n);d.push(b)}t.morphAttributes[c]=d}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let c=0,d=o.length;c<d;c++){const p=o[c];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const p in d)d[p]!==void 0&&(e[p]=d[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const d in n){const p=n[d];e.data.attributes[d]=p.toJSON(e.data)}const s={};let r=!1;for(const d in this.morphAttributes){const p=this.morphAttributes[d],m=[];for(let g=0,y=p.length;g<y;g++){const b=p[g];m.push(b.toJSON(e.data))}m.length>0&&(s[d]=m,r=!0)}r&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const c=this.boundingSphere;return c!==null&&(e.data.boundingSphere=c.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const s=e.attributes;for(const p in s){const m=s[p];this.setAttribute(p,m.clone(t))}const r=e.morphAttributes;for(const p in r){const m=[],g=r[p];for(let y=0,b=g.length;y<b;y++)m.push(g[y].clone(t));this.morphAttributes[p]=m}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let p=0,m=o.length;p<m;p++){const g=o[p];this.addGroup(g.start,g.count,g.materialIndex)}const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const GN=new $t,Vd=new y0,D_=new ca,XN=new te,L_=new te,O_=new te,U_=new te,NM=new te,z_=new te,qN=new te,P_=new te;class zs extends Zn{constructor(e=new dn,t=new Hf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const s=t[n[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const c=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}getVertexPosition(e,t){const n=this.geometry,s=n.attributes.position,r=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(s,e);const c=this.morphTargetInfluences;if(r&&c){z_.set(0,0,0);for(let d=0,p=r.length;d<p;d++){const m=c[d],g=r[d];m!==0&&(NM.fromBufferAttribute(g,e),o?z_.addScaledVector(NM,m):z_.addScaledVector(NM.sub(t),m))}t.add(z_)}return t}raycast(e,t){const n=this.geometry,s=this.material,r=this.matrixWorld;s!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),D_.copy(n.boundingSphere),D_.applyMatrix4(r),Vd.copy(e.ray).recast(e.near),!(D_.containsPoint(Vd.origin)===!1&&(Vd.intersectSphere(D_,XN)===null||Vd.origin.distanceToSquared(XN)>(e.far-e.near)**2))&&(GN.copy(r).invert(),Vd.copy(e.ray).applyMatrix4(GN),!(n.boundingBox!==null&&Vd.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,Vd)))}_computeIntersections(e,t,n){let s;const r=this.geometry,o=this.material,c=r.index,d=r.attributes.position,p=r.attributes.uv,m=r.attributes.uv1,g=r.attributes.normal,y=r.groups,b=r.drawRange;if(c!==null)if(Array.isArray(o))for(let S=0,E=y.length;S<E;S++){const A=y[S],M=o[A.materialIndex],D=Math.max(A.start,b.start),R=Math.min(c.count,Math.min(A.start+A.count,b.start+b.count));for(let L=D,z=R;L<z;L+=3){const U=c.getX(L),I=c.getX(L+1),F=c.getX(L+2);s=B_(this,M,e,n,p,m,g,U,I,F),s&&(s.faceIndex=Math.floor(L/3),s.face.materialIndex=A.materialIndex,t.push(s))}}else{const S=Math.max(0,b.start),E=Math.min(c.count,b.start+b.count);for(let A=S,M=E;A<M;A+=3){const D=c.getX(A),R=c.getX(A+1),L=c.getX(A+2);s=B_(this,o,e,n,p,m,g,D,R,L),s&&(s.faceIndex=Math.floor(A/3),t.push(s))}}else if(d!==void 0)if(Array.isArray(o))for(let S=0,E=y.length;S<E;S++){const A=y[S],M=o[A.materialIndex],D=Math.max(A.start,b.start),R=Math.min(d.count,Math.min(A.start+A.count,b.start+b.count));for(let L=D,z=R;L<z;L+=3){const U=L,I=L+1,F=L+2;s=B_(this,M,e,n,p,m,g,U,I,F),s&&(s.faceIndex=Math.floor(L/3),s.face.materialIndex=A.materialIndex,t.push(s))}}else{const S=Math.max(0,b.start),E=Math.min(d.count,b.start+b.count);for(let A=S,M=E;A<M;A+=3){const D=A,R=A+1,L=A+2;s=B_(this,o,e,n,p,m,g,D,R,L),s&&(s.faceIndex=Math.floor(A/3),t.push(s))}}}}function KF(i,e,t,n,s,r,o,c){let d;if(e.side===fr?d=n.intersectTriangle(o,r,s,!0,c):d=n.intersectTriangle(s,r,o,e.side===yu,c),d===null)return null;P_.copy(c),P_.applyMatrix4(i.matrixWorld);const p=t.ray.origin.distanceTo(P_);return p<t.near||p>t.far?null:{distance:p,point:P_.clone(),object:i}}function B_(i,e,t,n,s,r,o,c,d,p){i.getVertexPosition(c,L_),i.getVertexPosition(d,O_),i.getVertexPosition(p,U_);const m=KF(i,e,t,n,L_,O_,U_,qN);if(m){const g=new te;Ar.getBarycoord(qN,L_,O_,U_,g),s&&(m.uv=Ar.getInterpolatedAttribute(s,c,d,p,g,new Ke)),r&&(m.uv1=Ar.getInterpolatedAttribute(r,c,d,p,g,new Ke)),o&&(m.normal=Ar.getInterpolatedAttribute(o,c,d,p,g,new te),m.normal.dot(n.direction)>0&&m.normal.multiplyScalar(-1));const y={a:c,b:d,c:p,normal:new te,materialIndex:0};Ar.getNormal(L_,O_,U_,y.normal),m.face=y,m.barycoord=g}return m}class Vh extends dn{constructor(e=1,t=1,n=1,s=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:s,heightSegments:r,depthSegments:o};const c=this;s=Math.floor(s),r=Math.floor(r),o=Math.floor(o);const d=[],p=[],m=[],g=[];let y=0,b=0;S("z","y","x",-1,-1,n,t,e,o,r,0),S("z","y","x",1,-1,n,t,-e,o,r,1),S("x","z","y",1,1,e,n,t,s,o,2),S("x","z","y",1,-1,e,n,-t,s,o,3),S("x","y","z",1,-1,e,t,n,s,r,4),S("x","y","z",-1,-1,e,t,-n,s,r,5),this.setIndex(d),this.setAttribute("position",new Ot(p,3)),this.setAttribute("normal",new Ot(m,3)),this.setAttribute("uv",new Ot(g,2));function S(E,A,M,D,R,L,z,U,I,F,P){const B=L/I,H=z/F,Q=L/2,ie=z/2,ue=U/2,fe=I+1,V=F+1;let X=0,K=0;const ce=new te;for(let Y=0;Y<V;Y++){const W=Y*H-ie;for(let ae=0;ae<fe;ae++){const he=ae*B-Q;ce[E]=he*D,ce[A]=W*R,ce[M]=ue,p.push(ce.x,ce.y,ce.z),ce[E]=0,ce[A]=0,ce[M]=U>0?1:-1,m.push(ce.x,ce.y,ce.z),g.push(ae/I),g.push(1-Y/F),X+=1}}for(let Y=0;Y<F;Y++)for(let W=0;W<I;W++){const ae=y+W+fe*Y,he=y+W+fe*(Y+1),ye=y+(W+1)+fe*(Y+1),Pe=y+(W+1)+fe*Y;d.push(ae,he,Pe),d.push(he,ye,Pe),K+=6}c.addGroup(b,K,P),b+=K,y+=X}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function t0(i){const e={};for(const t in i){e[t]={};for(const n in i[t]){const s=i[t][n];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(St("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=s.clone():Array.isArray(s)?e[t][n]=s.slice():e[t][n]=s}}return e}function ir(i){const e={};for(let t=0;t<i.length;t++){const n=t0(i[t]);for(const s in n)e[s]=n[s]}return e}function QF(i){const e=[];for(let t=0;t<i.length;t++)e.push(i[t].clone());return e}function rO(i){const e=i.getRenderTarget();return e===null?i.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Gn.workingColorSpace}const oO={clone:t0,merge:ir};var JF=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,$F=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class fo extends Pa{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=JF,this.fragmentShader=$F,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=t0(e.uniforms),this.uniformsGroups=QF(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;o&&o.isTexture?t.uniforms[s]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[s]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[s]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[s]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[s]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[s]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[s]={type:"m4",value:o.toArray()}:t.uniforms[s]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const s in this.extensions)this.extensions[s]===!0&&(n[s]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class CS extends Zn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new $t,this.projectionMatrix=new $t,this.projectionMatrixInverse=new $t,this.coordinateSystem=ro,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const mf=new te,WN=new Ke,YN=new Ke;class Ks extends CS{constructor(e=50,t=1,n=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=s,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=$m*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(bh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return $m*2*Math.atan(Math.tan(bh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){mf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(mf.x,mf.y).multiplyScalar(-e/mf.z),mf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(mf.x,mf.y).multiplyScalar(-e/mf.z)}getViewSize(e,t){return this.getViewBounds(e,WN,YN),t.subVectors(YN,WN)}setViewOffset(e,t,n,s,r,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(bh*.5*this.fov)/this.zoom,n=2*t,s=this.aspect*n,r=-.5*s;const o=this.view;if(this.view!==null&&this.view.enabled){const d=o.fullWidth,p=o.fullHeight;r+=o.offsetX*s/d,t-=o.offsetY*n/p,s*=o.width/d,n*=o.height/p}const c=this.filmOffset;c!==0&&(r+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const rm=-90,om=1;class lO extends Zn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new Ks(rm,om,e,t);s.layers=this.layers,this.add(s);const r=new Ks(rm,om,e,t);r.layers=this.layers,this.add(r);const o=new Ks(rm,om,e,t);o.layers=this.layers,this.add(o);const c=new Ks(rm,om,e,t);c.layers=this.layers,this.add(c);const d=new Ks(rm,om,e,t);d.layers=this.layers,this.add(d);const p=new Ks(rm,om,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,s,r,o,c,d]=t;for(const p of t)this.remove(p);if(e===ro)n.up.set(0,1,0),n.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===Qm)n.up.set(0,-1,0),n.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,o,c,d,p,m]=this.children,g=e.getRenderTarget(),y=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),S=e.xr.enabled;e.xr.enabled=!1;const E=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,s),e.render(t,r),e.setRenderTarget(n,1,s),e.render(t,o),e.setRenderTarget(n,2,s),e.render(t,c),e.setRenderTarget(n,3,s),e.render(t,d),e.setRenderTarget(n,4,s),e.render(t,p),n.texture.generateMipmaps=E,e.setRenderTarget(n,5,s),e.render(t,m),e.setRenderTarget(g,y,b),e.xr.enabled=S,n.texture.needsPMREMUpdate=!0}}class kv extends ts{constructor(e=[],t=_u,n,s,r,o,c,d,p,m){super(e,t,n,s,r,o,c,d,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class cO extends Mc{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},s=[n,n,n,n,n,n];this.texture=new kv(s),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new Vh(5,5,5),r=new fo({name:"CubemapFromEquirect",uniforms:t0(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:fr,blending:_c});r.uniforms.tEquirect.value=t;const o=new zs(s,r),c=t.minFilter;return t.minFilter===pc&&(t.minFilter=fs),new lO(1,10,this).update(e,o),t.minFilter=c,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,n=!0,s=!0){const r=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,s);e.setRenderTarget(r)}}class Lm extends Zn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const eV={type:"move"};class Bb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Lm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Lm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new te,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new te),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Lm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new te,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new te),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let s=null,r=null,o=null;const c=this._targetRay,d=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){o=!0;for(const E of e.hand.values()){const A=t.getJointPose(E,n),M=this._getHandJoint(p,E);A!==null&&(M.matrix.fromArray(A.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=A.radius),M.visible=A!==null}const m=p.joints["index-finger-tip"],g=p.joints["thumb-tip"],y=m.position.distanceTo(g.position),b=.02,S=.005;p.inputState.pinching&&y>b+S?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&y<=b-S&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),r!==null&&(d.matrix.fromArray(r.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,r.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(r.linearVelocity)):d.hasLinearVelocity=!1,r.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(r.angularVelocity)):d.hasAngularVelocity=!1));c!==null&&(s=t.getPose(e.targetRaySpace,n),s===null&&r!==null&&(s=r),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(eV)))}return c!==null&&(c.visible=s!==null),d!==null&&(d.visible=r!==null),p!==null&&(p.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Lm;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class NS{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Tt(e),this.density=t}clone(){return new NS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class RS{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Tt(e),this.near=t,this.far=n}clone(){return new RS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let Kw=class extends Zn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new uo,this.environmentIntensity=1,this.environmentRotation=new uo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}};class DS{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=fv,this.updateRanges=[],this.version=0,this.uuid=lo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let s=0,r=this.stride;s<r;s++)this.array[e+s]=t.array[n+s];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=lo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=lo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const er=new te;class Lh{constructor(e,t,n,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)er.fromBufferAttribute(this,t),er.applyMatrix4(e),this.setXYZ(t,er.x,er.y,er.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)er.fromBufferAttribute(this,t),er.applyNormalMatrix(e),this.setXYZ(t,er.x,er.y,er.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)er.fromBufferAttribute(this,t),er.transformDirection(e),this.setXYZ(t,er.x,er.y,er.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=or(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=hn(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=hn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=hn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=hn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=hn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=or(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=or(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=or(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=or(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=hn(t,this.array),n=hn(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=hn(t,this.array),n=hn(n,this.array),s=hn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=s,this}setXYZW(e,t,n,s,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=hn(t,this.array),n=hn(n,this.array),s=hn(s,this.array),r=hn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=s,this.data.array[e+3]=r,this}clone(e){if(e===void 0){hv("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const s=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[s+r])}return new vi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Lh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){hv("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const s=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Qw extends Pa{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Tt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let lm;const ng=new te,cm=new te,um=new te,fm=new Ke,ig=new Ke,uO=new $t,I_=new te,sg=new te,j_=new te,ZN=new Ke,RM=new Ke,KN=new Ke;class fO extends Zn{constructor(e=new Qw){if(super(),this.isSprite=!0,this.type="Sprite",lm===void 0){lm=new dn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new DS(t,5);lm.setIndex([0,1,2,0,2,3]),lm.setAttribute("position",new Lh(n,3,0,!1)),lm.setAttribute("uv",new Lh(n,2,3,!1))}this.geometry=lm,this.material=e,this.center=new Ke(.5,.5),this.count=1}raycast(e,t){e.camera===null&&an('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),cm.setFromMatrixScale(this.matrixWorld),uO.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),um.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&cm.multiplyScalar(-um.z);const n=this.material.rotation;let s,r;n!==0&&(r=Math.cos(n),s=Math.sin(n));const o=this.center;F_(I_.set(-.5,-.5,0),um,o,cm,s,r),F_(sg.set(.5,-.5,0),um,o,cm,s,r),F_(j_.set(.5,.5,0),um,o,cm,s,r),ZN.set(0,0),RM.set(1,0),KN.set(1,1);let c=e.ray.intersectTriangle(I_,sg,j_,!1,ng);if(c===null&&(F_(sg.set(-.5,.5,0),um,o,cm,s,r),RM.set(0,1),c=e.ray.intersectTriangle(I_,j_,sg,!1,ng),c===null))return;const d=e.ray.origin.distanceTo(ng);d<e.near||d>e.far||t.push({distance:d,point:ng.clone(),uv:Ar.getInterpolation(ng,I_,sg,j_,ZN,RM,KN,new Ke),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function F_(i,e,t,n,s,r){fm.subVectors(i,t).addScalar(.5).multiply(n),s!==void 0?(ig.x=r*fm.x-s*fm.y,ig.y=s*fm.x+r*fm.y):ig.copy(fm),i.copy(e),i.x+=ig.x,i.y+=ig.y,i.applyMatrix4(uO)}const V_=new te,QN=new te;class dO extends Zn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,s=t.length;n<s;n++){const r=t[n];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const s=this.levels;let r;for(r=0;r<s.length&&!(t<s[r].distance);r++);return s.splice(r,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const s=t.splice(n,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,s;for(n=1,s=t.length;n<s;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){V_.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(V_);this.getObjectForDistance(s).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){V_.setFromMatrixPosition(e.matrixWorld),QN.setFromMatrixPosition(this.matrixWorld);const n=V_.distanceTo(QN)/e.zoom;t[0].object.visible=!0;let s,r;for(s=1,r=t.length;s<r;s++){let o=t[s].distance;if(t[s].object.visible&&(o-=o*t[s].hysteresis),n>=o)t[s-1].object.visible=!1,t[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<r;s++)t[s].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let s=0,r=n.length;s<r;s++){const o=n[s];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const JN=new te,$N=new Yn,eR=new Yn,tV=new te,tR=new $t,k_=new te,DM=new ca,nR=new $t,LM=new y0;class hO extends zs{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=lT,this.bindMatrix=new $t,this.bindMatrixInverse=new $t,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ua),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,k_),this.boundingBox.expandByPoint(k_)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ca),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,k_),this.boundingSphere.expandByPoint(k_)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,s=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),DM.copy(this.boundingSphere),DM.applyMatrix4(s),e.ray.intersectsSphere(DM)!==!1&&(nR.copy(s).invert(),LM.copy(e.ray).applyMatrix4(nR),!(this.boundingBox!==null&&LM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,LM)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Yn,t=this.geometry.attributes.skinWeight;for(let n=0,s=t.count;n<s;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===lT?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===kL?this.bindMatrixInverse.copy(this.bindMatrix).invert():St("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,s=this.geometry;$N.fromBufferAttribute(s.attributes.skinIndex,e),eR.fromBufferAttribute(s.attributes.skinWeight,e),JN.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const o=eR.getComponent(r);if(o!==0){const c=$N.getComponent(r);tR.multiplyMatrices(n.bones[c].matrixWorld,n.boneInverses[c]),t.addScaledVector(tV.copy(JN).applyMatrix4(tR),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Jw extends Zn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class El extends ts{constructor(e=null,t=1,n=1,s,r,o,c,d,p=la,m=la,g,y){super(null,o,c,d,p,m,s,r,g,y),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const iR=new $t,nV=new $t;class LS{constructor(e=[],t=[]){this.uuid=lo(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){St("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,s=this.bones.length;n<s;n++)this.boneInverses.push(new $t)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new $t;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,s=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const c=e[r]?e[r].matrixWorld:nV;iR.multiplyMatrices(c,t[r]),iR.toArray(n,r*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new LS(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new El(t,e,e,Oa,Rr);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const s=this.bones[t];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,s=e.bones.length;n<s;n++){const r=e.bones[n];let o=t[r];o===void 0&&(St("Skeleton: No bone found with UUID:",r),o=new Jw),this.bones.push(o),this.boneInverses.push(new $t().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let s=0,r=t.length;s<r;s++){const o=t[s];e.bones.push(o.uuid);const c=n[s];e.boneInverses.push(c.toArray())}return e}}class n0 extends vi{constructor(e,t,n,s=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const dm=new $t,sR=new $t,H_=[],aR=new Ua,iV=new $t,ag=new zs,rg=new ca;class pO extends zs{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new n0(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<n;s++)this.setMatrixAt(s,iV)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ua),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,dm),aR.copy(e.boundingBox).applyMatrix4(dm),this.boundingBox.union(aR)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new ca),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,dm),rg.copy(e.boundingSphere).applyMatrix4(dm),this.boundingSphere.union(rg)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,s=this.morphTexture.source.data.data,r=n.length+1,o=e*r+1;for(let c=0;c<n.length;c++)n[c]=s[o+c]}raycast(e,t){const n=this.matrixWorld,s=this.count;if(ag.geometry=this.geometry,ag.material=this.material,ag.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),rg.copy(this.boundingSphere),rg.applyMatrix4(n),e.ray.intersectsSphere(rg)!==!1))for(let r=0;r<s;r++){this.getMatrixAt(r,dm),sR.multiplyMatrices(n,dm),ag.matrixWorld=sR,ag.raycast(e,H_);for(let o=0,c=H_.length;o<c;o++){const d=H_[o];d.instanceId=r,d.object=this,t.push(d)}H_.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new n0(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,s=n.length+1;this.morphTexture===null&&(this.morphTexture=new El(new Float32Array(s*this.count),s,this.count,bS,Rr));const r=this.morphTexture.source.data.data;let o=0;for(let p=0;p<n.length;p++)o+=n[p];const c=this.geometry.morphTargetsRelative?1:1-o,d=s*e;r[d]=c,r.set(n,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const OM=new te,sV=new te,aV=new fn;class yf{constructor(e=new te(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,s){return this.normal.set(e,t,n),this.constant=s,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const s=OM.subVectors(n,t).cross(sV.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(OM),s=this.normal.dot(n);if(s===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:t.copy(e.start).addScaledVector(n,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||aV.getNormalMatrix(e),s=this.coplanarPoint(OM).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-s.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const kd=new ca,rV=new Ke(.5,.5),G_=new te;class _0{constructor(e=new yf,t=new yf,n=new yf,s=new yf,r=new yf,o=new yf){this.planes=[e,t,n,s,r,o]}set(e,t,n,s,r,o){const c=this.planes;return c[0].copy(e),c[1].copy(t),c[2].copy(n),c[3].copy(s),c[4].copy(r),c[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=ro,n=!1){const s=this.planes,r=e.elements,o=r[0],c=r[1],d=r[2],p=r[3],m=r[4],g=r[5],y=r[6],b=r[7],S=r[8],E=r[9],A=r[10],M=r[11],D=r[12],R=r[13],L=r[14],z=r[15];if(s[0].setComponents(p-o,b-m,M-S,z-D).normalize(),s[1].setComponents(p+o,b+m,M+S,z+D).normalize(),s[2].setComponents(p+c,b+g,M+E,z+R).normalize(),s[3].setComponents(p-c,b-g,M-E,z-R).normalize(),n)s[4].setComponents(d,y,A,L).normalize(),s[5].setComponents(p-d,b-y,M-A,z-L).normalize();else if(s[4].setComponents(p-d,b-y,M-A,z-L).normalize(),t===ro)s[5].setComponents(p+d,b+y,M+A,z+L).normalize();else if(t===Qm)s[5].setComponents(d,y,A,L).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),kd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),kd.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(kd)}intersectsSprite(e){kd.center.set(0,0,0);const t=rV.distanceTo(e.center);return kd.radius=.7071067811865476+t,kd.applyMatrix4(e.matrixWorld),this.intersectsSphere(kd)}intersectsSphere(e){const t=this.planes,n=e.center,s=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(n)<s)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const s=t[n];if(G_.x=s.normal.x>0?e.max.x:e.min.x,G_.y=s.normal.y>0?e.max.y:e.min.y,G_.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(G_)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const lc=new $t,cc=new _0;class OS{constructor(){this.coordinateSystem=ro}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const s=t.cameras[n];if(lc.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),cc.setFromProjectionMatrix(lc,s.coordinateSystem,s.reversedDepth),cc.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const s=t.cameras[n];if(lc.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),cc.setFromProjectionMatrix(lc,s.coordinateSystem,s.reversedDepth),cc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const s=t.cameras[n];if(lc.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),cc.setFromProjectionMatrix(lc,s.coordinateSystem,s.reversedDepth),cc.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const s=t.cameras[n];if(lc.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),cc.setFromProjectionMatrix(lc,s.coordinateSystem,s.reversedDepth),cc.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const s=t.cameras[n];if(lc.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),cc.setFromProjectionMatrix(lc,s.coordinateSystem,s.reversedDepth),cc.containsPoint(e))return!0}return!1}clone(){return new OS}}function UM(i,e){return i-e}function oV(i,e){return i.z-e.z}function lV(i,e){return e.z-i.z}class cV{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,s){const r=this.pool,o=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const c=r[this.index];o.push(c),this.index++,c.start=e,c.count=t,c.z=n,c.index=s}reset(){this.list.length=0,this.index=0}}const Sr=new $t,uV=new Tt(1,1,1),rR=new _0,fV=new OS,X_=new Ua,Hd=new ca,og=new te,oR=new te,dV=new te,zM=new cV,wa=new zs,q_=[];function hV(i,e,t=0){const n=e.itemSize;if(i.isInterleavedBufferAttribute||i.array.constructor!==e.array.constructor){const s=i.count;for(let r=0;r<s;r++)for(let o=0;o<n;o++)e.setComponent(r+t,o,i.getComponent(r,o))}else e.array.set(i.array,t*n);e.needsUpdate=!0}function Gd(i,e){if(i.constructor!==e.constructor){const t=Math.min(i.length,e.length);for(let n=0;n<t;n++)e[n]=i[n]}else{const t=Math.min(i.length,e.length);e.set(new i.constructor(i.buffer,0,t))}}class mO extends zs{constructor(e,t,n=t*2,s){super(new dn,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new El(t,e,e,Oa,Rr);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new El(t,e,e,Vv,bu);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new El(t,e,e,Oa,Rr);n.colorSpace=Gn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in e.attributes){const o=e.getAttribute(r),{array:c,itemSize:d,normalized:p}=o,m=new c.constructor(n*d),g=new vi(m,d,p);t.setAttribute(r,g)}if(e.getIndex()!==null){const r=n>65535?new Uint32Array(s):new Uint16Array(s);t.setIndex(new vi(r,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const s=e.getAttribute(n),r=t.getAttribute(n);if(s.itemSize!==r.itemSize||s.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ua);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,s=t.length;n<s;n++){if(t[n].active===!1)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,Sr),this.getBoundingBoxAt(r,X_).applyMatrix4(Sr),e.union(X_)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ca);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,s=t.length;n<s;n++){if(t[n].active===!1)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,Sr),this.getBoundingSphereAt(r,Hd).applyMatrix4(Sr),e.union(Hd)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(UM),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=n):(s=this._instanceInfo.length,this._instanceInfo.push(n));const r=this._matricesTexture;Sr.identity().toArray(r.image.data,s*16),r.needsUpdate=!0;const o=this._colorsTexture;return o&&(uV.toArray(o.image.data,s*4),o.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=n===-1?o.count:n),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let d;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(UM),d=this._availableGeometryIds.shift(),r[d]=s):(d=this._geometryCount,this._geometryCount++,r.push(s)),this.setGeometryAt(d,e),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,d}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,s=n.getIndex()!==null,r=n.getIndex(),o=t.getIndex(),c=this._geometryInfo[e];if(s&&o.count>c.reservedIndexCount||t.attributes.position.count>c.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=c.vertexStart,p=c.reservedVertexCount;c.vertexCount=t.getAttribute("position").count;for(const m in n.attributes){const g=t.getAttribute(m),y=n.getAttribute(m);hV(g,y,d);const b=g.itemSize;for(let S=g.count,E=p;S<E;S++){const A=d+S;for(let M=0;M<b;M++)y.setComponent(A,M,0)}y.needsUpdate=!0,y.addUpdateRange(d*b,p*b)}if(s){const m=c.indexStart,g=c.reservedIndexCount;c.indexCount=t.getIndex().count;for(let y=0;y<o.count;y++)r.setX(m+y,d+o.getX(y));for(let y=o.count,b=g;y<b;y++)r.setX(m+y,d);r.needsUpdate=!0,r.addUpdateRange(m,c.reservedIndexCount)}return c.start=s?c.indexStart:c.vertexStart,c.count=s?c.indexCount:c.vertexCount,c.boundingBox=null,t.boundingBox!==null&&(c.boundingBox=t.boundingBox.clone()),c.boundingSphere=null,t.boundingSphere!==null&&(c.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let s=0,r=n.length;s<r;s++)n[s].active&&n[s].geometryIndex===e&&this.deleteInstance(s);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,s=n.map((o,c)=>c).sort((o,c)=>n[o].vertexStart-n[c].vertexStart),r=this.geometry;for(let o=0,c=n.length;o<c;o++){const d=s[o],p=n[d];if(p.active!==!1){if(r.index!==null){if(p.indexStart!==t){const{indexStart:m,vertexStart:g,reservedIndexCount:y}=p,b=r.index,S=b.array,E=e-g;for(let A=m;A<m+y;A++)S[A]=S[A]+E;b.array.copyWithin(t,m,m+y),b.addUpdateRange(t,y),p.indexStart=t}t+=p.reservedIndexCount}if(p.vertexStart!==e){const{vertexStart:m,reservedVertexCount:g}=p,y=r.attributes;for(const b in y){const S=y[b],{array:E,itemSize:A}=S;E.copyWithin(e*A,m*A,(m+g)*A),S.addUpdateRange(e*A,g*A)}p.vertexStart=e}e+=p.reservedVertexCount,p.start=r.index?p.indexStart:p.vertexStart,this._nextIndexStart=r.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,s=this._geometryInfo[e];if(s.boundingBox===null){const r=new Ua,o=n.index,c=n.attributes.position;for(let d=s.start,p=s.start+s.count;d<p;d++){let m=d;o&&(m=o.getX(m)),r.expandByPoint(og.fromBufferAttribute(c,m))}s.boundingBox=r}return t.copy(s.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,s=this._geometryInfo[e];if(s.boundingSphere===null){const r=new ca;this.getBoundingBoxAt(e,X_),X_.getCenter(r.center);const o=n.index,c=n.attributes.position;let d=0;for(let p=s.start,m=s.start+s.count;p<m;p++){let g=p;o&&(g=o.getX(g)),og.fromBufferAttribute(c,g),d=Math.max(d,r.center.distanceToSquared(og))}r.radius=Math.sqrt(d),s.boundingSphere=r}return t.copy(s.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,s=this._matricesTexture.image.data;return t.toArray(s,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(UM);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const s=new Int32Array(e),r=new Int32Array(e);Gd(this._multiDrawCounts,s),Gd(this._multiDrawStarts,r),this._multiDrawCounts=s,this._multiDrawStarts=r,this._maxInstanceCount=e;const o=this._indirectTexture,c=this._matricesTexture,d=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Gd(o.image.data,this._indirectTexture.image.data),c.dispose(),this._initMatricesTexture(),Gd(c.image.data,this._matricesTexture.image.data),d&&(d.dispose(),this._initColorsTexture(),Gd(d.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(c=>c.active);if(Math.max(...n.map(c=>c.vertexStart+c.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(d=>d.indexStart+d.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new dn,this._initializeGeometry(r));const o=this.geometry;r.index&&Gd(r.index.array,o.index.array);for(const c in r.attributes)Gd(r.attributes[c].array,o.attributes[c].array)}raycast(e,t){const n=this._instanceInfo,s=this._geometryInfo,r=this.matrixWorld,o=this.geometry;wa.material=this.material,wa.geometry.index=o.index,wa.geometry.attributes=o.attributes,wa.geometry.boundingBox===null&&(wa.geometry.boundingBox=new Ua),wa.geometry.boundingSphere===null&&(wa.geometry.boundingSphere=new ca);for(let c=0,d=n.length;c<d;c++){if(!n[c].visible||!n[c].active)continue;const p=n[c].geometryIndex,m=s[p];wa.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(c,wa.matrixWorld).premultiply(r),this.getBoundingBoxAt(p,wa.geometry.boundingBox),this.getBoundingSphereAt(p,wa.geometry.boundingSphere),wa.raycast(e,q_);for(let g=0,y=q_.length;g<y;g++){const b=q_[g];b.object=this,b.batchId=c,t.push(b)}q_.length=0}wa.material=null,wa.geometry.index=null,wa.geometry.attributes={},wa.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,s,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=s.getIndex(),c=o===null?1:o.array.BYTES_PER_ELEMENT,d=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,g=this._geometryInfo,y=this.perObjectFrustumCulled,b=this._indirectTexture,S=b.image.data,E=n.isArrayCamera?fV:rR;y&&!n.isArrayCamera&&(Sr.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),rR.setFromProjectionMatrix(Sr,n.coordinateSystem,n.reversedDepth));let A=0;if(this.sortObjects){Sr.copy(this.matrixWorld).invert(),og.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Sr),oR.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Sr);for(let R=0,L=d.length;R<L;R++)if(d[R].visible&&d[R].active){const z=d[R].geometryIndex;this.getMatrixAt(R,Sr),this.getBoundingSphereAt(z,Hd).applyMatrix4(Sr);let U=!1;if(y&&(U=!E.intersectsSphere(Hd,n)),!U){const I=g[z],F=dV.subVectors(Hd.center,og).dot(oR);zM.push(I.start,I.count,F,R)}}const M=zM.list,D=this.customSort;D===null?M.sort(r.transparent?lV:oV):D.call(this,M,n);for(let R=0,L=M.length;R<L;R++){const z=M[R];p[A]=z.start*c,m[A]=z.count,S[A]=z.index,A++}zM.reset()}else for(let M=0,D=d.length;M<D;M++)if(d[M].visible&&d[M].active){const R=d[M].geometryIndex;let L=!1;if(y&&(this.getMatrixAt(M,Sr),this.getBoundingSphereAt(R,Hd).applyMatrix4(Sr),L=!E.intersectsSphere(Hd,n)),!L){const z=g[R];p[A]=z.start*c,m[A]=z.count,S[A]=M,A++}}b.needsUpdate=!0,this._multiDrawCount=A,this._visibilityChanged=!1}onBeforeShadow(e,t,n,s,r,o){this.onBeforeRender(e,null,s,r,o)}}class dr extends Pa{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Tt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const V1=new te,k1=new te,lR=new $t,lg=new y0,W_=new ca,PM=new te,cR=new te;class Bf extends Zn{constructor(e=new dn,t=new dr){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let s=1,r=t.count;s<r;s++)V1.fromBufferAttribute(t,s-1),k1.fromBufferAttribute(t,s),n[s]=n[s-1],n[s]+=V1.distanceTo(k1);e.setAttribute("lineDistance",new Ot(n,1))}else St("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,s=this.matrixWorld,r=e.params.Line.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),W_.copy(n.boundingSphere),W_.applyMatrix4(s),W_.radius+=r,e.ray.intersectsSphere(W_)===!1)return;lR.copy(s).invert(),lg.copy(e.ray).applyMatrix4(lR);const c=r/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,p=this.isLineSegments?2:1,m=n.index,y=n.attributes.position;if(m!==null){const b=Math.max(0,o.start),S=Math.min(m.count,o.start+o.count);for(let E=b,A=S-1;E<A;E+=p){const M=m.getX(E),D=m.getX(E+1),R=Y_(this,e,lg,d,M,D,E);R&&t.push(R)}if(this.isLineLoop){const E=m.getX(S-1),A=m.getX(b),M=Y_(this,e,lg,d,E,A,S-1);M&&t.push(M)}}else{const b=Math.max(0,o.start),S=Math.min(y.count,o.start+o.count);for(let E=b,A=S-1;E<A;E+=p){const M=Y_(this,e,lg,d,E,E+1,E);M&&t.push(M)}if(this.isLineLoop){const E=Y_(this,e,lg,d,S-1,b,S-1);E&&t.push(E)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const s=t[n[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const c=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}}function Y_(i,e,t,n,s,r,o){const c=i.geometry.attributes.position;if(V1.fromBufferAttribute(c,s),k1.fromBufferAttribute(c,r),t.distanceSqToSegment(V1,k1,PM,cR)>n)return;PM.applyMatrix4(i.matrixWorld);const p=e.ray.origin.distanceTo(PM);if(!(p<e.near||p>e.far))return{distance:p,point:cR.clone().applyMatrix4(i.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:i}}const uR=new te,fR=new te;class Ec extends Bf{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let s=0,r=t.count;s<r;s+=2)uR.fromBufferAttribute(t,s),fR.fromBufferAttribute(t,s+1),n[s]=s===0?0:n[s-1],n[s+1]=n[s]+uR.distanceTo(fR);e.setAttribute("lineDistance",new Ot(n,1))}else St("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class xO extends Bf{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class US extends Pa{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Tt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const dR=new $t,fT=new y0,Z_=new ca,K_=new te;let gO=class extends Zn{constructor(e=new dn,t=new US){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,s=this.matrixWorld,r=e.params.Points.threshold,o=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),Z_.copy(n.boundingSphere),Z_.applyMatrix4(s),Z_.radius+=r,e.ray.intersectsSphere(Z_)===!1)return;dR.copy(s).invert(),fT.copy(e.ray).applyMatrix4(dR);const c=r/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,p=n.index,g=n.attributes.position;if(p!==null){const y=Math.max(0,o.start),b=Math.min(p.count,o.start+o.count);for(let S=y,E=b;S<E;S++){const A=p.getX(S);K_.fromBufferAttribute(g,A),hR(K_,A,d,s,e,t,this)}}else{const y=Math.max(0,o.start),b=Math.min(g.count,o.start+o.count);for(let S=y,E=b;S<E;S++)K_.fromBufferAttribute(g,S),hR(K_,S,d,s,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const s=t[n[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const c=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}};function hR(i,e,t,n,s,r,o){const c=fT.distanceSqToPoint(i);if(c<t){const d=new te;fT.closestPointToPoint(i,d),d.applyMatrix4(n);const p=s.ray.origin.distanceTo(d);if(p<s.near||p>s.far)return;r.push({distance:p,distanceToRay:Math.sqrt(c),point:d,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class vO extends ts{constructor(e,t,n,s,r=fs,o=fs,c,d,p){super(e,t,n,s,r,o,c,d,p),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const m=this;function g(){m.needsUpdate=!0,m._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(g))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class pV extends vO{constructor(e,t,n,s,r,o,c,d){super({},e,t,n,s,r,o,c,d),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class mV extends ts{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=la,this.minFilter=la,this.generateMipmaps=!1,this.needsUpdate=!0}}class zS extends ts{constructor(e,t,n,s,r,o,c,d,p,m,g,y){super(null,o,c,d,p,m,s,r,g,y),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class xV extends zS{constructor(e,t,n,s,r,o){super(e,t,n,r,o),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Nr,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class gV extends zS{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,_u),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class vV extends ts{constructor(e,t,n,s,r,o,c,d,p){super(e,t,n,s,r,o,c,d,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class $w extends ts{constructor(e,t,n=bu,s,r,o,c=la,d=la,p,m=Zm,g=1){if(m!==Zm&&m!==Km)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const y={width:e,height:t,depth:g};super(y,s,r,o,c,d,m,n,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Sf(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class eE extends ts{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class PS extends dn{constructor(e=1,t=1,n=4,s=8,r=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:s,heightSegments:r},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),s=Math.max(3,Math.floor(s)),r=Math.max(1,Math.floor(r));const o=[],c=[],d=[],p=[],m=t/2,g=Math.PI/2*e,y=t,b=2*g+y,S=n*2+r,E=s+1,A=new te,M=new te;for(let D=0;D<=S;D++){let R=0,L=0,z=0,U=0;if(D<=n){const P=D/n,B=P*Math.PI/2;L=-m-e*Math.cos(B),z=e*Math.sin(B),U=-e*Math.cos(B),R=P*g}else if(D<=n+r){const P=(D-n)/r;L=-m+P*t,z=e,U=0,R=g+P*y}else{const P=(D-n-r)/n,B=P*Math.PI/2;L=m+e*Math.sin(B),z=e*Math.cos(B),U=e*Math.sin(B),R=g+y+P*g}const I=Math.max(0,Math.min(1,R/b));let F=0;D===0?F=.5/s:D===S&&(F=-.5/s);for(let P=0;P<=s;P++){const B=P/s,H=B*Math.PI*2,Q=Math.sin(H),ie=Math.cos(H);M.x=-z*ie,M.y=L,M.z=z*Q,c.push(M.x,M.y,M.z),A.set(-z*ie,U,z*Q),A.normalize(),d.push(A.x,A.y,A.z),p.push(B+F,I)}if(D>0){const P=(D-1)*E;for(let B=0;B<s;B++){const H=P+B,Q=P+B+1,ie=D*E+B,ue=D*E+B+1;o.push(H,Q,ie),o.push(Q,ue,ie)}}}this.setIndex(o),this.setAttribute("position",new Ot(c,3)),this.setAttribute("normal",new Ot(d,3)),this.setAttribute("uv",new Ot(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new PS(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class BS extends dn{constructor(e=1,t=32,n=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:s},t=Math.max(3,t);const r=[],o=[],c=[],d=[],p=new te,m=new Ke;o.push(0,0,0),c.push(0,0,1),d.push(.5,.5);for(let g=0,y=3;g<=t;g++,y+=3){const b=n+g/t*s;p.x=e*Math.cos(b),p.y=e*Math.sin(b),o.push(p.x,p.y,p.z),c.push(0,0,1),m.x=(o[y]/e+1)/2,m.y=(o[y+1]/e+1)/2,d.push(m.x,m.y)}for(let g=1;g<=t;g++)r.push(g,g+1,0);this.setIndex(r),this.setAttribute("position",new Ot(o,3)),this.setAttribute("normal",new Ot(c,3)),this.setAttribute("uv",new Ot(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BS(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Hv extends dn{constructor(e=1,t=1,n=1,s=32,r=1,o=!1,c=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:s,heightSegments:r,openEnded:o,thetaStart:c,thetaLength:d};const p=this;s=Math.floor(s),r=Math.floor(r);const m=[],g=[],y=[],b=[];let S=0;const E=[],A=n/2;let M=0;D(),o===!1&&(e>0&&R(!0),t>0&&R(!1)),this.setIndex(m),this.setAttribute("position",new Ot(g,3)),this.setAttribute("normal",new Ot(y,3)),this.setAttribute("uv",new Ot(b,2));function D(){const L=new te,z=new te;let U=0;const I=(t-e)/n;for(let F=0;F<=r;F++){const P=[],B=F/r,H=B*(t-e)+e;for(let Q=0;Q<=s;Q++){const ie=Q/s,ue=ie*d+c,fe=Math.sin(ue),V=Math.cos(ue);z.x=H*fe,z.y=-B*n+A,z.z=H*V,g.push(z.x,z.y,z.z),L.set(fe,I,V).normalize(),y.push(L.x,L.y,L.z),b.push(ie,1-B),P.push(S++)}E.push(P)}for(let F=0;F<s;F++)for(let P=0;P<r;P++){const B=E[P][F],H=E[P+1][F],Q=E[P+1][F+1],ie=E[P][F+1];(e>0||P!==0)&&(m.push(B,H,ie),U+=3),(t>0||P!==r-1)&&(m.push(H,Q,ie),U+=3)}p.addGroup(M,U,0),M+=U}function R(L){const z=S,U=new Ke,I=new te;let F=0;const P=L===!0?e:t,B=L===!0?1:-1;for(let Q=1;Q<=s;Q++)g.push(0,A*B,0),y.push(0,B,0),b.push(.5,.5),S++;const H=S;for(let Q=0;Q<=s;Q++){const ue=Q/s*d+c,fe=Math.cos(ue),V=Math.sin(ue);I.x=P*V,I.y=A*B,I.z=P*fe,g.push(I.x,I.y,I.z),y.push(0,B,0),U.x=fe*.5+.5,U.y=V*.5*B+.5,b.push(U.x,U.y),S++}for(let Q=0;Q<s;Q++){const ie=z+Q,ue=H+Q;L===!0?m.push(ue,ue+1,ie):m.push(ue+1,ue,ie),F+=3}p.addGroup(M,F,L===!0?1:2),M+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hv(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Gv extends Hv{constructor(e=1,t=1,n=32,s=1,r=!1,o=0,c=Math.PI*2){super(0,e,t,n,s,r,o,c),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:s,openEnded:r,thetaStart:o,thetaLength:c}}static fromJSON(e){return new Gv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Gf extends dn{constructor(e=[],t=[],n=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:s};const r=[],o=[];c(s),p(n),m(),this.setAttribute("position",new Ot(r,3)),this.setAttribute("normal",new Ot(r.slice(),3)),this.setAttribute("uv",new Ot(o,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function c(D){const R=new te,L=new te,z=new te;for(let U=0;U<t.length;U+=3)b(t[U+0],R),b(t[U+1],L),b(t[U+2],z),d(R,L,z,D)}function d(D,R,L,z){const U=z+1,I=[];for(let F=0;F<=U;F++){I[F]=[];const P=D.clone().lerp(L,F/U),B=R.clone().lerp(L,F/U),H=U-F;for(let Q=0;Q<=H;Q++)Q===0&&F===U?I[F][Q]=P:I[F][Q]=P.clone().lerp(B,Q/H)}for(let F=0;F<U;F++)for(let P=0;P<2*(U-F)-1;P++){const B=Math.floor(P/2);P%2===0?(y(I[F][B+1]),y(I[F+1][B]),y(I[F][B])):(y(I[F][B+1]),y(I[F+1][B+1]),y(I[F+1][B]))}}function p(D){const R=new te;for(let L=0;L<r.length;L+=3)R.x=r[L+0],R.y=r[L+1],R.z=r[L+2],R.normalize().multiplyScalar(D),r[L+0]=R.x,r[L+1]=R.y,r[L+2]=R.z}function m(){const D=new te;for(let R=0;R<r.length;R+=3){D.x=r[R+0],D.y=r[R+1],D.z=r[R+2];const L=A(D)/2/Math.PI+.5,z=M(D)/Math.PI+.5;o.push(L,1-z)}S(),g()}function g(){for(let D=0;D<o.length;D+=6){const R=o[D+0],L=o[D+2],z=o[D+4],U=Math.max(R,L,z),I=Math.min(R,L,z);U>.9&&I<.1&&(R<.2&&(o[D+0]+=1),L<.2&&(o[D+2]+=1),z<.2&&(o[D+4]+=1))}}function y(D){r.push(D.x,D.y,D.z)}function b(D,R){const L=D*3;R.x=e[L+0],R.y=e[L+1],R.z=e[L+2]}function S(){const D=new te,R=new te,L=new te,z=new te,U=new Ke,I=new Ke,F=new Ke;for(let P=0,B=0;P<r.length;P+=9,B+=6){D.set(r[P+0],r[P+1],r[P+2]),R.set(r[P+3],r[P+4],r[P+5]),L.set(r[P+6],r[P+7],r[P+8]),U.set(o[B+0],o[B+1]),I.set(o[B+2],o[B+3]),F.set(o[B+4],o[B+5]),z.copy(D).add(R).add(L).divideScalar(3);const H=A(z);E(U,B+0,D,H),E(I,B+2,R,H),E(F,B+4,L,H)}}function E(D,R,L,z){z<0&&D.x===1&&(o[R]=D.x-1),L.x===0&&L.z===0&&(o[R]=z/2/Math.PI+.5)}function A(D){return Math.atan2(D.z,-D.x)}function M(D){return Math.atan2(-D.y,Math.sqrt(D.x*D.x+D.z*D.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gf(e.vertices,e.indices,e.radius,e.details)}}class IS extends Gf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,s=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-n,0,-s,n,0,s,-n,0,s,n,-s,-n,0,-s,n,0,s,-n,0,s,n,0,-n,0,-s,n,0,-s,-n,0,s,n,0,s],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new IS(e.radius,e.detail)}}const Q_=new te,J_=new te,BM=new te,$_=new Ar;class yO extends dn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const s=Math.pow(10,4),r=Math.cos(bh*t),o=e.getIndex(),c=e.getAttribute("position"),d=o?o.count:c.count,p=[0,0,0],m=["a","b","c"],g=new Array(3),y={},b=[];for(let S=0;S<d;S+=3){o?(p[0]=o.getX(S),p[1]=o.getX(S+1),p[2]=o.getX(S+2)):(p[0]=S,p[1]=S+1,p[2]=S+2);const{a:E,b:A,c:M}=$_;if(E.fromBufferAttribute(c,p[0]),A.fromBufferAttribute(c,p[1]),M.fromBufferAttribute(c,p[2]),$_.getNormal(BM),g[0]=`${Math.round(E.x*s)},${Math.round(E.y*s)},${Math.round(E.z*s)}`,g[1]=`${Math.round(A.x*s)},${Math.round(A.y*s)},${Math.round(A.z*s)}`,g[2]=`${Math.round(M.x*s)},${Math.round(M.y*s)},${Math.round(M.z*s)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let D=0;D<3;D++){const R=(D+1)%3,L=g[D],z=g[R],U=$_[m[D]],I=$_[m[R]],F=`${L}_${z}`,P=`${z}_${L}`;P in y&&y[P]?(BM.dot(y[P].normal)<=r&&(b.push(U.x,U.y,U.z),b.push(I.x,I.y,I.z)),y[P]=null):F in y||(y[F]={index0:p[D],index1:p[R],normal:BM.clone()})}}for(const S in y)if(y[S]){const{index0:E,index1:A}=y[S];Q_.fromBufferAttribute(c,E),J_.fromBufferAttribute(c,A),b.push(Q_.x,Q_.y,Q_.z),b.push(J_.x,J_.y,J_.z)}this.setAttribute("position",new Ot(b,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Cl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){St("Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,s=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),r+=n.distanceTo(s),t.push(r),s=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let s=0;const r=n.length;let o;t?o=t:o=e*n[r-1];let c=0,d=r-1,p;for(;c<=d;)if(s=Math.floor(c+(d-c)/2),p=n[s]-o,p<0)c=s+1;else if(p>0)d=s-1;else{d=s;break}if(s=d,n[s]===o)return s/(r-1);const m=n[s],y=n[s+1]-m,b=(o-m)/y;return(s+b)/(r-1)}getTangent(e,t){let s=e-1e-4,r=e+1e-4;s<0&&(s=0),r>1&&(r=1);const o=this.getPoint(s),c=this.getPoint(r),d=t||(o.isVector2?new Ke:new te);return d.copy(c).sub(o).normalize(),d}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new te,s=[],r=[],o=[],c=new te,d=new $t;for(let b=0;b<=e;b++){const S=b/e;s[b]=this.getTangentAt(S,new te)}r[0]=new te,o[0]=new te;let p=Number.MAX_VALUE;const m=Math.abs(s[0].x),g=Math.abs(s[0].y),y=Math.abs(s[0].z);m<=p&&(p=m,n.set(1,0,0)),g<=p&&(p=g,n.set(0,1,0)),y<=p&&n.set(0,0,1),c.crossVectors(s[0],n).normalize(),r[0].crossVectors(s[0],c),o[0].crossVectors(s[0],r[0]);for(let b=1;b<=e;b++){if(r[b]=r[b-1].clone(),o[b]=o[b-1].clone(),c.crossVectors(s[b-1],s[b]),c.length()>Number.EPSILON){c.normalize();const S=Math.acos(Jt(s[b-1].dot(s[b]),-1,1));r[b].applyMatrix4(d.makeRotationAxis(c,S))}o[b].crossVectors(s[b],r[b])}if(t===!0){let b=Math.acos(Jt(r[0].dot(r[e]),-1,1));b/=e,s[0].dot(c.crossVectors(r[0],r[e]))>0&&(b=-b);for(let S=1;S<=e;S++)r[S].applyMatrix4(d.makeRotationAxis(s[S],b*S)),o[S].crossVectors(s[S],r[S])}return{tangents:s,normals:r,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class jS extends Cl{constructor(e=0,t=0,n=1,s=1,r=0,o=Math.PI*2,c=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=c,this.aRotation=d}getPoint(e,t=new Ke){const n=t,s=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(o?r=0:r=s),this.aClockwise===!0&&!o&&(r===s?r=-s:r=r-s);const c=this.aStartAngle+e*r;let d=this.aX+this.xRadius*Math.cos(c),p=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const m=Math.cos(this.aRotation),g=Math.sin(this.aRotation),y=d-this.aX,b=p-this.aY;d=y*m-b*g+this.aX,p=y*g+b*m+this.aY}return n.set(d,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class _O extends jS{constructor(e,t,n,s,r,o){super(e,t,n,n,s,r,o),this.isArcCurve=!0,this.type="ArcCurve"}}function tE(){let i=0,e=0,t=0,n=0;function s(r,o,c,d){i=r,e=c,t=-3*r+3*o-2*c-d,n=2*r-2*o+c+d}return{initCatmullRom:function(r,o,c,d,p){s(o,c,p*(c-r),p*(d-o))},initNonuniformCatmullRom:function(r,o,c,d,p,m,g){let y=(o-r)/p-(c-r)/(p+m)+(c-o)/m,b=(c-o)/m-(d-o)/(m+g)+(d-c)/g;y*=m,b*=m,s(o,c,y,b)},calc:function(r){const o=r*r,c=o*r;return i+e*r+t*o+n*c}}}const eb=new te,IM=new tE,jM=new tE,FM=new tE;class bO extends Cl{constructor(e=[],t=!1,n="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=s}getPoint(e,t=new te){const n=t,s=this.points,r=s.length,o=(r-(this.closed?0:1))*e;let c=Math.floor(o),d=o-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/r)+1)*r:d===0&&c===r-1&&(c=r-2,d=1);let p,m;this.closed||c>0?p=s[(c-1)%r]:(eb.subVectors(s[0],s[1]).add(s[0]),p=eb);const g=s[c%r],y=s[(c+1)%r];if(this.closed||c+2<r?m=s[(c+2)%r]:(eb.subVectors(s[r-1],s[r-2]).add(s[r-1]),m=eb),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let S=Math.pow(p.distanceToSquared(g),b),E=Math.pow(g.distanceToSquared(y),b),A=Math.pow(y.distanceToSquared(m),b);E<1e-4&&(E=1),S<1e-4&&(S=E),A<1e-4&&(A=E),IM.initNonuniformCatmullRom(p.x,g.x,y.x,m.x,S,E,A),jM.initNonuniformCatmullRom(p.y,g.y,y.y,m.y,S,E,A),FM.initNonuniformCatmullRom(p.z,g.z,y.z,m.z,S,E,A)}else this.curveType==="catmullrom"&&(IM.initCatmullRom(p.x,g.x,y.x,m.x,this.tension),jM.initCatmullRom(p.y,g.y,y.y,m.y,this.tension),FM.initCatmullRom(p.z,g.z,y.z,m.z,this.tension));return n.set(IM.calc(d),jM.calc(d),FM.calc(d)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const s=e.points[t];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const s=this.points[t];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const s=e.points[t];this.points.push(new te().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function pR(i,e,t,n,s){const r=(n-e)*.5,o=(s-t)*.5,c=i*i,d=i*c;return(2*t-2*n+r+o)*d+(-3*t+3*n-2*r-o)*c+r*i+t}function yV(i,e){const t=1-i;return t*t*e}function _V(i,e){return 2*(1-i)*i*e}function bV(i,e){return i*i*e}function Bg(i,e,t,n){return yV(i,e)+_V(i,t)+bV(i,n)}function SV(i,e){const t=1-i;return t*t*t*e}function MV(i,e){const t=1-i;return 3*t*t*i*e}function TV(i,e){return 3*(1-i)*i*i*e}function wV(i,e){return i*i*i*e}function Ig(i,e,t,n,s){return SV(i,e)+MV(i,t)+TV(i,n)+wV(i,s)}class nE extends Cl{constructor(e=new Ke,t=new Ke,n=new Ke,s=new Ke){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=s}getPoint(e,t=new Ke){const n=t,s=this.v0,r=this.v1,o=this.v2,c=this.v3;return n.set(Ig(e,s.x,r.x,o.x,c.x),Ig(e,s.y,r.y,o.y,c.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class SO extends Cl{constructor(e=new te,t=new te,n=new te,s=new te){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=s}getPoint(e,t=new te){const n=t,s=this.v0,r=this.v1,o=this.v2,c=this.v3;return n.set(Ig(e,s.x,r.x,o.x,c.x),Ig(e,s.y,r.y,o.y,c.y),Ig(e,s.z,r.z,o.z,c.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class iE extends Cl{constructor(e=new Ke,t=new Ke){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ke){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ke){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class MO extends Cl{constructor(e=new te,t=new te){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new te){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new te){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sE extends Cl{constructor(e=new Ke,t=new Ke,n=new Ke){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ke){const n=t,s=this.v0,r=this.v1,o=this.v2;return n.set(Bg(e,s.x,r.x,o.x),Bg(e,s.y,r.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aE extends Cl{constructor(e=new te,t=new te,n=new te){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new te){const n=t,s=this.v0,r=this.v1,o=this.v2;return n.set(Bg(e,s.x,r.x,o.x),Bg(e,s.y,r.y,o.y),Bg(e,s.z,r.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rE extends Cl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ke){const n=t,s=this.points,r=(s.length-1)*e,o=Math.floor(r),c=r-o,d=s[o===0?o:o-1],p=s[o],m=s[o>s.length-2?s.length-1:o+1],g=s[o>s.length-3?s.length-1:o+2];return n.set(pR(c,d.x,p.x,m.x,g.x),pR(c,d.y,p.y,m.y,g.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const s=e.points[t];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const s=this.points[t];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const s=e.points[t];this.points.push(new Ke().fromArray(s))}return this}}var H1=Object.freeze({__proto__:null,ArcCurve:_O,CatmullRomCurve3:bO,CubicBezierCurve:nE,CubicBezierCurve3:SO,EllipseCurve:jS,LineCurve:iE,LineCurve3:MO,QuadraticBezierCurve:sE,QuadraticBezierCurve3:aE,SplineCurve:rE});class TO extends Cl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new H1[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=n){const o=s[r]-n,c=this.curves[r],d=c.getLength(),p=d===0?0:1-o/d;return c.getPointAt(p,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,s=this.curves.length;n<s;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let s=0,r=this.curves;s<r.length;s++){const o=r[s],c=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,d=o.getPoints(c);for(let p=0;p<d.length;p++){const m=d[p];n&&n.equals(m)||(t.push(m),n=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const s=e.curves[t];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const s=this.curves[t];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const s=e.curves[t];this.curves.push(new H1[s.type]().fromJSON(s))}return this}}class G1 extends TO{constructor(e){super(),this.type="Path",this.currentPoint=new Ke,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new iE(this.currentPoint.clone(),new Ke(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,s){const r=new sE(this.currentPoint.clone(),new Ke(e,t),new Ke(n,s));return this.curves.push(r),this.currentPoint.set(n,s),this}bezierCurveTo(e,t,n,s,r,o){const c=new nE(this.currentPoint.clone(),new Ke(e,t),new Ke(n,s),new Ke(r,o));return this.curves.push(c),this.currentPoint.set(r,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new rE(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,s,r,o){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(e+c,t+d,n,s,r,o),this}absarc(e,t,n,s,r,o){return this.absellipse(e,t,n,n,s,r,o),this}ellipse(e,t,n,s,r,o,c,d){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+p,t+m,n,s,r,o,c,d),this}absellipse(e,t,n,s,r,o,c,d){const p=new jS(e,t,n,s,r,o,c,d);if(this.curves.length>0){const g=p.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Sh extends G1{constructor(e){super(e),this.uuid=lo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,s=this.holes.length;n<s;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const s=e.holes[t];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const s=this.holes[t];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const s=e.holes[t];this.holes.push(new G1().fromJSON(s))}return this}}function EV(i,e,t=2){const n=e&&e.length,s=n?e[0]*t:i.length;let r=wO(i,0,s,t,!0);const o=[];if(!r||r.next===r.prev)return o;let c,d,p;if(n&&(r=DV(i,e,r,t)),i.length>80*t){c=i[0],d=i[1];let m=c,g=d;for(let y=t;y<s;y+=t){const b=i[y],S=i[y+1];b<c&&(c=b),S<d&&(d=S),b>m&&(m=b),S>g&&(g=S)}p=Math.max(m-c,g-d),p=p!==0?32767/p:0}return pv(r,o,t,c,d,p,0),o}function wO(i,e,t,n,s){let r;if(s===kV(i,e,t,n)>0)for(let o=e;o<t;o+=n)r=mR(o/n|0,i[o],i[o+1],r);else for(let o=t-n;o>=e;o-=n)r=mR(o/n|0,i[o],i[o+1],r);return r&&i0(r,r.next)&&(xv(r),r=r.next),r}function Oh(i,e){if(!i)return i;e||(e=i);let t=i,n;do if(n=!1,!t.steiner&&(i0(t,t.next)||qi(t.prev,t,t.next)===0)){if(xv(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function pv(i,e,t,n,s,r,o){if(!i)return;!o&&r&&PV(i,n,s,r);let c=i;for(;i.prev!==i.next;){const d=i.prev,p=i.next;if(r?CV(i,n,s,r):AV(i)){e.push(d.i,i.i,p.i),xv(i),i=p.next,c=p.next;continue}if(i=p,i===c){o?o===1?(i=NV(Oh(i),e),pv(i,e,t,n,s,r,2)):o===2&&RV(i,e,t,n,s,r):pv(Oh(i),e,t,n,s,r,1);break}}}function AV(i){const e=i.prev,t=i,n=i.next;if(qi(e,t,n)>=0)return!1;const s=e.x,r=t.x,o=n.x,c=e.y,d=t.y,p=n.y,m=Math.min(s,r,o),g=Math.min(c,d,p),y=Math.max(s,r,o),b=Math.max(c,d,p);let S=n.next;for(;S!==e;){if(S.x>=m&&S.x<=y&&S.y>=g&&S.y<=b&&gg(s,c,r,d,o,p,S.x,S.y)&&qi(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function CV(i,e,t,n){const s=i.prev,r=i,o=i.next;if(qi(s,r,o)>=0)return!1;const c=s.x,d=r.x,p=o.x,m=s.y,g=r.y,y=o.y,b=Math.min(c,d,p),S=Math.min(m,g,y),E=Math.max(c,d,p),A=Math.max(m,g,y),M=dT(b,S,e,t,n),D=dT(E,A,e,t,n);let R=i.prevZ,L=i.nextZ;for(;R&&R.z>=M&&L&&L.z<=D;){if(R.x>=b&&R.x<=E&&R.y>=S&&R.y<=A&&R!==s&&R!==o&&gg(c,m,d,g,p,y,R.x,R.y)&&qi(R.prev,R,R.next)>=0||(R=R.prevZ,L.x>=b&&L.x<=E&&L.y>=S&&L.y<=A&&L!==s&&L!==o&&gg(c,m,d,g,p,y,L.x,L.y)&&qi(L.prev,L,L.next)>=0))return!1;L=L.nextZ}for(;R&&R.z>=M;){if(R.x>=b&&R.x<=E&&R.y>=S&&R.y<=A&&R!==s&&R!==o&&gg(c,m,d,g,p,y,R.x,R.y)&&qi(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;L&&L.z<=D;){if(L.x>=b&&L.x<=E&&L.y>=S&&L.y<=A&&L!==s&&L!==o&&gg(c,m,d,g,p,y,L.x,L.y)&&qi(L.prev,L,L.next)>=0)return!1;L=L.nextZ}return!0}function NV(i,e){let t=i;do{const n=t.prev,s=t.next.next;!i0(n,s)&&AO(n,t,t.next,s)&&mv(n,s)&&mv(s,n)&&(e.push(n.i,t.i,s.i),xv(t),xv(t.next),t=i=s),t=t.next}while(t!==i);return Oh(t)}function RV(i,e,t,n,s,r){let o=i;do{let c=o.next.next;for(;c!==o.prev;){if(o.i!==c.i&&jV(o,c)){let d=CO(o,c);o=Oh(o,o.next),d=Oh(d,d.next),pv(o,e,t,n,s,r,0),pv(d,e,t,n,s,r,0);return}c=c.next}o=o.next}while(o!==i)}function DV(i,e,t,n){const s=[];for(let r=0,o=e.length;r<o;r++){const c=e[r]*n,d=r<o-1?e[r+1]*n:i.length,p=wO(i,c,d,n,!1);p===p.next&&(p.steiner=!0),s.push(IV(p))}s.sort(LV);for(let r=0;r<s.length;r++)t=OV(s[r],t);return t}function LV(i,e){let t=i.x-e.x;if(t===0&&(t=i.y-e.y,t===0)){const n=(i.next.y-i.y)/(i.next.x-i.x),s=(e.next.y-e.y)/(e.next.x-e.x);t=n-s}return t}function OV(i,e){const t=UV(i,e);if(!t)return e;const n=CO(t,i);return Oh(n,n.next),Oh(t,t.next)}function UV(i,e){let t=e;const n=i.x,s=i.y;let r=-1/0,o;if(i0(i,t))return t;do{if(i0(i,t.next))return t.next;if(s<=t.y&&s>=t.next.y&&t.next.y!==t.y){const g=t.x+(s-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(g<=n&&g>r&&(r=g,o=t.x<t.next.x?t:t.next,g===n))return o}t=t.next}while(t!==e);if(!o)return null;const c=o,d=o.x,p=o.y;let m=1/0;t=o;do{if(n>=t.x&&t.x>=d&&n!==t.x&&EO(s<p?n:r,s,d,p,s<p?r:n,s,t.x,t.y)){const g=Math.abs(s-t.y)/(n-t.x);mv(t,i)&&(g<m||g===m&&(t.x>o.x||t.x===o.x&&zV(o,t)))&&(o=t,m=g)}t=t.next}while(t!==c);return o}function zV(i,e){return qi(i.prev,i,e.prev)<0&&qi(e.next,i,i.next)<0}function PV(i,e,t,n){let s=i;do s.z===0&&(s.z=dT(s.x,s.y,e,t,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==i);s.prevZ.nextZ=null,s.prevZ=null,BV(s)}function BV(i){let e,t=1;do{let n=i,s;i=null;let r=null;for(e=0;n;){e++;let o=n,c=0;for(let p=0;p<t&&(c++,o=o.nextZ,!!o);p++);let d=t;for(;c>0||d>0&&o;)c!==0&&(d===0||!o||n.z<=o.z)?(s=n,n=n.nextZ,c--):(s=o,o=o.nextZ,d--),r?r.nextZ=s:i=s,s.prevZ=r,r=s;n=o}r.nextZ=null,t*=2}while(e>1);return i}function dT(i,e,t,n,s){return i=(i-t)*s|0,e=(e-n)*s|0,i=(i|i<<8)&16711935,i=(i|i<<4)&252645135,i=(i|i<<2)&858993459,i=(i|i<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,i|e<<1}function IV(i){let e=i,t=i;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==i);return t}function EO(i,e,t,n,s,r,o,c){return(s-o)*(e-c)>=(i-o)*(r-c)&&(i-o)*(n-c)>=(t-o)*(e-c)&&(t-o)*(r-c)>=(s-o)*(n-c)}function gg(i,e,t,n,s,r,o,c){return!(i===o&&e===c)&&EO(i,e,t,n,s,r,o,c)}function jV(i,e){return i.next.i!==e.i&&i.prev.i!==e.i&&!FV(i,e)&&(mv(i,e)&&mv(e,i)&&VV(i,e)&&(qi(i.prev,i,e.prev)||qi(i,e.prev,e))||i0(i,e)&&qi(i.prev,i,i.next)>0&&qi(e.prev,e,e.next)>0)}function qi(i,e,t){return(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y)}function i0(i,e){return i.x===e.x&&i.y===e.y}function AO(i,e,t,n){const s=nb(qi(i,e,t)),r=nb(qi(i,e,n)),o=nb(qi(t,n,i)),c=nb(qi(t,n,e));return!!(s!==r&&o!==c||s===0&&tb(i,t,e)||r===0&&tb(i,n,e)||o===0&&tb(t,i,n)||c===0&&tb(t,e,n))}function tb(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)}function nb(i){return i>0?1:i<0?-1:0}function FV(i,e){let t=i;do{if(t.i!==i.i&&t.next.i!==i.i&&t.i!==e.i&&t.next.i!==e.i&&AO(t,t.next,i,e))return!0;t=t.next}while(t!==i);return!1}function mv(i,e){return qi(i.prev,i,i.next)<0?qi(i,e,i.next)>=0&&qi(i,i.prev,e)>=0:qi(i,e,i.prev)<0||qi(i,i.next,e)<0}function VV(i,e){let t=i,n=!1;const s=(i.x+e.x)/2,r=(i.y+e.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&s<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==i);return n}function CO(i,e){const t=hT(i.i,i.x,i.y),n=hT(e.i,e.x,e.y),s=i.next,r=e.prev;return i.next=e,e.prev=i,t.next=s,s.prev=t,n.next=t,t.prev=n,r.next=n,n.prev=r,n}function mR(i,e,t,n){const s=hT(i,e,t);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function xv(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function hT(i,e,t){return{i,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function kV(i,e,t,n){let s=0;for(let r=e,o=t-n;r<t;r+=n)s+=(i[o]-i[r])*(i[r+1]+i[o+1]),o=r;return s}class HV{static triangulate(e,t,n=2){return EV(e,t,n)}}class wl{static area(e){const t=e.length;let n=0;for(let s=t-1,r=0;r<t;s=r++)n+=e[s].x*e[r].y-e[r].x*e[s].y;return n*.5}static isClockWise(e){return wl.area(e)<0}static triangulateShape(e,t){const n=[],s=[],r=[];xR(e),gR(n,e);let o=e.length;t.forEach(xR);for(let d=0;d<t.length;d++)s.push(o),o+=t[d].length,gR(n,t[d]);const c=HV.triangulate(n,s);for(let d=0;d<c.length;d+=3)r.push(c.slice(d,d+3));return r}}function xR(i){const e=i.length;e>2&&i[e-1].equals(i[0])&&i.pop()}function gR(i,e){for(let t=0;t<e.length;t++)i.push(e[t].x),i.push(e[t].y)}class FS extends dn{constructor(e=new Sh([new Ke(.5,.5),new Ke(-.5,.5),new Ke(-.5,-.5),new Ke(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,s=[],r=[];for(let c=0,d=e.length;c<d;c++){const p=e[c];o(p)}this.setAttribute("position",new Ot(s,3)),this.setAttribute("uv",new Ot(r,2)),this.computeVertexNormals();function o(c){const d=[],p=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,g=t.depth!==void 0?t.depth:1;let y=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:.2,S=t.bevelSize!==void 0?t.bevelSize:b-.1,E=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const M=t.extrudePath,D=t.UVGenerator!==void 0?t.UVGenerator:GV;let R,L=!1,z,U,I,F;M&&(R=M.getSpacedPoints(m),L=!0,y=!1,z=M.computeFrenetFrames(m,!1),U=new te,I=new te,F=new te),y||(A=0,b=0,S=0,E=0);const P=c.extractPoints(p);let B=P.shape;const H=P.holes;if(!wl.isClockWise(B)){B=B.reverse();for(let Ce=0,J=H.length;Ce<J;Ce++){const Ve=H[Ce];wl.isClockWise(Ve)&&(H[Ce]=Ve.reverse())}}function ie(Ce){const Ve=10000000000000001e-36;let re=Ce[0];for(let Qe=1;Qe<=Ce.length;Qe++){const Xe=Qe%Ce.length,at=Ce[Xe],Ye=at.x-re.x,ct=at.y-re.y,$=Ye*Ye+ct*ct,k=Math.max(Math.abs(at.x),Math.abs(at.y),Math.abs(re.x),Math.abs(re.y)),xe=Ve*k*k;if($<=xe){Ce.splice(Xe,1),Qe--;continue}re=at}}ie(B),H.forEach(ie);const ue=H.length,fe=B;for(let Ce=0;Ce<ue;Ce++){const J=H[Ce];B=B.concat(J)}function V(Ce,J,Ve){return J||an("ExtrudeGeometry: vec does not exist"),Ce.clone().addScaledVector(J,Ve)}const X=B.length;function K(Ce,J,Ve){let re,Qe,Xe;const at=Ce.x-J.x,Ye=Ce.y-J.y,ct=Ve.x-Ce.x,$=Ve.y-Ce.y,k=at*at+Ye*Ye,xe=at*$-Ye*ct;if(Math.abs(xe)>Number.EPSILON){const Ue=Math.sqrt(k),Be=Math.sqrt(ct*ct+$*$),Re=J.x-Ye/Ue,ft=J.y+at/Ue,nt=Ve.x-$/Be,wt=Ve.y+ct/Be,ee=((nt-Re)*$-(wt-ft)*ct)/(at*$-Ye*ct);re=Re+at*ee-Ce.x,Qe=ft+Ye*ee-Ce.y;const Ae=re*re+Qe*Qe;if(Ae<=2)return new Ke(re,Qe);Xe=Math.sqrt(Ae/2)}else{let Ue=!1;at>Number.EPSILON?ct>Number.EPSILON&&(Ue=!0):at<-Number.EPSILON?ct<-Number.EPSILON&&(Ue=!0):Math.sign(Ye)===Math.sign($)&&(Ue=!0),Ue?(re=-Ye,Qe=at,Xe=Math.sqrt(k)):(re=at,Qe=Ye,Xe=Math.sqrt(k/2))}return new Ke(re/Xe,Qe/Xe)}const ce=[];for(let Ce=0,J=fe.length,Ve=J-1,re=Ce+1;Ce<J;Ce++,Ve++,re++)Ve===J&&(Ve=0),re===J&&(re=0),ce[Ce]=K(fe[Ce],fe[Ve],fe[re]);const Y=[];let W,ae=ce.concat();for(let Ce=0,J=ue;Ce<J;Ce++){const Ve=H[Ce];W=[];for(let re=0,Qe=Ve.length,Xe=Qe-1,at=re+1;re<Qe;re++,Xe++,at++)Xe===Qe&&(Xe=0),at===Qe&&(at=0),W[re]=K(Ve[re],Ve[Xe],Ve[at]);Y.push(W),ae=ae.concat(W)}let he;if(A===0)he=wl.triangulateShape(fe,H);else{const Ce=[],J=[];for(let Ve=0;Ve<A;Ve++){const re=Ve/A,Qe=b*Math.cos(re*Math.PI/2),Xe=S*Math.sin(re*Math.PI/2)+E;for(let at=0,Ye=fe.length;at<Ye;at++){const ct=V(fe[at],ce[at],Xe);tt(ct.x,ct.y,-Qe),re===0&&Ce.push(ct)}for(let at=0,Ye=ue;at<Ye;at++){const ct=H[at];W=Y[at];const $=[];for(let k=0,xe=ct.length;k<xe;k++){const Ue=V(ct[k],W[k],Xe);tt(Ue.x,Ue.y,-Qe),re===0&&$.push(Ue)}re===0&&J.push($)}}he=wl.triangulateShape(Ce,J)}const ye=he.length,Pe=S+E;for(let Ce=0;Ce<X;Ce++){const J=y?V(B[Ce],ae[Ce],Pe):B[Ce];L?(I.copy(z.normals[0]).multiplyScalar(J.x),U.copy(z.binormals[0]).multiplyScalar(J.y),F.copy(R[0]).add(I).add(U),tt(F.x,F.y,F.z)):tt(J.x,J.y,0)}for(let Ce=1;Ce<=m;Ce++)for(let J=0;J<X;J++){const Ve=y?V(B[J],ae[J],Pe):B[J];L?(I.copy(z.normals[Ce]).multiplyScalar(Ve.x),U.copy(z.binormals[Ce]).multiplyScalar(Ve.y),F.copy(R[Ce]).add(I).add(U),tt(F.x,F.y,F.z)):tt(Ve.x,Ve.y,g/m*Ce)}for(let Ce=A-1;Ce>=0;Ce--){const J=Ce/A,Ve=b*Math.cos(J*Math.PI/2),re=S*Math.sin(J*Math.PI/2)+E;for(let Qe=0,Xe=fe.length;Qe<Xe;Qe++){const at=V(fe[Qe],ce[Qe],re);tt(at.x,at.y,g+Ve)}for(let Qe=0,Xe=H.length;Qe<Xe;Qe++){const at=H[Qe];W=Y[Qe];for(let Ye=0,ct=at.length;Ye<ct;Ye++){const $=V(at[Ye],W[Ye],re);L?tt($.x,$.y+R[m-1].y,R[m-1].x+Ve):tt($.x,$.y,g+Ve)}}}pe(),_e();function pe(){const Ce=s.length/3;if(y){let J=0,Ve=X*J;for(let re=0;re<ye;re++){const Qe=he[re];pt(Qe[2]+Ve,Qe[1]+Ve,Qe[0]+Ve)}J=m+A*2,Ve=X*J;for(let re=0;re<ye;re++){const Qe=he[re];pt(Qe[0]+Ve,Qe[1]+Ve,Qe[2]+Ve)}}else{for(let J=0;J<ye;J++){const Ve=he[J];pt(Ve[2],Ve[1],Ve[0])}for(let J=0;J<ye;J++){const Ve=he[J];pt(Ve[0]+X*m,Ve[1]+X*m,Ve[2]+X*m)}}n.addGroup(Ce,s.length/3-Ce,0)}function _e(){const Ce=s.length/3;let J=0;We(fe,J),J+=fe.length;for(let Ve=0,re=H.length;Ve<re;Ve++){const Qe=H[Ve];We(Qe,J),J+=Qe.length}n.addGroup(Ce,s.length/3-Ce,1)}function We(Ce,J){let Ve=Ce.length;for(;--Ve>=0;){const re=Ve;let Qe=Ve-1;Qe<0&&(Qe=Ce.length-1);for(let Xe=0,at=m+A*2;Xe<at;Xe++){const Ye=X*Xe,ct=X*(Xe+1),$=J+re+Ye,k=J+Qe+Ye,xe=J+Qe+ct,Ue=J+re+ct;vt($,k,xe,Ue)}}}function tt(Ce,J,Ve){d.push(Ce),d.push(J),d.push(Ve)}function pt(Ce,J,Ve){Gt(Ce),Gt(J),Gt(Ve);const re=s.length/3,Qe=D.generateTopUV(n,s,re-3,re-2,re-1);et(Qe[0]),et(Qe[1]),et(Qe[2])}function vt(Ce,J,Ve,re){Gt(Ce),Gt(J),Gt(re),Gt(J),Gt(Ve),Gt(re);const Qe=s.length/3,Xe=D.generateSideWallUV(n,s,Qe-6,Qe-3,Qe-2,Qe-1);et(Xe[0]),et(Xe[1]),et(Xe[3]),et(Xe[1]),et(Xe[2]),et(Xe[3])}function Gt(Ce){s.push(d[Ce*3+0]),s.push(d[Ce*3+1]),s.push(d[Ce*3+2])}function et(Ce){r.push(Ce.x),r.push(Ce.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return XV(t,n,e)}static fromJSON(e,t){const n=[];for(let r=0,o=e.shapes.length;r<o;r++){const c=t[e.shapes[r]];n.push(c)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new H1[s.type]().fromJSON(s)),new FS(n,e.options)}}const GV={generateTopUV:function(i,e,t,n,s){const r=e[t*3],o=e[t*3+1],c=e[n*3],d=e[n*3+1],p=e[s*3],m=e[s*3+1];return[new Ke(r,o),new Ke(c,d),new Ke(p,m)]},generateSideWallUV:function(i,e,t,n,s,r){const o=e[t*3],c=e[t*3+1],d=e[t*3+2],p=e[n*3],m=e[n*3+1],g=e[n*3+2],y=e[s*3],b=e[s*3+1],S=e[s*3+2],E=e[r*3],A=e[r*3+1],M=e[r*3+2];return Math.abs(c-m)<Math.abs(o-p)?[new Ke(o,1-d),new Ke(p,1-g),new Ke(y,1-S),new Ke(E,1-M)]:[new Ke(c,1-d),new Ke(m,1-g),new Ke(b,1-S),new Ke(A,1-M)]}};function XV(i,e,t){if(t.shapes=[],Array.isArray(i))for(let n=0,s=i.length;n<s;n++){const r=i[n];t.shapes.push(r.uuid)}else t.shapes.push(i.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class VS extends Gf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,s=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,r,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new VS(e.radius,e.detail)}}class kS extends dn{constructor(e=[new Ke(0,-.5),new Ke(.5,0),new Ke(0,.5)],t=12,n=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:s},t=Math.floor(t),s=Jt(s,0,Math.PI*2);const r=[],o=[],c=[],d=[],p=[],m=1/t,g=new te,y=new Ke,b=new te,S=new te,E=new te;let A=0,M=0;for(let D=0;D<=e.length-1;D++)switch(D){case 0:A=e[D+1].x-e[D].x,M=e[D+1].y-e[D].y,b.x=M*1,b.y=-A,b.z=M*0,E.copy(b),b.normalize(),d.push(b.x,b.y,b.z);break;case e.length-1:d.push(E.x,E.y,E.z);break;default:A=e[D+1].x-e[D].x,M=e[D+1].y-e[D].y,b.x=M*1,b.y=-A,b.z=M*0,S.copy(b),b.x+=E.x,b.y+=E.y,b.z+=E.z,b.normalize(),d.push(b.x,b.y,b.z),E.copy(S)}for(let D=0;D<=t;D++){const R=n+D*m*s,L=Math.sin(R),z=Math.cos(R);for(let U=0;U<=e.length-1;U++){g.x=e[U].x*L,g.y=e[U].y,g.z=e[U].x*z,o.push(g.x,g.y,g.z),y.x=D/t,y.y=U/(e.length-1),c.push(y.x,y.y);const I=d[3*U+0]*L,F=d[3*U+1],P=d[3*U+0]*z;p.push(I,F,P)}}for(let D=0;D<t;D++)for(let R=0;R<e.length-1;R++){const L=R+D*e.length,z=L,U=L+e.length,I=L+e.length+1,F=L+1;r.push(z,U,F),r.push(I,F,U)}this.setIndex(r),this.setAttribute("position",new Ot(o,3)),this.setAttribute("uv",new Ot(c,2)),this.setAttribute("normal",new Ot(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kS(e.points,e.segments,e.phiStart,e.phiLength)}}class Xv extends Gf{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,s,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Xv(e.radius,e.detail)}}class b0 extends dn{constructor(e=1,t=1,n=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:s};const r=e/2,o=t/2,c=Math.floor(n),d=Math.floor(s),p=c+1,m=d+1,g=e/c,y=t/d,b=[],S=[],E=[],A=[];for(let M=0;M<m;M++){const D=M*y-o;for(let R=0;R<p;R++){const L=R*g-r;S.push(L,-D,0),E.push(0,0,1),A.push(R/c),A.push(1-M/d)}}for(let M=0;M<d;M++)for(let D=0;D<c;D++){const R=D+p*M,L=D+p*(M+1),z=D+1+p*(M+1),U=D+1+p*M;b.push(R,L,U),b.push(L,z,U)}this.setIndex(b),this.setAttribute("position",new Ot(S,3)),this.setAttribute("normal",new Ot(E,3)),this.setAttribute("uv",new Ot(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new b0(e.width,e.height,e.widthSegments,e.heightSegments)}}class HS extends dn{constructor(e=.5,t=1,n=32,s=1,r=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:s,thetaStart:r,thetaLength:o},n=Math.max(3,n),s=Math.max(1,s);const c=[],d=[],p=[],m=[];let g=e;const y=(t-e)/s,b=new te,S=new Ke;for(let E=0;E<=s;E++){for(let A=0;A<=n;A++){const M=r+A/n*o;b.x=g*Math.cos(M),b.y=g*Math.sin(M),d.push(b.x,b.y,b.z),p.push(0,0,1),S.x=(b.x/t+1)/2,S.y=(b.y/t+1)/2,m.push(S.x,S.y)}g+=y}for(let E=0;E<s;E++){const A=E*(n+1);for(let M=0;M<n;M++){const D=M+A,R=D,L=D+n+1,z=D+n+2,U=D+1;c.push(R,L,U),c.push(L,z,U)}}this.setIndex(c),this.setAttribute("position",new Ot(d,3)),this.setAttribute("normal",new Ot(p,3)),this.setAttribute("uv",new Ot(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new HS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class GS extends dn{constructor(e=new Sh([new Ke(0,.5),new Ke(-.5,-.5),new Ke(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],s=[],r=[],o=[];let c=0,d=0;if(Array.isArray(e)===!1)p(e);else for(let m=0;m<e.length;m++)p(e[m]),this.addGroup(c,d,m),c+=d,d=0;this.setIndex(n),this.setAttribute("position",new Ot(s,3)),this.setAttribute("normal",new Ot(r,3)),this.setAttribute("uv",new Ot(o,2));function p(m){const g=s.length/3,y=m.extractPoints(t);let b=y.shape;const S=y.holes;wl.isClockWise(b)===!1&&(b=b.reverse());for(let A=0,M=S.length;A<M;A++){const D=S[A];wl.isClockWise(D)===!0&&(S[A]=D.reverse())}const E=wl.triangulateShape(b,S);for(let A=0,M=S.length;A<M;A++){const D=S[A];b=b.concat(D)}for(let A=0,M=b.length;A<M;A++){const D=b[A];s.push(D.x,D.y,0),r.push(0,0,1),o.push(D.x,D.y)}for(let A=0,M=E.length;A<M;A++){const D=E[A],R=D[0]+g,L=D[1]+g,z=D[2]+g;n.push(R,L,z),d+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return qV(t,e)}static fromJSON(e,t){const n=[];for(let s=0,r=e.shapes.length;s<r;s++){const o=t[e.shapes[s]];n.push(o)}return new GS(n,e.curveSegments)}}function qV(i,e){if(e.shapes=[],Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const s=i[t];e.shapes.push(s.uuid)}else e.shapes.push(i.uuid);return e}class qv extends dn{constructor(e=1,t=32,n=16,s=0,r=Math.PI*2,o=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:s,phiLength:r,thetaStart:o,thetaLength:c},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const d=Math.min(o+c,Math.PI);let p=0;const m=[],g=new te,y=new te,b=[],S=[],E=[],A=[];for(let M=0;M<=n;M++){const D=[],R=M/n;let L=0;M===0&&o===0?L=.5/t:M===n&&d===Math.PI&&(L=-.5/t);for(let z=0;z<=t;z++){const U=z/t;g.x=-e*Math.cos(s+U*r)*Math.sin(o+R*c),g.y=e*Math.cos(o+R*c),g.z=e*Math.sin(s+U*r)*Math.sin(o+R*c),S.push(g.x,g.y,g.z),y.copy(g).normalize(),E.push(y.x,y.y,y.z),A.push(U+L,1-R),D.push(p++)}m.push(D)}for(let M=0;M<n;M++)for(let D=0;D<t;D++){const R=m[M][D+1],L=m[M][D],z=m[M+1][D],U=m[M+1][D+1];(M!==0||o>0)&&b.push(R,L,U),(M!==n-1||d<Math.PI)&&b.push(L,z,U)}this.setIndex(b),this.setAttribute("position",new Ot(S,3)),this.setAttribute("normal",new Ot(E,3)),this.setAttribute("uv",new Ot(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qv(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class XS extends Gf{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,s,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new XS(e.radius,e.detail)}}class qS extends dn{constructor(e=1,t=.4,n=12,s=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:s,arc:r},n=Math.floor(n),s=Math.floor(s);const o=[],c=[],d=[],p=[],m=new te,g=new te,y=new te;for(let b=0;b<=n;b++)for(let S=0;S<=s;S++){const E=S/s*r,A=b/n*Math.PI*2;g.x=(e+t*Math.cos(A))*Math.cos(E),g.y=(e+t*Math.cos(A))*Math.sin(E),g.z=t*Math.sin(A),c.push(g.x,g.y,g.z),m.x=e*Math.cos(E),m.y=e*Math.sin(E),y.subVectors(g,m).normalize(),d.push(y.x,y.y,y.z),p.push(S/s),p.push(b/n)}for(let b=1;b<=n;b++)for(let S=1;S<=s;S++){const E=(s+1)*b+S-1,A=(s+1)*(b-1)+S-1,M=(s+1)*(b-1)+S,D=(s+1)*b+S;o.push(E,A,D),o.push(A,M,D)}this.setIndex(o),this.setAttribute("position",new Ot(c,3)),this.setAttribute("normal",new Ot(d,3)),this.setAttribute("uv",new Ot(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qS(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class WS extends dn{constructor(e=1,t=.4,n=64,s=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:s,p:r,q:o},n=Math.floor(n),s=Math.floor(s);const c=[],d=[],p=[],m=[],g=new te,y=new te,b=new te,S=new te,E=new te,A=new te,M=new te;for(let R=0;R<=n;++R){const L=R/n*r*Math.PI*2;D(L,r,o,e,b),D(L+.01,r,o,e,S),A.subVectors(S,b),M.addVectors(S,b),E.crossVectors(A,M),M.crossVectors(E,A),E.normalize(),M.normalize();for(let z=0;z<=s;++z){const U=z/s*Math.PI*2,I=-t*Math.cos(U),F=t*Math.sin(U);g.x=b.x+(I*M.x+F*E.x),g.y=b.y+(I*M.y+F*E.y),g.z=b.z+(I*M.z+F*E.z),d.push(g.x,g.y,g.z),y.subVectors(g,b).normalize(),p.push(y.x,y.y,y.z),m.push(R/n),m.push(z/s)}}for(let R=1;R<=n;R++)for(let L=1;L<=s;L++){const z=(s+1)*(R-1)+(L-1),U=(s+1)*R+(L-1),I=(s+1)*R+L,F=(s+1)*(R-1)+L;c.push(z,U,F),c.push(U,I,F)}this.setIndex(c),this.setAttribute("position",new Ot(d,3)),this.setAttribute("normal",new Ot(p,3)),this.setAttribute("uv",new Ot(m,2));function D(R,L,z,U,I){const F=Math.cos(R),P=Math.sin(R),B=z/L*R,H=Math.cos(B);I.x=U*(2+H)*.5*F,I.y=U*(2+H)*P*.5,I.z=U*Math.sin(B)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new WS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class YS extends dn{constructor(e=new aE(new te(-1,-1,0),new te(-1,1,0),new te(1,1,0)),t=64,n=1,s=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:s,closed:r};const o=e.computeFrenetFrames(t,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const c=new te,d=new te,p=new Ke;let m=new te;const g=[],y=[],b=[],S=[];E(),this.setIndex(S),this.setAttribute("position",new Ot(g,3)),this.setAttribute("normal",new Ot(y,3)),this.setAttribute("uv",new Ot(b,2));function E(){for(let R=0;R<t;R++)A(R);A(r===!1?t:0),D(),M()}function A(R){m=e.getPointAt(R/t,m);const L=o.normals[R],z=o.binormals[R];for(let U=0;U<=s;U++){const I=U/s*Math.PI*2,F=Math.sin(I),P=-Math.cos(I);d.x=P*L.x+F*z.x,d.y=P*L.y+F*z.y,d.z=P*L.z+F*z.z,d.normalize(),y.push(d.x,d.y,d.z),c.x=m.x+n*d.x,c.y=m.y+n*d.y,c.z=m.z+n*d.z,g.push(c.x,c.y,c.z)}}function M(){for(let R=1;R<=t;R++)for(let L=1;L<=s;L++){const z=(s+1)*(R-1)+(L-1),U=(s+1)*R+(L-1),I=(s+1)*R+L,F=(s+1)*(R-1)+L;S.push(z,U,F),S.push(U,I,F)}}function D(){for(let R=0;R<=t;R++)for(let L=0;L<=s;L++)p.x=R/t,p.y=L/s,b.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new YS(new H1[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class NO extends dn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,s=new te,r=new te;if(e.index!==null){const o=e.attributes.position,c=e.index;let d=e.groups;d.length===0&&(d=[{start:0,count:c.count,materialIndex:0}]);for(let p=0,m=d.length;p<m;++p){const g=d[p],y=g.start,b=g.count;for(let S=y,E=y+b;S<E;S+=3)for(let A=0;A<3;A++){const M=c.getX(S+A),D=c.getX(S+(A+1)%3);s.fromBufferAttribute(o,M),r.fromBufferAttribute(o,D),vR(s,r,n)===!0&&(t.push(s.x,s.y,s.z),t.push(r.x,r.y,r.z))}}}else{const o=e.attributes.position;for(let c=0,d=o.count/3;c<d;c++)for(let p=0;p<3;p++){const m=3*c+p,g=3*c+(p+1)%3;s.fromBufferAttribute(o,m),r.fromBufferAttribute(o,g),vR(s,r,n)===!0&&(t.push(s.x,s.y,s.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new Ot(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function vR(i,e,t){const n=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`;return t.has(n)===!0||t.has(s)===!0?!1:(t.add(n),t.add(s),!0)}var yR=Object.freeze({__proto__:null,BoxGeometry:Vh,CapsuleGeometry:PS,CircleGeometry:BS,ConeGeometry:Gv,CylinderGeometry:Hv,DodecahedronGeometry:IS,EdgesGeometry:yO,ExtrudeGeometry:FS,IcosahedronGeometry:VS,LatheGeometry:kS,OctahedronGeometry:Xv,PlaneGeometry:b0,PolyhedronGeometry:Gf,RingGeometry:HS,ShapeGeometry:GS,SphereGeometry:qv,TetrahedronGeometry:XS,TorusGeometry:qS,TorusKnotGeometry:WS,TubeGeometry:YS,WireframeGeometry:NO});class RO extends Pa{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Tt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class DO extends fo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class oE extends Pa{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Tt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kf,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new uo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LO extends oE{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ke(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Jt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Tt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Tt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Tt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class OO extends Pa{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Tt(16777215),this.specular=new Tt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kf,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new uo,this.combine=Fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class UO extends Pa{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Tt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kf,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class zO extends Pa{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kf,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class PO extends Pa{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Tt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Tt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kf,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new uo,this.combine=Fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lE extends Pa{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=qL,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class cE extends Pa{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class BO extends Pa{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Tt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=kf,this.normalScale=new Ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class IO extends dr{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function hh(i,e){return!i||i.constructor===e?i:typeof e.BYTES_PER_ELEMENT=="number"?new e(i):Array.prototype.slice.call(i)}function jO(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function FO(i){function e(s,r){return i[s]-i[r]}const t=i.length,n=new Array(t);for(let s=0;s!==t;++s)n[s]=s;return n.sort(e),n}function pT(i,e,t){const n=i.length,s=new i.constructor(n);for(let r=0,o=0;o!==n;++r){const c=t[r]*e;for(let d=0;d!==e;++d)s[o++]=i[c+d]}return s}function uE(i,e,t,n){let s=1,r=i[0];for(;r!==void 0&&r[n]===void 0;)r=i[s++];if(r===void 0)return;let o=r[n];if(o!==void 0)if(Array.isArray(o))do o=r[n],o!==void 0&&(e.push(r.time),t.push(...o)),r=i[s++];while(r!==void 0);else if(o.toArray!==void 0)do o=r[n],o!==void 0&&(e.push(r.time),o.toArray(t,t.length)),r=i[s++];while(r!==void 0);else do o=r[n],o!==void 0&&(e.push(r.time),t.push(o)),r=i[s++];while(r!==void 0)}function WV(i,e,t,n,s=30){const r=i.clone();r.name=e;const o=[];for(let d=0;d<r.tracks.length;++d){const p=r.tracks[d],m=p.getValueSize(),g=[],y=[];for(let b=0;b<p.times.length;++b){const S=p.times[b]*s;if(!(S<t||S>=n)){g.push(p.times[b]);for(let E=0;E<m;++E)y.push(p.values[b*m+E])}}g.length!==0&&(p.times=hh(g,p.times.constructor),p.values=hh(y,p.values.constructor),o.push(p))}r.tracks=o;let c=1/0;for(let d=0;d<r.tracks.length;++d)c>r.tracks[d].times[0]&&(c=r.tracks[d].times[0]);for(let d=0;d<r.tracks.length;++d)r.tracks[d].shift(-1*c);return r.resetDuration(),r}function YV(i,e=0,t=i,n=30){n<=0&&(n=30);const s=t.tracks.length,r=e/n;for(let o=0;o<s;++o){const c=t.tracks[o],d=c.ValueTypeName;if(d==="bool"||d==="string")continue;const p=i.tracks.find(function(M){return M.name===c.name&&M.ValueTypeName===d});if(p===void 0)continue;let m=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=g/3);let y=0;const b=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=b/3);const S=c.times.length-1;let E;if(r<=c.times[0]){const M=m,D=g-m;E=c.values.slice(M,D)}else if(r>=c.times[S]){const M=S*g+m,D=M+g-m;E=c.values.slice(M,D)}else{const M=c.createInterpolant(),D=m,R=g-m;M.evaluate(r),E=M.resultBuffer.slice(D,R)}d==="quaternion"&&new Or().fromArray(E).normalize().conjugate().toArray(E);const A=p.times.length;for(let M=0;M<A;++M){const D=M*b+y;if(d==="quaternion")Or.multiplyQuaternionsFlat(p.values,D,E,0,p.values,D);else{const R=b-y*2;for(let L=0;L<R;++L)p.values[D+L]-=E[L]}}}return i.blendMode=Gw,i}class ZV{static convertArray(e,t){return hh(e,t)}static isTypedArray(e){return jO(e)}static getKeyframeOrder(e){return FO(e)}static sortedArray(e,t,n){return pT(e,t,n)}static flattenJSON(e,t,n,s){uE(e,t,n,s)}static subclip(e,t,n,s,r=30){return WV(e,t,n,s,r)}static makeClipAdditive(e,t=0,n=e,s=30){return YV(e,t,n,s)}}class Wv{constructor(e,t,n,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,s=t[n],r=t[n-1];e:{t:{let o;n:{i:if(!(e<s)){for(let c=n+2;;){if(s===void 0){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===c)break;if(r=s,s=t[++n],e<s)break t}o=t.length;break n}if(!(e>=r)){const c=t[1];e<c&&(n=2,r=c);for(let d=n-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===d)break;if(s=r,r=t[--n-1],e>=r)break t}o=n,n=0;break n}break e}for(;n<o;){const c=n+o>>>1;e<t[c]?o=c:n=c+1}if(s=t[n],r=t[n-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,r,s)}return this.interpolate_(n,r,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,s=this.valueSize,r=e*s;for(let o=0;o!==s;++o)t[o]=n[r+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class VO extends Wv{constructor(e,t,n,s){super(e,t,n,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:fh,endingEnd:fh}}intervalChanged_(e,t,n){const s=this.parameterPositions;let r=e-2,o=e+1,c=s[r],d=s[o];if(c===void 0)switch(this.getSettings_().endingStart){case dh:r=e,c=2*t-n;break;case cv:r=s.length-2,c=t+s[r]-s[r+1];break;default:r=e,c=n}if(d===void 0)switch(this.getSettings_().endingEnd){case dh:o=e,d=2*n-t;break;case cv:o=1,d=n+s[1]-s[0];break;default:o=e-1,d=t}const p=(n-t)*.5,m=this.valueSize;this._weightPrev=p/(t-c),this._weightNext=p/(d-n),this._offsetPrev=r*m,this._offsetNext=o*m}interpolate_(e,t,n,s){const r=this.resultBuffer,o=this.sampleValues,c=this.valueSize,d=e*c,p=d-c,m=this._offsetPrev,g=this._offsetNext,y=this._weightPrev,b=this._weightNext,S=(n-t)/(s-t),E=S*S,A=E*S,M=-y*A+2*y*E-y*S,D=(1+y)*A+(-1.5-2*y)*E+(-.5+y)*S+1,R=(-1-b)*A+(1.5+b)*E+.5*S,L=b*A-b*E;for(let z=0;z!==c;++z)r[z]=M*o[m+z]+D*o[p+z]+R*o[d+z]+L*o[g+z];return r}}class fE extends Wv{constructor(e,t,n,s){super(e,t,n,s)}interpolate_(e,t,n,s){const r=this.resultBuffer,o=this.sampleValues,c=this.valueSize,d=e*c,p=d-c,m=(n-t)/(s-t),g=1-m;for(let y=0;y!==c;++y)r[y]=o[p+y]*g+o[d+y]*m;return r}}class kO extends Wv{constructor(e,t,n,s){super(e,t,n,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class Wo{constructor(e,t,n,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=hh(t,this.TimeBufferType),this.values=hh(n,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:hh(e.times,Array),values:hh(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(n.interpolation=s)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new kO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new fE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new VO(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case lv:t=this.InterpolantFactoryMethodDiscrete;break;case F1:t=this.InterpolantFactoryMethodLinear;break;case Pb:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return St("KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return lv;case this.InterpolantFactoryMethodLinear:return F1;case this.InterpolantFactoryMethodSmooth:return Pb}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,s=t.length;n!==s;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,s=t.length;n!==s;++n)t[n]*=e}return this}trim(e,t){const n=this.times,s=n.length;let r=0,o=s-1;for(;r!==s&&n[r]<e;)++r;for(;o!==-1&&n[o]>t;)--o;if(++o,r!==0||o!==s){r>=o&&(o=Math.max(o,1),r=o-1);const c=this.getValueSize();this.times=n.slice(r,o),this.values=this.values.slice(r*c,o*c)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(an("KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,s=this.values,r=n.length;r===0&&(an("KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let c=0;c!==r;c++){const d=n[c];if(typeof d=="number"&&isNaN(d)){an("KeyframeTrack: Time is not a valid number.",this,c,d),e=!1;break}if(o!==null&&o>d){an("KeyframeTrack: Out of order keys.",this,c,d,o),e=!1;break}o=d}if(s!==void 0&&jO(s))for(let c=0,d=s.length;c!==d;++c){const p=s[c];if(isNaN(p)){an("KeyframeTrack: Value is not a valid number.",this,c,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),s=this.getInterpolation()===Pb,r=e.length-1;let o=1;for(let c=1;c<r;++c){let d=!1;const p=e[c],m=e[c+1];if(p!==m&&(c!==1||p!==e[0]))if(s)d=!0;else{const g=c*n,y=g-n,b=g+n;for(let S=0;S!==n;++S){const E=t[g+S];if(E!==t[y+S]||E!==t[b+S]){d=!0;break}}}if(d){if(c!==o){e[o]=e[c];const g=c*n,y=o*n;for(let b=0;b!==n;++b)t[y+b]=t[g+b]}++o}}if(r>0){e[o]=e[r];for(let c=r*n,d=o*n,p=0;p!==n;++p)t[d+p]=t[c+p];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,s=new n(this.name,e,t);return s.createInterpolant=this.createInterpolant,s}}Wo.prototype.ValueTypeName="";Wo.prototype.TimeBufferType=Float32Array;Wo.prototype.ValueBufferType=Float32Array;Wo.prototype.DefaultInterpolation=F1;class kh extends Wo{constructor(e,t,n){super(e,t,n)}}kh.prototype.ValueTypeName="bool";kh.prototype.ValueBufferType=Array;kh.prototype.DefaultInterpolation=lv;kh.prototype.InterpolantFactoryMethodLinear=void 0;kh.prototype.InterpolantFactoryMethodSmooth=void 0;class dE extends Wo{constructor(e,t,n,s){super(e,t,n,s)}}dE.prototype.ValueTypeName="color";class gv extends Wo{constructor(e,t,n,s){super(e,t,n,s)}}gv.prototype.ValueTypeName="number";class HO extends Wv{constructor(e,t,n,s){super(e,t,n,s)}interpolate_(e,t,n,s){const r=this.resultBuffer,o=this.sampleValues,c=this.valueSize,d=(n-t)/(s-t);let p=e*c;for(let m=p+c;p!==m;p+=4)Or.slerpFlat(r,0,o,p-c,o,p,d);return r}}class Yv extends Wo{constructor(e,t,n,s){super(e,t,n,s)}InterpolantFactoryMethodLinear(e){return new HO(this.times,this.values,this.getValueSize(),e)}}Yv.prototype.ValueTypeName="quaternion";Yv.prototype.InterpolantFactoryMethodSmooth=void 0;class Hh extends Wo{constructor(e,t,n){super(e,t,n)}}Hh.prototype.ValueTypeName="string";Hh.prototype.ValueBufferType=Array;Hh.prototype.DefaultInterpolation=lv;Hh.prototype.InterpolantFactoryMethodLinear=void 0;Hh.prototype.InterpolantFactoryMethodSmooth=void 0;class vv extends Wo{constructor(e,t,n,s){super(e,t,n,s)}}vv.prototype.ValueTypeName="vector";class yv{constructor(e="",t=-1,n=[],s=wS){this.name=e,this.tracks=n,this.duration=t,this.blendMode=s,this.uuid=lo(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,s=1/(e.fps||1);for(let o=0,c=n.length;o!==c;++o)t.push(QV(n[o]).scale(s));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r.userData=JSON.parse(e.userData||"{}"),r}static toJSON(e){const t=[],n=e.tracks,s={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let r=0,o=n.length;r!==o;++r)t.push(Wo.toJSON(n[r]));return s}static CreateFromMorphTargetSequence(e,t,n,s){const r=t.length,o=[];for(let c=0;c<r;c++){let d=[],p=[];d.push((c+r-1)%r,c,(c+1)%r),p.push(0,1,0);const m=FO(d);d=pT(d,1,m),p=pT(p,1,m),!s&&d[0]===0&&(d.push(r),p.push(p[0])),o.push(new gv(".morphTargetInfluences["+t[c].name+"]",d,p).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const s=e;n=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<n.length;s++)if(n[s].name===t)return n[s];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const s={},r=/^([\w-]*?)([\d]+)$/;for(let c=0,d=e.length;c<d;c++){const p=e[c],m=p.name.match(r);if(m&&m.length>1){const g=m[1];let y=s[g];y||(s[g]=y=[]),y.push(p)}}const o=[];for(const c in s)o.push(this.CreateFromMorphTargetSequence(c,s[c],t,n));return o}static parseAnimation(e,t){if(St("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return an("AnimationClip: No animation in JSONLoader data."),null;const n=function(g,y,b,S,E){if(b.length!==0){const A=[],M=[];uE(b,A,M,S),A.length!==0&&E.push(new g(y,A,M))}},s=[],r=e.name||"default",o=e.fps||30,c=e.blendMode;let d=e.length||-1;const p=e.hierarchy||[];for(let g=0;g<p.length;g++){const y=p[g].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const b={};let S;for(S=0;S<y.length;S++)if(y[S].morphTargets)for(let E=0;E<y[S].morphTargets.length;E++)b[y[S].morphTargets[E]]=-1;for(const E in b){const A=[],M=[];for(let D=0;D!==y[S].morphTargets.length;++D){const R=y[S];A.push(R.time),M.push(R.morphTarget===E?1:0)}s.push(new gv(".morphTargetInfluence["+E+"]",A,M))}d=b.length*o}else{const b=".bones["+t[g].name+"]";n(vv,b+".position",y,"pos",s),n(Yv,b+".quaternion",y,"rot",s),n(vv,b+".scale",y,"scl",s)}}return s.length===0?null:new this(r,d,s,c)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,s=e.length;n!==s;++n){const r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function KV(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return gv;case"vector":case"vector2":case"vector3":case"vector4":return vv;case"color":return dE;case"quaternion":return Yv;case"bool":case"boolean":return kh;case"string":return Hh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}function QV(i){if(i.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=KV(i.type);if(i.times===void 0){const t=[],n=[];uE(i.keys,t,n,"value"),i.times=t,i.values=n}return e.parse!==void 0?e.parse(i):new e(i.name,i.times,i.values,i.interpolation)}const mc={enabled:!1,files:{},add:function(i,e){this.enabled!==!1&&(this.files[i]=e)},get:function(i){if(this.enabled!==!1)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class hE{constructor(e,t,n){const s=this;let r=!1,o=0,c=0,d;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(m){c++,r===!1&&s.onStart!==void 0&&s.onStart(m,o,c),r=!0},this.itemEnd=function(m){o++,s.onProgress!==void 0&&s.onProgress(m,o,c),o===c&&(r=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(m){s.onError!==void 0&&s.onError(m)},this.resolveURL=function(m){return d?d(m):m},this.setURLModifier=function(m){return d=m,this},this.addHandler=function(m,g){return p.push(m,g),this},this.removeHandler=function(m){const g=p.indexOf(m);return g!==-1&&p.splice(g,2),this},this.getHandler=function(m){for(let g=0,y=p.length;g<y;g+=2){const b=p[g],S=p[g+1];if(b.global&&(b.lastIndex=0),b.test(m))return S}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const GO=new hE;class jr{constructor(e){this.manager=e!==void 0?e:GO,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(s,r){n.load(e,s,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}jr.DEFAULT_MATERIAL_NAME="__DEFAULT";const ou={};class JV extends Error{constructor(e,t){super(e),this.response=t}}class Su extends jr{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=mc.get(`file:${e}`);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(ou[e]!==void 0){ou[e].push({onLoad:t,onProgress:n,onError:s});return}ou[e]=[],ou[e].push({onLoad:t,onProgress:n,onError:s});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),c=this.mimeType,d=this.responseType;fetch(o).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&St("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=ou[e],g=p.body.getReader(),y=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),b=y?parseInt(y):0,S=b!==0;let E=0;const A=new ReadableStream({start(M){D();function D(){g.read().then(({done:R,value:L})=>{if(R)M.close();else{E+=L.byteLength;const z=new ProgressEvent("progress",{lengthComputable:S,loaded:E,total:b});for(let U=0,I=m.length;U<I;U++){const F=m[U];F.onProgress&&F.onProgress(z)}M.enqueue(L),D()}},R=>{M.error(R)})}}});return new Response(A)}else throw new JV(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(d){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,c));case"json":return p.json();default:if(c==="")return p.text();{const g=/charset="?([^;"\s]*)"?/i.exec(c),y=g&&g[1]?g[1].toLowerCase():void 0,b=new TextDecoder(y);return p.arrayBuffer().then(S=>b.decode(S))}}}).then(p=>{mc.add(`file:${e}`,p);const m=ou[e];delete ou[e];for(let g=0,y=m.length;g<y;g++){const b=m[g];b.onLoad&&b.onLoad(p)}}).catch(p=>{const m=ou[e];if(m===void 0)throw this.manager.itemError(e),p;delete ou[e];for(let g=0,y=m.length;g<y;g++){const b=m[g];b.onError&&b.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class $V extends jr{constructor(e){super(e)}load(e,t,n,s){const r=this,o=new Su(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{t(r.parse(JSON.parse(c)))}catch(d){s?s(d):an(d),r.manager.itemError(e)}},n,s)}parse(e){const t=[];for(let n=0;n<e.length;n++){const s=yv.parse(e[n]);t.push(s)}return t}}class ek extends jr{constructor(e){super(e)}load(e,t,n,s){const r=this,o=[],c=new zS,d=new Su(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(r.withCredentials);let p=0;function m(g){d.load(e[g],function(y){const b=r.parse(y,!0);o[g]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},p+=1,p===6&&(b.mipmapCount===1&&(c.minFilter=fs),c.image=o,c.format=b.format,c.needsUpdate=!0,t&&t(c))},n,s)}if(Array.isArray(e))for(let g=0,y=e.length;g<y;++g)m(g);else d.load(e,function(g){const y=r.parse(g,!0);if(y.isCubemap){const b=y.mipmaps.length/y.mipmapCount;for(let S=0;S<b;S++){o[S]={mipmaps:[]};for(let E=0;E<y.mipmapCount;E++)o[S].mipmaps.push(y.mipmaps[S*y.mipmapCount+E]),o[S].format=y.format,o[S].width=y.width,o[S].height=y.height}c.image=o}else c.image.width=y.width,c.image.height=y.height,c.mipmaps=y.mipmaps;y.mipmapCount===1&&(c.minFilter=fs),c.format=y.format,c.needsUpdate=!0,t&&t(c)},n,s);return c}}const hm=new WeakMap;class _v extends jr{constructor(e){super(e)}load(e,t,n,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=mc.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0);else{let g=hm.get(o);g===void 0&&(g=[],hm.set(o,g)),g.push({onLoad:t,onError:s})}return o}const c=dv("img");function d(){m(),t&&t(this);const g=hm.get(this)||[];for(let y=0;y<g.length;y++){const b=g[y];b.onLoad&&b.onLoad(this)}hm.delete(this),r.manager.itemEnd(e)}function p(g){m(),s&&s(g),mc.remove(`image:${e}`);const y=hm.get(this)||[];for(let b=0;b<y.length;b++){const S=y[b];S.onError&&S.onError(g)}hm.delete(this),r.manager.itemError(e),r.manager.itemEnd(e)}function m(){c.removeEventListener("load",d,!1),c.removeEventListener("error",p,!1)}return c.addEventListener("load",d,!1),c.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),mc.add(`image:${e}`,c),r.manager.itemStart(e),c.src=e,c}}class tk extends jr{constructor(e){super(e)}load(e,t,n,s){const r=new kv;r.colorSpace=Ca;const o=new _v(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let c=0;function d(p){o.load(e[p],function(m){r.images[p]=m,c++,c===6&&(r.needsUpdate=!0,t&&t(r))},void 0,s)}for(let p=0;p<e.length;++p)d(p);return r}}class nk extends jr{constructor(e){super(e)}load(e,t,n,s){const r=this,o=new El,c=new Su(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(r.withCredentials),c.load(e,function(d){let p;try{p=r.parse(d)}catch(m){if(s!==void 0)s(m);else{m(m);return}}p.image!==void 0?o.image=p.image:p.data!==void 0&&(o.image.width=p.width,o.image.height=p.height,o.image.data=p.data),o.wrapS=p.wrapS!==void 0?p.wrapS:Nr,o.wrapT=p.wrapT!==void 0?p.wrapT:Nr,o.magFilter=p.magFilter!==void 0?p.magFilter:fs,o.minFilter=p.minFilter!==void 0?p.minFilter:fs,o.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(o.colorSpace=p.colorSpace),p.flipY!==void 0&&(o.flipY=p.flipY),p.format!==void 0&&(o.format=p.format),p.type!==void 0&&(o.type=p.type),p.mipmaps!==void 0&&(o.mipmaps=p.mipmaps,o.minFilter=pc),p.mipmapCount===1&&(o.minFilter=fs),p.generateMipmaps!==void 0&&(o.generateMipmaps=p.generateMipmaps),o.needsUpdate=!0,t&&t(o,p)},n,s),o}}class ik extends jr{constructor(e){super(e)}load(e,t,n,s){const r=new ts,o=new _v(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(c){r.image=c,r.needsUpdate=!0,t!==void 0&&t(r)},n,s),r}}class Xf extends Zn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Tt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class XO extends Xf{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Tt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const VM=new $t,_R=new te,bR=new te;class pE{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ke(512,512),this.mapType=qo,this.map=null,this.mapPass=null,this.matrix=new $t,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new _0,this._frameExtents=new Ke(1,1),this._viewportCount=1,this._viewports=[new Yn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;_R.setFromMatrixPosition(e.matrixWorld),t.position.copy(_R),bR.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(bR),t.updateMatrixWorld(),VM.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(VM,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(VM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class sk extends pE{constructor(){super(new Ks(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=$m*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height*this.aspect,r=e.distance||t.far;(n!==t.fov||s!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=s,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class qO extends Xf{constructor(e,t,n=0,s=Math.PI/3,r=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.target=new Zn,this.distance=n,this.angle=s,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new sk}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const SR=new $t,cg=new te,kM=new te;class ak extends pE{constructor(){super(new Ks(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ke(4,2),this._viewportCount=6,this._viewports=[new Yn(2,1,1,1),new Yn(0,1,1,1),new Yn(3,1,1,1),new Yn(1,1,1,1),new Yn(3,0,1,1),new Yn(1,0,1,1)],this._cubeDirections=[new te(1,0,0),new te(-1,0,0),new te(0,0,1),new te(0,0,-1),new te(0,1,0),new te(0,-1,0)],this._cubeUps=[new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,0,1),new te(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,s=this.matrix,r=e.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),cg.setFromMatrixPosition(e.matrixWorld),n.position.copy(cg),kM.copy(n.position),kM.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(kM),n.updateMatrixWorld(),s.makeTranslation(-cg.x,-cg.y,-cg.z),SR.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(SR,n.coordinateSystem,n.reversedDepth)}}class WO extends Xf{constructor(e,t,n=0,s=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=s,this.shadow=new ak}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Zv extends CS{constructor(e=-1,t=1,n=1,s=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=s,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,s,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=n-e,o=n+e,c=s+t,d=s-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=p*this.view.offsetX,o=r+p*this.view.width,c-=m*this.view.offsetY,d=c-m*this.view.height}this.projectionMatrix.makeOrthographic(r,o,c,d,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class rk extends pE{constructor(){super(new Zv(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class YO extends Xf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Zn.DEFAULT_UP),this.updateMatrix(),this.target=new Zn,this.shadow=new rk}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class ZO extends Xf{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class KO extends Xf{constructor(e,t,n=10,s=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class QO{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new te)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,s=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*s),t.addScaledVector(o[2],.488603*r),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],1.092548*(n*s)),t.addScaledVector(o[5],1.092548*(s*r)),t.addScaledVector(o[6],.315392*(3*r*r-1)),t.addScaledVector(o[7],1.092548*(n*r)),t.addScaledVector(o[8],.546274*(n*n-s*s)),t}getIrradianceAt(e,t){const n=e.x,s=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*s),t.addScaledVector(o[2],2*.511664*r),t.addScaledVector(o[3],2*.511664*n),t.addScaledVector(o[4],2*.429043*n*s),t.addScaledVector(o[5],2*.429043*s*r),t.addScaledVector(o[6],.743125*r*r-.247708),t.addScaledVector(o[7],2*.429043*n*r),t.addScaledVector(o[8],.429043*(n*n-s*s)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let s=0;s<9;s++)n[s].fromArray(e,t+s*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let s=0;s<9;s++)n[s].toArray(e,t+s*3);return e}static getBasisAt(e,t){const n=e.x,s=e.y,r=e.z;t[0]=.282095,t[1]=.488603*s,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*s,t[5]=1.092548*s*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-s*s)}}class JO extends Xf{constructor(e=new QO,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class ZS extends jr{constructor(e){super(e),this.textures={}}load(e,t,n,s){const r=this,o=new Su(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(c){try{t(r.parse(JSON.parse(c)))}catch(d){s?s(d):an(d),r.manager.itemError(e)}},n,s)}parse(e){const t=this.textures;function n(r){return t[r]===void 0&&St("MaterialLoader: Undefined texture",r),t[r]}const s=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new Tt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const o=e.uniforms[r];switch(s.uniforms[r]={},o.type){case"t":s.uniforms[r].value=n(o.value);break;case"c":s.uniforms[r].value=new Tt().setHex(o.value);break;case"v2":s.uniforms[r].value=new Ke().fromArray(o.value);break;case"v3":s.uniforms[r].value=new te().fromArray(o.value);break;case"v4":s.uniforms[r].value=new Yn().fromArray(o.value);break;case"m3":s.uniforms[r].value=new fn().fromArray(o.value);break;case"m4":s.uniforms[r].value=new $t().fromArray(o.value);break;default:s.uniforms[r].value=o.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const r in e.extensions)s.extensions[r]=e.extensions[r];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=n(e.map)),e.matcap!==void 0&&(s.matcap=n(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),s.normalScale=new Ke().fromArray(r)}return e.displacementMap!==void 0&&(s.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=n(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new Ke().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=n(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return ZS.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:RO,SpriteMaterial:Qw,RawShaderMaterial:DO,ShaderMaterial:fo,PointsMaterial:US,MeshPhysicalMaterial:LO,MeshStandardMaterial:oE,MeshPhongMaterial:OO,MeshToonMaterial:UO,MeshNormalMaterial:zO,MeshLambertMaterial:PO,MeshDepthMaterial:lE,MeshDistanceMaterial:cE,MeshBasicMaterial:Hf,MeshMatcapMaterial:BO,LineDashedMaterial:IO,LineBasicMaterial:dr,Material:Pa};return new t[e]}}class mT{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class $O extends dn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class eU extends jr{constructor(e){super(e)}load(e,t,n,s){const r=this,o=new Su(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(e,function(c){try{t(r.parse(JSON.parse(c)))}catch(d){s?s(d):an(d),r.manager.itemError(e)}},n,s)}parse(e){const t={},n={};function s(b,S){if(t[S]!==void 0)return t[S];const A=b.interleavedBuffers[S],M=r(b,A.buffer),D=Dm(A.type,M),R=new DS(D,A.stride);return R.uuid=A.uuid,t[S]=R,R}function r(b,S){if(n[S]!==void 0)return n[S];const A=b.arrayBuffers[S],M=new Uint32Array(A).buffer;return n[S]=M,M}const o=e.isInstancedBufferGeometry?new $O:new dn,c=e.data.index;if(c!==void 0){const b=Dm(c.type,c.array);o.setIndex(new vi(b,1))}const d=e.data.attributes;for(const b in d){const S=d[b];let E;if(S.isInterleavedBufferAttribute){const A=s(e.data,S.data);E=new Lh(A,S.itemSize,S.offset,S.normalized)}else{const A=Dm(S.type,S.array),M=S.isInstancedBufferAttribute?n0:vi;E=new M(A,S.itemSize,S.normalized)}S.name!==void 0&&(E.name=S.name),S.usage!==void 0&&E.setUsage(S.usage),o.setAttribute(b,E)}const p=e.data.morphAttributes;if(p)for(const b in p){const S=p[b],E=[];for(let A=0,M=S.length;A<M;A++){const D=S[A];let R;if(D.isInterleavedBufferAttribute){const L=s(e.data,D.data);R=new Lh(L,D.itemSize,D.offset,D.normalized)}else{const L=Dm(D.type,D.array);R=new vi(L,D.itemSize,D.normalized)}D.name!==void 0&&(R.name=D.name),E.push(R)}o.morphAttributes[b]=E}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let b=0,S=g.length;b!==S;++b){const E=g[b];o.addGroup(E.start,E.count,E.materialIndex)}const y=e.data.boundingSphere;return y!==void 0&&(o.boundingSphere=new ca().fromJSON(y)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class ok extends jr{constructor(e){super(e)}load(e,t,n,s){const r=this,o=this.path===""?mT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const c=new Su(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(d){let p=null;try{p=JSON.parse(d)}catch(g){s!==void 0&&s(g),g("ObjectLoader: Can't parse "+e+".",g.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),an("ObjectLoader: Can't load "+e);return}r.parse(p,t)},n,s)}async loadAsync(e,t){const n=this,s=this.path===""?mT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const r=new Su(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const o=await r.loadAsync(e,t),c=JSON.parse(o),d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(c)}parse(e,t){const n=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,s),o=this.parseImages(e.images,function(){t!==void 0&&t(p)}),c=this.parseTextures(e.textures,o),d=this.parseMaterials(e.materials,c),p=this.parseObject(e.object,r,d,c,n),m=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),t!==void 0){let g=!1;for(const y in o)if(o[y].data instanceof HTMLImageElement){g=!0;break}g===!1&&t(p)}return p}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,n),r=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,r),c=this.parseMaterials(e.materials,o),d=this.parseObject(e.object,s,c,o,t),p=this.parseSkeletons(e.skeletons,d);return this.bindSkeletons(d,p),this.bindLightTargets(d),d}parseShapes(e){const t={};if(e!==void 0)for(let n=0,s=e.length;n<s;n++){const r=new Sh().fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},s={};if(t.traverse(function(r){r.isBone&&(s[r.uuid]=r)}),e!==void 0)for(let r=0,o=e.length;r<o;r++){const c=new LS().fromJSON(e[r],s);n[c.uuid]=c}return n}parseGeometries(e,t){const n={};if(e!==void 0){const s=new eU;for(let r=0,o=e.length;r<o;r++){let c;const d=e[r];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":c=s.parse(d);break;default:d.type in yR?c=yR[d.type].fromJSON(d,t):St(`ObjectLoader: Unsupported geometry type "${d.type}"`)}c.uuid=d.uuid,d.name!==void 0&&(c.name=d.name),d.userData!==void 0&&(c.userData=d.userData),n[d.uuid]=c}}return n}parseMaterials(e,t){const n={},s={};if(e!==void 0){const r=new ZS;r.setTextures(t);for(let o=0,c=e.length;o<c;o++){const d=e[o];n[d.uuid]===void 0&&(n[d.uuid]=r.parse(d)),s[d.uuid]=n[d.uuid]}}return s}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const s=e[n],r=yv.parse(s);t[r.uuid]=r}return t}parseImages(e,t){const n=this,s={};let r;function o(d){return n.manager.itemStart(d),r.load(d,function(){n.manager.itemEnd(d)},void 0,function(){n.manager.itemError(d),n.manager.itemEnd(d)})}function c(d){if(typeof d=="string"){const p=d,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:n.resourcePath+p;return o(m)}else return d.data?{data:Dm(d.type,d.data),width:d.width,height:d.height}:null}if(e!==void 0&&e.length>0){const d=new hE(t);r=new _v(d),r.setCrossOrigin(this.crossOrigin);for(let p=0,m=e.length;p<m;p++){const g=e[p],y=g.url;if(Array.isArray(y)){const b=[];for(let S=0,E=y.length;S<E;S++){const A=y[S],M=c(A);M!==null&&(M instanceof HTMLImageElement?b.push(M):b.push(new El(M.data,M.width,M.height)))}s[g.uuid]=new Sf(b)}else{const b=c(g.url);s[g.uuid]=new Sf(b)}}}return s}async parseImagesAsync(e){const t=this,n={};let s;async function r(o){if(typeof o=="string"){const c=o,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:t.resourcePath+c;return await s.loadAsync(d)}else return o.data?{data:Dm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){s=new _v(this.manager),s.setCrossOrigin(this.crossOrigin);for(let o=0,c=e.length;o<c;o++){const d=e[o],p=d.url;if(Array.isArray(p)){const m=[];for(let g=0,y=p.length;g<y;g++){const b=p[g],S=await r(b);S!==null&&(S instanceof HTMLImageElement?m.push(S):m.push(new El(S.data,S.width,S.height)))}n[d.uuid]=new Sf(m)}else{const m=await r(d.url);n[d.uuid]=new Sf(m)}}}return n}parseTextures(e,t){function n(r,o){return typeof r=="number"?r:(St("ObjectLoader.parseTexture: Constant should be in numeric form.",r),o[r])}const s={};if(e!==void 0)for(let r=0,o=e.length;r<o;r++){const c=e[r];c.image===void 0&&St('ObjectLoader: No "image" specified for',c.uuid),t[c.image]===void 0&&St("ObjectLoader: Undefined image",c.image);const d=t[c.image],p=d.data;let m;Array.isArray(p)?(m=new kv,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new El:m=new ts,p&&(m.needsUpdate=!0)),m.source=d,m.uuid=c.uuid,c.name!==void 0&&(m.name=c.name),c.mapping!==void 0&&(m.mapping=n(c.mapping,lk)),c.channel!==void 0&&(m.channel=c.channel),c.offset!==void 0&&m.offset.fromArray(c.offset),c.repeat!==void 0&&m.repeat.fromArray(c.repeat),c.center!==void 0&&m.center.fromArray(c.center),c.rotation!==void 0&&(m.rotation=c.rotation),c.wrap!==void 0&&(m.wrapS=n(c.wrap[0],MR),m.wrapT=n(c.wrap[1],MR)),c.format!==void 0&&(m.format=c.format),c.internalFormat!==void 0&&(m.internalFormat=c.internalFormat),c.type!==void 0&&(m.type=c.type),c.colorSpace!==void 0&&(m.colorSpace=c.colorSpace),c.minFilter!==void 0&&(m.minFilter=n(c.minFilter,TR)),c.magFilter!==void 0&&(m.magFilter=n(c.magFilter,TR)),c.anisotropy!==void 0&&(m.anisotropy=c.anisotropy),c.flipY!==void 0&&(m.flipY=c.flipY),c.generateMipmaps!==void 0&&(m.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(m.unpackAlignment=c.unpackAlignment),c.compareFunction!==void 0&&(m.compareFunction=c.compareFunction),c.userData!==void 0&&(m.userData=c.userData),s[c.uuid]=m}return s}parseObject(e,t,n,s,r){let o;function c(y){return t[y]===void 0&&St("ObjectLoader: Undefined geometry",y),t[y]}function d(y){if(y!==void 0){if(Array.isArray(y)){const b=[];for(let S=0,E=y.length;S<E;S++){const A=y[S];n[A]===void 0&&St("ObjectLoader: Undefined material",A),b.push(n[A])}return b}return n[y]===void 0&&St("ObjectLoader: Undefined material",y),n[y]}}function p(y){return s[y]===void 0&&St("ObjectLoader: Undefined texture",y),s[y]}let m,g;switch(e.type){case"Scene":o=new Kw,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Tt(e.background):o.background=p(e.background)),e.environment!==void 0&&(o.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new RS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new NS(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Ks(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Zv(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new ZO(e.color,e.intensity);break;case"DirectionalLight":o=new YO(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new WO(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new KO(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new qO(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new XO(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new JO().fromJSON(e);break;case"SkinnedMesh":m=c(e.geometry),g=d(e.material),o=new hO(m,g),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":m=c(e.geometry),g=d(e.material),o=new zs(m,g);break;case"InstancedMesh":m=c(e.geometry),g=d(e.material);const y=e.count,b=e.instanceMatrix,S=e.instanceColor;o=new pO(m,g,y),o.instanceMatrix=new n0(new Float32Array(b.array),16),S!==void 0&&(o.instanceColor=new n0(new Float32Array(S.array),S.itemSize));break;case"BatchedMesh":m=c(e.geometry),g=d(e.material),o=new mO(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),o.geometry=m,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(E=>{let A=null,M=null;return E.boundingBox!==void 0&&(A=new Ua().fromJSON(E.boundingBox)),E.boundingSphere!==void 0&&(M=new ca().fromJSON(E.boundingSphere)),{...E,boundingBox:A,boundingSphere:M}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=p(e.matricesTexture.uuid),o._indirectTexture=p(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=p(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new ca().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new Ua().fromJSON(e.boundingBox));break;case"LOD":o=new dO;break;case"Line":o=new Bf(c(e.geometry),d(e.material));break;case"LineLoop":o=new xO(c(e.geometry),d(e.material));break;case"LineSegments":o=new Ec(c(e.geometry),d(e.material));break;case"PointCloud":case"Points":o=new gO(c(e.geometry),d(e.material));break;case"Sprite":o=new fO(d(e.material));break;case"Group":o=new Lm;break;case"Bone":o=new Jw;break;default:o=new Zn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const y=e.children;for(let b=0;b<y.length;b++)o.add(this.parseObject(y[b],t,n,s,r))}if(e.animations!==void 0){const y=e.animations;for(let b=0;b<y.length;b++){const S=y[b];o.animations.push(r[S])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const y=e.levels;for(let b=0;b<y.length;b++){const S=y[b],E=o.getObjectByProperty("uuid",S.object);E!==void 0&&o.addLevel(E,S.distance,S.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const s=t[n.skeleton];s===void 0?St("ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(s,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,s=e.getObjectByProperty("uuid",n);s!==void 0?t.target=s:t.target=new Zn}})}}const lk={UVMapping:gS,CubeReflectionMapping:_u,CubeRefractionMapping:Uf,EquirectangularReflectionMapping:sv,EquirectangularRefractionMapping:av,CubeUVReflectionMapping:v0},MR={RepeatWrapping:rv,ClampToEdgeWrapping:Nr,MirroredRepeatWrapping:ov},TR={NearestFilter:la,NearestMipmapNearestFilter:Bw,NearestMipmapLinearFilter:Rm,LinearFilter:fs,LinearMipmapNearestFilter:Dg,LinearMipmapLinearFilter:pc},HM=new WeakMap;class ck extends jr{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&St("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&St("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=mc.get(`image-bitmap:${e}`);if(o!==void 0){if(r.manager.itemStart(e),o.then){o.then(p=>{if(HM.has(o)===!0)s&&s(HM.get(o)),r.manager.itemError(e),r.manager.itemEnd(e);else return t&&t(p),r.manager.itemEnd(e),p});return}return setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o}const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader,c.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const d=fetch(e,c).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(p){return mc.add(`image-bitmap:${e}`,p),t&&t(p),r.manager.itemEnd(e),p}).catch(function(p){s&&s(p),HM.set(d,p),mc.remove(`image-bitmap:${e}`),r.manager.itemError(e),r.manager.itemEnd(e)});mc.add(`image-bitmap:${e}`,d),r.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let ib;class mE{static getContext(){return ib===void 0&&(ib=new(window.AudioContext||window.webkitAudioContext)),ib}static setContext(e){ib=e}}class uk extends jr{constructor(e){super(e)}load(e,t,n,s){const r=this,o=new Su(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(d){try{const p=d.slice(0);mE.getContext().decodeAudioData(p,function(g){t(g)}).catch(c)}catch(p){c(p)}},n,s);function c(d){s?s(d):an(d),r.manager.itemError(e)}}}const wR=new $t,ER=new $t,Xd=new $t;class fk{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ks,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ks,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Xd.copy(e.projectionMatrix);const s=t.eyeSep/2,r=s*t.near/t.focus,o=t.near*Math.tan(bh*t.fov*.5)/t.zoom;let c,d;ER.elements[12]=-s,wR.elements[12]=s,c=-o*t.aspect+r,d=o*t.aspect+r,Xd.elements[0]=2*t.near/(d-c),Xd.elements[8]=(d+c)/(d-c),this.cameraL.projectionMatrix.copy(Xd),c=-o*t.aspect-r,d=o*t.aspect-r,Xd.elements[0]=2*t.near/(d-c),Xd.elements[8]=(d+c)/(d-c),this.cameraR.projectionMatrix.copy(Xd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(ER),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(wR)}}class tU extends Ks{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class xE{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const qd=new te,GM=new Or,dk=new te,Wd=new te,Yd=new te;class hk extends Zn{constructor(){super(),this.type="AudioListener",this.context=mE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new xE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(qd,GM,dk),Wd.set(0,0,-1).applyQuaternion(GM),Yd.set(0,1,0).applyQuaternion(GM),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(qd.x,n),t.positionY.linearRampToValueAtTime(qd.y,n),t.positionZ.linearRampToValueAtTime(qd.z,n),t.forwardX.linearRampToValueAtTime(Wd.x,n),t.forwardY.linearRampToValueAtTime(Wd.y,n),t.forwardZ.linearRampToValueAtTime(Wd.z,n),t.upX.linearRampToValueAtTime(Yd.x,n),t.upY.linearRampToValueAtTime(Yd.y,n),t.upZ.linearRampToValueAtTime(Yd.z,n)}else t.setPosition(qd.x,qd.y,qd.z),t.setOrientation(Wd.x,Wd.y,Wd.z,Yd.x,Yd.y,Yd.z)}}class nU extends Zn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){St("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){St("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){St("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){St("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){St("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(St("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){St("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(St("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Zd=new te,AR=new Or,pk=new te,Kd=new te;class mk extends nU{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Zd,AR,pk),Kd.set(0,0,1).applyQuaternion(AR);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Zd.x,n),t.positionY.linearRampToValueAtTime(Zd.y,n),t.positionZ.linearRampToValueAtTime(Zd.z,n),t.orientationX.linearRampToValueAtTime(Kd.x,n),t.orientationY.linearRampToValueAtTime(Kd.y,n),t.orientationZ.linearRampToValueAtTime(Kd.z,n)}else t.setPosition(Zd.x,Zd.y,Zd.z),t.setOrientation(Kd.x,Kd.y,Kd.z)}}class xk{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class iU{constructor(e,t,n){this.binding=e,this.valueSize=n;let s,r,o;switch(t){case"quaternion":s=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:s=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,s=this.valueSize,r=e*s+s;let o=this.cumulativeWeight;if(o===0){for(let c=0;c!==s;++c)n[r+c]=n[c];o=t}else{o+=t;const c=t/o;this._mixBufferRegion(n,r,0,c,s)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,s=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,s,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,s=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const d=t*this._origIndex;this._mixBufferRegion(n,s,d,1-r,t)}o>0&&this._mixBufferRegionAdditive(n,s,this._addIndex*t,1,t);for(let d=t,p=t+t;d!==p;++d)if(n[d]!==n[d+t]){c.setValue(n,s);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,s=n*this._origIndex;e.getValue(t,s);for(let r=n,o=s;r!==o;++r)t[r]=t[s+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,s,r){if(s>=.5)for(let o=0;o!==r;++o)e[t+o]=e[n+o]}_slerp(e,t,n,s){Or.slerpFlat(e,t,e,t,e,n,s)}_slerpAdditive(e,t,n,s,r){const o=this._workIndex*r;Or.multiplyQuaternionsFlat(e,o,e,t,e,n),Or.slerpFlat(e,t,e,t,e,o,s)}_lerp(e,t,n,s,r){const o=1-s;for(let c=0;c!==r;++c){const d=t+c;e[d]=e[d]*o+e[n+c]*s}}_lerpAdditive(e,t,n,s,r){for(let o=0;o!==r;++o){const c=t+o;e[c]=e[c]+e[n+o]*s}}}const gE="\\[\\]\\.:\\/",gk=new RegExp("["+gE+"]","g"),vE="[^"+gE+"]",vk="[^"+gE.replace("\\.","")+"]",yk=/((?:WC+[\/:])*)/.source.replace("WC",vE),_k=/(WCOD+)?/.source.replace("WCOD",vk),bk=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",vE),Sk=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",vE),Mk=new RegExp("^"+yk+_k+bk+Sk+"$"),Tk=["material","materials","bones","map"];class wk{constructor(e,t,n){const s=n||Wn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,s)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,s=this._bindings[n];s!==void 0&&s.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=n.length;s!==r;++s)n[s].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Wn{constructor(e,t,n){this.path=t,this.parsedPath=n||Wn.parseTrackName(t),this.node=Wn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Wn.Composite(e,t,n):new Wn(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(gk,"")}static parseTrackName(e){const t=Mk.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},s=n.nodeName&&n.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const r=n.nodeName.substring(s+1);Tk.indexOf(r)!==-1&&(n.nodeName=n.nodeName.substring(0,s),n.objectName=r)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(r){for(let o=0;o<r.length;o++){const c=r[o];if(c.name===t||c.uuid===t)return c;const d=n(c.children);if(d)return d}return null},s=n(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let s=0,r=n.length;s!==r;++s)e[t++]=n[s]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let s=0,r=n.length;s!==r;++s)n[s]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let s=0,r=n.length;s!==r;++s)n[s]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let s=0,r=n.length;s!==r;++s)n[s]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,s=t.propertyName;let r=t.propertyIndex;if(e||(e=Wn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){St("PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let p=t.objectIndex;switch(n){case"materials":if(!e.material){an("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){an("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){an("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===p){p=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){an("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){an("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){an("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(p!==void 0){if(e[p]===void 0){an("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const o=e[s];if(o===void 0){const p=t.nodeName;an("PropertyBinding: Trying to update property for track: "+p+"."+s+" but it wasn't found.",e);return}let c=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?c=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(r!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){an("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){an("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}d=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(d=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Wn.Composite=wk;Wn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Wn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Wn.prototype.GetterByBindingType=[Wn.prototype._getValue_direct,Wn.prototype._getValue_array,Wn.prototype._getValue_arrayElement,Wn.prototype._getValue_toArray];Wn.prototype.SetterByBindingTypeAndVersioning=[[Wn.prototype._setValue_direct,Wn.prototype._setValue_direct_setNeedsUpdate,Wn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Wn.prototype._setValue_array,Wn.prototype._setValue_array_setNeedsUpdate,Wn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Wn.prototype._setValue_arrayElement,Wn.prototype._setValue_arrayElement_setNeedsUpdate,Wn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Wn.prototype._setValue_fromArray,Wn.prototype._setValue_fromArray_setNeedsUpdate,Wn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Ek{constructor(){this.isAnimationObjectGroup=!0,this.uuid=lo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,s=arguments.length;n!==s;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,s=this._parsedPaths,r=this._bindings,o=r.length;let c,d=e.length,p=this.nCachedObjects_;for(let m=0,g=arguments.length;m!==g;++m){const y=arguments[m],b=y.uuid;let S=t[b];if(S===void 0){S=d++,t[b]=S,e.push(y);for(let E=0,A=o;E!==A;++E)r[E].push(new Wn(y,n[E],s[E]))}else if(S<p){c=e[S];const E=--p,A=e[E];t[A.uuid]=S,e[S]=A,t[b]=E,e[E]=y;for(let M=0,D=o;M!==D;++M){const R=r[M],L=R[E];let z=R[S];R[S]=L,z===void 0&&(z=new Wn(y,n[M],s[M])),R[E]=z}}else e[S]!==c&&an("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,s=n.length;let r=this.nCachedObjects_;for(let o=0,c=arguments.length;o!==c;++o){const d=arguments[o],p=d.uuid,m=t[p];if(m!==void 0&&m>=r){const g=r++,y=e[g];t[y.uuid]=m,e[m]=y,t[p]=g,e[g]=d;for(let b=0,S=s;b!==S;++b){const E=n[b],A=E[g],M=E[m];E[m]=A,E[g]=M}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,s=n.length;let r=this.nCachedObjects_,o=e.length;for(let c=0,d=arguments.length;c!==d;++c){const p=arguments[c],m=p.uuid,g=t[m];if(g!==void 0)if(delete t[m],g<r){const y=--r,b=e[y],S=--o,E=e[S];t[b.uuid]=g,e[g]=b,t[E.uuid]=y,e[y]=E,e.pop();for(let A=0,M=s;A!==M;++A){const D=n[A],R=D[y],L=D[S];D[g]=R,D[y]=L,D.pop()}}else{const y=--o,b=e[y];y>0&&(t[b.uuid]=g),e[g]=b,e.pop();for(let S=0,E=s;S!==E;++S){const A=n[S];A[g]=A[y],A.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const n=this._bindingsIndicesByPath;let s=n[e];const r=this._bindings;if(s!==void 0)return r[s];const o=this._paths,c=this._parsedPaths,d=this._objects,p=d.length,m=this.nCachedObjects_,g=new Array(p);s=r.length,n[e]=s,o.push(e),c.push(t),r.push(g);for(let y=m,b=d.length;y!==b;++y){const S=d[y];g[y]=new Wn(S,e,t)}return g}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const s=this._paths,r=this._parsedPaths,o=this._bindings,c=o.length-1,d=o[c],p=e[c];t[p]=n,o[n]=d,o.pop(),r[n]=r[c],r.pop(),s[n]=s[c],s.pop()}}}class sU{constructor(e,t,n=null,s=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=s;const r=t.tracks,o=r.length,c=new Array(o),d={endingStart:fh,endingEnd:fh};for(let p=0;p!==o;++p){const m=r[p].createInterpolant(null);c[p]=m,m.settings=d}this._interpolantSettings=d,this._interpolants=c,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=GL,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const s=this._clip.duration,r=e._clip.duration,o=r/s,c=s/r;e.warp(1,o,t),this.warp(c,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const s=this._mixer,r=s.time,o=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=s._lendControlInterpolant(),this._timeScaleInterpolant=c);const d=c.parameterPositions,p=c.sampleValues;return d[0]=r,d[1]=r+n,p[0]=e/o,p[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,s){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const d=(e-r)*n;d<0||n===0?t=0:(this._startTime=null,t=n*d)}t*=this._updateTimeScale(e);const o=this._updateTime(t),c=this._updateWeight(e);if(c>0){const d=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case Gw:for(let m=0,g=d.length;m!==g;++m)d[m].evaluate(o),p[m].accumulateAdditive(c);break;case wS:default:for(let m=0,g=d.length;m!==g;++m)d[m].evaluate(o),p[m].accumulate(s,c)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const s=n.evaluate(e)[0];t*=s,e>n.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const s=n.evaluate(e)[0];t*=s,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let s=this.time+e,r=this._loopCount;const o=n===XL;if(e===0)return r===-1?s:o&&(r&1)===1?t-s:s;if(n===HL){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=t)s=t;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),s>=t||s<0){const c=Math.floor(s/t);s-=t*c,r+=Math.abs(c);const d=this.repetitions-r;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?t:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){const p=e<0;this._setEndings(p,!p,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=s;if(o&&(r&1)===1)return t-s}return s}_setEndings(e,t,n){const s=this._interpolantSettings;n?(s.endingStart=dh,s.endingEnd=dh):(e?s.endingStart=this.zeroSlopeAtStart?dh:fh:s.endingStart=cv,t?s.endingEnd=this.zeroSlopeAtEnd?dh:fh:s.endingEnd=cv)}_scheduleFading(e,t,n){const s=this._mixer,r=s.time;let o=this._weightInterpolant;o===null&&(o=s._lendControlInterpolant(),this._weightInterpolant=o);const c=o.parameterPositions,d=o.sampleValues;return c[0]=r,d[0]=t,c[1]=r+e,d[1]=n,this}}const Ak=new Float32Array(1);class Ck extends wc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,s=e._clip.tracks,r=s.length,o=e._propertyBindings,c=e._interpolants,d=n.uuid,p=this._bindingsByRootAndName;let m=p[d];m===void 0&&(m={},p[d]=m);for(let g=0;g!==r;++g){const y=s[g],b=y.name;let S=m[b];if(S!==void 0)++S.referenceCount,o[g]=S;else{if(S=o[g],S!==void 0){S._cacheIndex===null&&(++S.referenceCount,this._addInactiveBinding(S,d,b));continue}const E=t&&t._propertyBindings[g].binding.parsedPath;S=new iU(Wn.create(n,b,E),y.ValueTypeName,y.getValueSize()),++S.referenceCount,this._addInactiveBinding(S,d,b),o[g]=S}c[g].resultBuffer=S.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,s=e._clip.uuid,r=this._actionsByClip[s];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,s,n)}const t=e._propertyBindings;for(let n=0,s=t.length;n!==s;++n){const r=t[n];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,s=t.length;n!==s;++n){const r=t[n];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const s=this._actions,r=this._actionsByClip;let o=r[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{const c=o.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=s.length,s.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],s=e._cacheIndex;n._cacheIndex=s,t[s]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,o=this._actionsByClip,c=o[r],d=c.knownActions,p=d[d.length-1],m=e._byClipCacheIndex;p._byClipCacheIndex=m,d[m]=p,d.pop(),e._byClipCacheIndex=null;const g=c.actionByRoot,y=(e._localRoot||this._root).uuid;delete g[y],d.length===0&&delete o[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,s=t.length;n!==s;++n){const r=t[n];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,s=this._nActiveActions++,r=t[s];e._cacheIndex=s,t[s]=e,r._cacheIndex=n,t[n]=r}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,s=--this._nActiveActions,r=t[s];e._cacheIndex=s,t[s]=e,r._cacheIndex=n,t[n]=r}_addInactiveBinding(e,t,n){const s=this._bindingsByRootAndName,r=this._bindings;let o=s[t];o===void 0&&(o={},s[t]=o),o[n]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,s=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,c=o[s],d=t[t.length-1],p=e._cacheIndex;d._cacheIndex=p,t[p]=d,t.pop(),delete c[r],Object.keys(c).length===0&&delete o[s]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,s=this._nActiveBindings++,r=t[s];e._cacheIndex=s,t[s]=e,r._cacheIndex=n,t[n]=r}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,s=--this._nActiveBindings,r=t[s];e._cacheIndex=s,t[s]=e,r._cacheIndex=n,t[n]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new fE(new Float32Array(2),new Float32Array(2),1,Ak),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,s=--this._nActiveControlInterpolants,r=t[s];e.__cacheIndex=s,t[s]=e,r.__cacheIndex=n,t[n]=r}clipAction(e,t,n){const s=t||this._root,r=s.uuid;let o=typeof e=="string"?yv.findByName(s,e):e;const c=o!==null?o.uuid:e,d=this._actionsByClip[c];let p=null;if(n===void 0&&(o!==null?n=o.blendMode:n=wS),d!==void 0){const g=d.actionByRoot[r];if(g!==void 0&&g.blendMode===n)return g;p=d.knownActions[0],o===null&&(o=p._clip)}if(o===null)return null;const m=new sU(this,o,t,n);return this._bindAction(m,p),this._addInactiveAction(m,c,r),m}existingAction(e,t){const n=t||this._root,s=n.uuid,r=typeof e=="string"?yv.findByName(n,e):e,o=r?r.uuid:e,c=this._actionsByClip[o];return c!==void 0&&c.actionByRoot[s]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,s=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1;for(let p=0;p!==n;++p)t[p]._update(s,e,r,o);const c=this._bindings,d=this._nActiveBindings;for(let p=0;p!==d;++p)c[p].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,s=this._actionsByClip,r=s[n];if(r!==void 0){const o=r.knownActions;for(let c=0,d=o.length;c!==d;++c){const p=o[c];this._deactivateAction(p);const m=p._cacheIndex,g=t[t.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,g._cacheIndex=m,t[m]=g,t.pop(),this._removeInactiveBindingsForAction(p)}delete s[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const c=n[o].actionByRoot,d=c[t];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const s=this._bindingsByRootAndName,r=s[t];if(r!==void 0)for(const o in r){const c=r[o];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class Nk extends Ww{constructor(e=1,t=1,n=1,s={}){super(e,t,s),this.isRenderTarget3D=!0,this.depth=n,this.texture=new AS(null,e,t,n),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class yE{constructor(e){this.value=e}clone(){return new yE(this.value.clone===void 0?this.value:this.value.clone())}}let Rk=0;class Dk extends wc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Rk++}),this.name="",this.usage=fv,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,s=t.length;n<s;n++){const r=Array.isArray(t[n])?t[n]:[t[n]];for(let o=0;o<r.length;o++)this.uniforms.push(r[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Lk extends DS{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class Ok{constructor(e,t,n,s,r,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=s,this.count=r,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const CR=new $t;class aU{constructor(e,t,n=0,s=1/0){this.ray=new y0(e,t),this.near=n,this.far=s,this.camera=null,this.layers=new e0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):an("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return CR.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(CR),this}intersectObject(e,t=!0,n=[]){return xT(e,this,n,t),n.sort(NR),n}intersectObjects(e,t=!0,n=[]){for(let s=0,r=e.length;s<r;s++)xT(e[s],this,n,t);return n.sort(NR),n}}function NR(i,e){return i.distance-e.distance}function xT(i,e,t,n){let s=!0;if(i.layers.test(e.layers)&&i.raycast(e,t)===!1&&(s=!1),s===!0&&n===!0){const r=i.children;for(let o=0,c=r.length;o<c;o++)xT(r[o],e,t,!0)}}class Uk{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=zk.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function zk(){this._document.hidden===!1&&this.reset()}class rU{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Jt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Jt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Pk{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class _E{constructor(e,t,n,s){_E.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,s)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,s){const r=this.elements;return r[0]=e,r[2]=t,r[1]=n,r[3]=s,this}}const RR=new Ke;class Bk{constructor(e=new Ke(1/0,1/0),t=new Ke(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=RR.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,RR).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const DR=new te,sb=new te,pm=new te,mm=new te,XM=new te,Ik=new te,jk=new te;class Fk{constructor(e=new te,t=new te){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){DR.subVectors(e,this.start),sb.subVectors(this.end,this.start);const n=sb.dot(sb);let r=sb.dot(DR)/n;return t&&(r=Jt(r,0,1)),r}closestPointToPoint(e,t,n){const s=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(s).add(this.start)}distanceSqToLine3(e,t=Ik,n=jk){const s=10000000000000001e-32;let r,o;const c=this.start,d=e.start,p=this.end,m=e.end;pm.subVectors(p,c),mm.subVectors(m,d),XM.subVectors(c,d);const g=pm.dot(pm),y=mm.dot(mm),b=mm.dot(XM);if(g<=s&&y<=s)return t.copy(c),n.copy(d),t.sub(n),t.dot(t);if(g<=s)r=0,o=b/y,o=Jt(o,0,1);else{const S=pm.dot(XM);if(y<=s)o=0,r=Jt(-S/g,0,1);else{const E=pm.dot(mm),A=g*y-E*E;A!==0?r=Jt((E*b-S*y)/A,0,1):r=0,o=(E*r+b)/y,o<0?(o=0,r=Jt(-S/g,0,1)):o>1&&(o=1,r=Jt((E-S)/g,0,1))}}return t.copy(c).add(pm.multiplyScalar(r)),n.copy(d).add(mm.multiplyScalar(o)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const LR=new te;class Vk extends Zn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new dn,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,c=1,d=32;o<d;o++,c++){const p=o/d*Math.PI*2,m=c/d*Math.PI*2;s.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}n.setAttribute("position",new Ot(s,3));const r=new dr({fog:!1,toneMapped:!1});this.cone=new Ec(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),LR.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(LR),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const xf=new te,ab=new $t,qM=new $t;class kk extends Ec{constructor(e){const t=oU(e),n=new dn,s=[],r=[];for(let p=0;p<t.length;p++){const m=t[p];m.parent&&m.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(0,0,0),r.push(0,0,0))}n.setAttribute("position",new Ot(s,3)),n.setAttribute("color",new Ot(r,3));const o=new dr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const c=new Tt(255),d=new Tt(65280);this.setColors(c,d)}updateMatrixWorld(e){const t=this.bones,n=this.geometry,s=n.getAttribute("position");qM.copy(this.root.matrixWorld).invert();for(let r=0,o=0;r<t.length;r++){const c=t[r];c.parent&&c.parent.isBone&&(ab.multiplyMatrices(qM,c.matrixWorld),xf.setFromMatrixPosition(ab),s.setXYZ(o,xf.x,xf.y,xf.z),ab.multiplyMatrices(qM,c.parent.matrixWorld),xf.setFromMatrixPosition(ab),s.setXYZ(o+1,xf.x,xf.y,xf.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const s=this.geometry.getAttribute("color");for(let r=0;r<s.count;r+=2)s.setXYZ(r,e.r,e.g,e.b),s.setXYZ(r+1,t.r,t.g,t.b);return s.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function oU(i){const e=[];i.isBone===!0&&e.push(i);for(let t=0;t<i.children.length;t++)e.push(...oU(i.children[t]));return e}class Hk extends zs{constructor(e,t,n){const s=new qv(t,4,2),r=new Hf({wireframe:!0,fog:!1,toneMapped:!1});super(s,r),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Gk=new te,OR=new Tt,UR=new Tt;class Xk extends Zn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const s=new Xv(t);s.rotateY(Math.PI*.5),this.material=new Hf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=s.getAttribute("position"),o=new Float32Array(r.count*3);s.setAttribute("color",new vi(o,3)),this.add(new zs(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");OR.copy(this.light.color),UR.copy(this.light.groundColor);for(let n=0,s=t.count;n<s;n++){const r=n<s/2?OR:UR;t.setXYZ(n,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Gk.setFromMatrixPosition(this.light.matrixWorld).negate())}}class qk extends Ec{constructor(e=10,t=10,n=4473924,s=8947848){n=new Tt(n),s=new Tt(s);const r=t/2,o=e/t,c=e/2,d=[],p=[];for(let y=0,b=0,S=-c;y<=t;y++,S+=o){d.push(-c,0,S,c,0,S),d.push(S,0,-c,S,0,c);const E=y===r?n:s;E.toArray(p,b),b+=3,E.toArray(p,b),b+=3,E.toArray(p,b),b+=3,E.toArray(p,b),b+=3}const m=new dn;m.setAttribute("position",new Ot(d,3)),m.setAttribute("color",new Ot(p,3));const g=new dr({vertexColors:!0,toneMapped:!1});super(m,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Wk extends Ec{constructor(e=10,t=16,n=8,s=64,r=4473924,o=8947848){r=new Tt(r),o=new Tt(o);const c=[],d=[];if(t>1)for(let g=0;g<t;g++){const y=g/t*(Math.PI*2),b=Math.sin(y)*e,S=Math.cos(y)*e;c.push(0,0,0),c.push(b,0,S);const E=g&1?r:o;d.push(E.r,E.g,E.b),d.push(E.r,E.g,E.b)}for(let g=0;g<n;g++){const y=g&1?r:o,b=e-e/n*g;for(let S=0;S<s;S++){let E=S/s*(Math.PI*2),A=Math.sin(E)*b,M=Math.cos(E)*b;c.push(A,0,M),d.push(y.r,y.g,y.b),E=(S+1)/s*(Math.PI*2),A=Math.sin(E)*b,M=Math.cos(E)*b,c.push(A,0,M),d.push(y.r,y.g,y.b)}}const p=new dn;p.setAttribute("position",new Ot(c,3)),p.setAttribute("color",new Ot(d,3));const m=new dr({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const zR=new te,rb=new te,PR=new te;class Yk extends Zn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let s=new dn;s.setAttribute("position",new Ot([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new dr({fog:!1,toneMapped:!1});this.lightPlane=new Bf(s,r),this.add(this.lightPlane),s=new dn,s.setAttribute("position",new Ot([0,0,0,0,0,1],3)),this.targetLine=new Bf(s,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),zR.setFromMatrixPosition(this.light.matrixWorld),rb.setFromMatrixPosition(this.light.target.matrixWorld),PR.subVectors(rb,zR),this.lightPlane.lookAt(rb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(rb),this.targetLine.scale.z=PR.length()}}const ob=new te,Ji=new CS;class Zk extends Ec{constructor(e){const t=new dn,n=new dr({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],r=[],o={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(S,E){d(S),d(E)}function d(S){s.push(0,0,0),r.push(0,0,0),o[S]===void 0&&(o[S]=[]),o[S].push(s.length/3-1)}t.setAttribute("position",new Ot(s,3)),t.setAttribute("color",new Ot(r,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const p=new Tt(16755200),m=new Tt(16711680),g=new Tt(43775),y=new Tt(16777215),b=new Tt(3355443);this.setColors(p,m,g,y,b)}setColors(e,t,n,s,r){const c=this.geometry.getAttribute("color");return c.setXYZ(0,e.r,e.g,e.b),c.setXYZ(1,e.r,e.g,e.b),c.setXYZ(2,e.r,e.g,e.b),c.setXYZ(3,e.r,e.g,e.b),c.setXYZ(4,e.r,e.g,e.b),c.setXYZ(5,e.r,e.g,e.b),c.setXYZ(6,e.r,e.g,e.b),c.setXYZ(7,e.r,e.g,e.b),c.setXYZ(8,e.r,e.g,e.b),c.setXYZ(9,e.r,e.g,e.b),c.setXYZ(10,e.r,e.g,e.b),c.setXYZ(11,e.r,e.g,e.b),c.setXYZ(12,e.r,e.g,e.b),c.setXYZ(13,e.r,e.g,e.b),c.setXYZ(14,e.r,e.g,e.b),c.setXYZ(15,e.r,e.g,e.b),c.setXYZ(16,e.r,e.g,e.b),c.setXYZ(17,e.r,e.g,e.b),c.setXYZ(18,e.r,e.g,e.b),c.setXYZ(19,e.r,e.g,e.b),c.setXYZ(20,e.r,e.g,e.b),c.setXYZ(21,e.r,e.g,e.b),c.setXYZ(22,e.r,e.g,e.b),c.setXYZ(23,e.r,e.g,e.b),c.setXYZ(24,t.r,t.g,t.b),c.setXYZ(25,t.r,t.g,t.b),c.setXYZ(26,t.r,t.g,t.b),c.setXYZ(27,t.r,t.g,t.b),c.setXYZ(28,t.r,t.g,t.b),c.setXYZ(29,t.r,t.g,t.b),c.setXYZ(30,t.r,t.g,t.b),c.setXYZ(31,t.r,t.g,t.b),c.setXYZ(32,n.r,n.g,n.b),c.setXYZ(33,n.r,n.g,n.b),c.setXYZ(34,n.r,n.g,n.b),c.setXYZ(35,n.r,n.g,n.b),c.setXYZ(36,n.r,n.g,n.b),c.setXYZ(37,n.r,n.g,n.b),c.setXYZ(38,s.r,s.g,s.b),c.setXYZ(39,s.r,s.g,s.b),c.setXYZ(40,r.r,r.g,r.b),c.setXYZ(41,r.r,r.g,r.b),c.setXYZ(42,r.r,r.g,r.b),c.setXYZ(43,r.r,r.g,r.b),c.setXYZ(44,r.r,r.g,r.b),c.setXYZ(45,r.r,r.g,r.b),c.setXYZ(46,r.r,r.g,r.b),c.setXYZ(47,r.r,r.g,r.b),c.setXYZ(48,r.r,r.g,r.b),c.setXYZ(49,r.r,r.g,r.b),c.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,n=1,s=1;let r,o;if(Ji.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)r=1,o=0;else if(this.camera.coordinateSystem===ro)r=-1,o=1;else if(this.camera.coordinateSystem===Qm)r=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);cs("c",t,e,Ji,0,0,r),cs("t",t,e,Ji,0,0,o),cs("n1",t,e,Ji,-n,-s,r),cs("n2",t,e,Ji,n,-s,r),cs("n3",t,e,Ji,-n,s,r),cs("n4",t,e,Ji,n,s,r),cs("f1",t,e,Ji,-n,-s,o),cs("f2",t,e,Ji,n,-s,o),cs("f3",t,e,Ji,-n,s,o),cs("f4",t,e,Ji,n,s,o),cs("u1",t,e,Ji,n*.7,s*1.1,r),cs("u2",t,e,Ji,-n*.7,s*1.1,r),cs("u3",t,e,Ji,0,s*2,r),cs("cf1",t,e,Ji,-n,0,o),cs("cf2",t,e,Ji,n,0,o),cs("cf3",t,e,Ji,0,-s,o),cs("cf4",t,e,Ji,0,s,o),cs("cn1",t,e,Ji,-n,0,r),cs("cn2",t,e,Ji,n,0,r),cs("cn3",t,e,Ji,0,-s,r),cs("cn4",t,e,Ji,0,s,r),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function cs(i,e,t,n,s,r,o){ob.set(s,r,o).unproject(n);const c=e[i];if(c!==void 0){const d=t.getAttribute("position");for(let p=0,m=c.length;p<m;p++)d.setXYZ(c[p],ob.x,ob.y,ob.z)}}const lb=new Ua;class Kk extends Ec{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(24),r=new dn;r.setIndex(new vi(n,1)),r.setAttribute("position",new vi(s,3)),super(r,new dr({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&lb.setFromObject(this.object),lb.isEmpty())return;const e=lb.min,t=lb.max,n=this.geometry.attributes.position,s=n.array;s[0]=t.x,s[1]=t.y,s[2]=t.z,s[3]=e.x,s[4]=t.y,s[5]=t.z,s[6]=e.x,s[7]=e.y,s[8]=t.z,s[9]=t.x,s[10]=e.y,s[11]=t.z,s[12]=t.x,s[13]=t.y,s[14]=e.z,s[15]=e.x,s[16]=t.y,s[17]=e.z,s[18]=e.x,s[19]=e.y,s[20]=e.z,s[21]=t.x,s[22]=e.y,s[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Qk extends Ec{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new dn;r.setIndex(new vi(n,1)),r.setAttribute("position",new Ot(s,3)),super(r,new dr({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Jk extends Bf{constructor(e,t=1,n=16776960){const s=n,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new dn;o.setAttribute("position",new Ot(r,3)),o.computeBoundingSphere(),super(o,new dr({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new dn;d.setAttribute("position",new Ot(c,3)),d.computeBoundingSphere(),this.add(new zs(d,new Hf({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const BR=new te;let cb,WM;class $k extends Zn{constructor(e=new te(0,0,1),t=new te(0,0,0),n=1,s=16776960,r=n*.2,o=r*.2){super(),this.type="ArrowHelper",cb===void 0&&(cb=new dn,cb.setAttribute("position",new Ot([0,0,0,0,1,0],3)),WM=new Gv(.5,1,5,1),WM.translate(0,-.5,0)),this.position.copy(t),this.line=new Bf(cb,new dr({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new zs(WM,new Hf({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{BR.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(BR,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class eH extends Ec{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new dn;s.setAttribute("position",new Ot(t,3)),s.setAttribute("color",new Ot(n,3));const r=new dr({vertexColors:!0,toneMapped:!1});super(s,r),this.type="AxesHelper"}setColors(e,t,n){const s=new Tt,r=this.geometry.attributes.color.array;return s.set(e),s.toArray(r,0),s.toArray(r,3),s.set(t),s.toArray(r,6),s.toArray(r,9),s.set(n),s.toArray(r,12),s.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class tH{constructor(){this.type="ShapePath",this.color=new Tt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new G1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,s){return this.currentPath.quadraticCurveTo(e,t,n,s),this}bezierCurveTo(e,t,n,s,r,o){return this.currentPath.bezierCurveTo(e,t,n,s,r,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(M){const D=[];for(let R=0,L=M.length;R<L;R++){const z=M[R],U=new Sh;U.curves=z.curves,D.push(U)}return D}function n(M,D){const R=D.length;let L=!1;for(let z=R-1,U=0;U<R;z=U++){let I=D[z],F=D[U],P=F.x-I.x,B=F.y-I.y;if(Math.abs(B)>Number.EPSILON){if(B<0&&(I=D[U],P=-P,F=D[z],B=-B),M.y<I.y||M.y>F.y)continue;if(M.y===I.y){if(M.x===I.x)return!0}else{const H=B*(M.x-I.x)-P*(M.y-I.y);if(H===0)return!0;if(H<0)continue;L=!L}}else{if(M.y!==I.y)continue;if(F.x<=M.x&&M.x<=I.x||I.x<=M.x&&M.x<=F.x)return!0}}return L}const s=wl.isClockWise,r=this.subPaths;if(r.length===0)return[];let o,c,d;const p=[];if(r.length===1)return c=r[0],d=new Sh,d.curves=c.curves,p.push(d),p;let m=!s(r[0].getPoints());m=e?!m:m;const g=[],y=[];let b=[],S=0,E;y[S]=void 0,b[S]=[];for(let M=0,D=r.length;M<D;M++)c=r[M],E=c.getPoints(),o=s(E),o=e?!o:o,o?(!m&&y[S]&&S++,y[S]={s:new Sh,p:E},y[S].s.curves=c.curves,m&&S++,b[S]=[]):b[S].push({h:c,p:E[0]});if(!y[0])return t(r);if(y.length>1){let M=!1,D=0;for(let R=0,L=y.length;R<L;R++)g[R]=[];for(let R=0,L=y.length;R<L;R++){const z=b[R];for(let U=0;U<z.length;U++){const I=z[U];let F=!0;for(let P=0;P<y.length;P++)n(I.p,y[P].p)&&(R!==P&&D++,F?(F=!1,g[P].push(I)):M=!0);F&&g[R].push(I)}}D>0&&M===!1&&(b=g)}let A;for(let M=0,D=y.length;M<D;M++){d=y[M].s,p.push(d),A=b[M];for(let R=0,L=A.length;R<L;R++)d.holes.push(A[R].h)}return p}}class nH extends wc{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){St("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function iH(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2):(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0),i}function sH(i,e){const t=i.image&&i.image.width?i.image.width/i.image.height:1;return t>e?(i.repeat.x=e/t,i.repeat.y=1,i.offset.x=(1-i.repeat.x)/2,i.offset.y=0):(i.repeat.x=1,i.repeat.y=t/e,i.offset.x=0,i.offset.y=(1-i.repeat.y)/2),i}function aH(i){return i.repeat.x=1,i.repeat.y=1,i.offset.x=0,i.offset.y=0,i}function gT(i,e,t,n){const s=rH(n);switch(t){case kw:return i*e;case bS:return i*e/s.components*s.byteLength;case Vv:return i*e/s.components*s.byteLength;case SS:return i*e*2/s.components*s.byteLength;case MS:return i*e*2/s.components*s.byteLength;case Hw:return i*e*3/s.components*s.byteLength;case Oa:return i*e*4/s.components*s.byteLength;case TS:return i*e*4/s.components*s.byteLength;case Lg:case Og:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case Ug:case zg:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case h1:case m1:return Math.max(i,16)*Math.max(e,8)/4;case d1:case p1:return Math.max(i,8)*Math.max(e,8)/2;case x1:case g1:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*8;case v1:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case y1:return Math.floor((i+3)/4)*Math.floor((e+3)/4)*16;case _1:return Math.floor((i+4)/5)*Math.floor((e+3)/4)*16;case b1:return Math.floor((i+4)/5)*Math.floor((e+4)/5)*16;case S1:return Math.floor((i+5)/6)*Math.floor((e+4)/5)*16;case M1:return Math.floor((i+5)/6)*Math.floor((e+5)/6)*16;case T1:return Math.floor((i+7)/8)*Math.floor((e+4)/5)*16;case w1:return Math.floor((i+7)/8)*Math.floor((e+5)/6)*16;case E1:return Math.floor((i+7)/8)*Math.floor((e+7)/8)*16;case A1:return Math.floor((i+9)/10)*Math.floor((e+4)/5)*16;case C1:return Math.floor((i+9)/10)*Math.floor((e+5)/6)*16;case N1:return Math.floor((i+9)/10)*Math.floor((e+7)/8)*16;case R1:return Math.floor((i+9)/10)*Math.floor((e+9)/10)*16;case D1:return Math.floor((i+11)/12)*Math.floor((e+9)/10)*16;case L1:return Math.floor((i+11)/12)*Math.floor((e+11)/12)*16;case O1:case U1:case z1:return Math.ceil(i/4)*Math.ceil(e/4)*16;case P1:case B1:return Math.ceil(i/4)*Math.ceil(e/4)*8;case I1:case j1:return Math.ceil(i/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function rH(i){switch(i){case qo:case Iw:return{byteLength:1,components:1};case Wm:case jw:case Fh:return{byteLength:2,components:1};case yS:case _S:return{byteLength:2,components:4};case bu:case vS:case Rr:return{byteLength:4,components:1};case Fw:case Vw:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${i}.`)}class oH{static contain(e,t){return iH(e,t)}static cover(e,t){return sH(e,t)}static fill(e){return aH(e)}static getByteLength(e,t,n,s){return gT(e,t,n,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:jv}}));typeof window<"u"&&(window.__THREE__?St("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=jv);function lU(){let i=null,e=!1,t=null,n=null;function s(r,o){t(r,o),n=i.requestAnimationFrame(s)}return{start:function(){e!==!0&&t!==null&&(n=i.requestAnimationFrame(s),e=!0)},stop:function(){i.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){i=r}}}function lH(i){const e=new WeakMap;function t(c,d){const p=c.array,m=c.usage,g=p.byteLength,y=i.createBuffer();i.bindBuffer(d,y),i.bufferData(d,p,m),c.onUploadCallback();let b;if(p instanceof Float32Array)b=i.FLOAT;else if(typeof Float16Array<"u"&&p instanceof Float16Array)b=i.HALF_FLOAT;else if(p instanceof Uint16Array)c.isFloat16BufferAttribute?b=i.HALF_FLOAT:b=i.UNSIGNED_SHORT;else if(p instanceof Int16Array)b=i.SHORT;else if(p instanceof Uint32Array)b=i.UNSIGNED_INT;else if(p instanceof Int32Array)b=i.INT;else if(p instanceof Int8Array)b=i.BYTE;else if(p instanceof Uint8Array)b=i.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)b=i.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:y,type:b,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version,size:g}}function n(c,d,p){const m=d.array,g=d.updateRanges;if(i.bindBuffer(p,c),g.length===0)i.bufferSubData(p,0,m);else{g.sort((b,S)=>b.start-S.start);let y=0;for(let b=1;b<g.length;b++){const S=g[y],E=g[b];E.start<=S.start+S.count+1?S.count=Math.max(S.count,E.start+E.count-S.start):(++y,g[y]=E)}g.length=y+1;for(let b=0,S=g.length;b<S;b++){const E=g[b];i.bufferSubData(p,E.start*m.BYTES_PER_ELEMENT,m,E.start,E.count)}d.clearUpdateRanges()}d.onUploadCallback()}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),e.get(c)}function r(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=e.get(c);d&&(i.deleteBuffer(d.buffer),e.delete(c))}function o(c,d){if(c.isInterleavedBufferAttribute&&(c=c.data),c.isGLBufferAttribute){const m=e.get(c);(!m||m.version<c.version)&&e.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}const p=e.get(c);if(p===void 0)e.set(c,t(c,d));else if(p.version<c.version){if(p.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(p.buffer,c,d),p.version=c.version}}return{get:s,remove:r,update:o}}var cH=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,uH=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,fH=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,dH=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,hH=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,pH=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,mH=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,xH=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,gH=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,vH=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,yH=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,_H=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bH=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,SH=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,MH=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,TH=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,wH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,EH=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,AH=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,CH=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,NH=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,RH=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,DH=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,LH=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,OH=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,UH=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,zH=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,PH=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,BH=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,IH=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,jH="gl_FragColor = linearToOutputTexel( gl_FragColor );",FH=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,VH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,kH=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,HH=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,GH=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,XH=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,qH=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,WH=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,YH=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,ZH=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,KH=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,QH=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,JH=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,$H=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,eG=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,tG=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,nG=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,iG=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,sG=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,aG=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,rG=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,oG=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lG=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,cG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,uG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,fG=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,dG=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hG=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,pG=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,mG=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,xG=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,gG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,vG=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,yG=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,_G=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,bG=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,SG=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,MG=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,TG=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,wG=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,EG=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,AG=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,CG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,NG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,RG=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,DG=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,LG=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,OG=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,UG=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,zG=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,PG=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,BG=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,IG=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,jG=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,FG=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,VG=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,kG=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,HG=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,GG=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,XG=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,qG=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,WG=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,YG=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,ZG=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,KG=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,QG=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,JG=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,$G=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,eX=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tX=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,nX=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,iX=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,sX=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,aX=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,rX=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,oX=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const lX=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,cX=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uX=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fX=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dX=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,hX=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,pX=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,mX=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,xX=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,gX=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vX=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,yX=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_X=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bX=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,SX=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,MX=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TX=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wX=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EX=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,AX=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,CX=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,NX=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,RX=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,DX=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LX=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,OX=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,UX=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,zX=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,PX=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,BX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,IX=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jX=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,FX=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,VX=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vn={alphahash_fragment:cH,alphahash_pars_fragment:uH,alphamap_fragment:fH,alphamap_pars_fragment:dH,alphatest_fragment:hH,alphatest_pars_fragment:pH,aomap_fragment:mH,aomap_pars_fragment:xH,batching_pars_vertex:gH,batching_vertex:vH,begin_vertex:yH,beginnormal_vertex:_H,bsdfs:bH,iridescence_fragment:SH,bumpmap_pars_fragment:MH,clipping_planes_fragment:TH,clipping_planes_pars_fragment:wH,clipping_planes_pars_vertex:EH,clipping_planes_vertex:AH,color_fragment:CH,color_pars_fragment:NH,color_pars_vertex:RH,color_vertex:DH,common:LH,cube_uv_reflection_fragment:OH,defaultnormal_vertex:UH,displacementmap_pars_vertex:zH,displacementmap_vertex:PH,emissivemap_fragment:BH,emissivemap_pars_fragment:IH,colorspace_fragment:jH,colorspace_pars_fragment:FH,envmap_fragment:VH,envmap_common_pars_fragment:kH,envmap_pars_fragment:HH,envmap_pars_vertex:GH,envmap_physical_pars_fragment:tG,envmap_vertex:XH,fog_vertex:qH,fog_pars_vertex:WH,fog_fragment:YH,fog_pars_fragment:ZH,gradientmap_pars_fragment:KH,lightmap_pars_fragment:QH,lights_lambert_fragment:JH,lights_lambert_pars_fragment:$H,lights_pars_begin:eG,lights_toon_fragment:nG,lights_toon_pars_fragment:iG,lights_phong_fragment:sG,lights_phong_pars_fragment:aG,lights_physical_fragment:rG,lights_physical_pars_fragment:oG,lights_fragment_begin:lG,lights_fragment_maps:cG,lights_fragment_end:uG,logdepthbuf_fragment:fG,logdepthbuf_pars_fragment:dG,logdepthbuf_pars_vertex:hG,logdepthbuf_vertex:pG,map_fragment:mG,map_pars_fragment:xG,map_particle_fragment:gG,map_particle_pars_fragment:vG,metalnessmap_fragment:yG,metalnessmap_pars_fragment:_G,morphinstance_vertex:bG,morphcolor_vertex:SG,morphnormal_vertex:MG,morphtarget_pars_vertex:TG,morphtarget_vertex:wG,normal_fragment_begin:EG,normal_fragment_maps:AG,normal_pars_fragment:CG,normal_pars_vertex:NG,normal_vertex:RG,normalmap_pars_fragment:DG,clearcoat_normal_fragment_begin:LG,clearcoat_normal_fragment_maps:OG,clearcoat_pars_fragment:UG,iridescence_pars_fragment:zG,opaque_fragment:PG,packing:BG,premultiplied_alpha_fragment:IG,project_vertex:jG,dithering_fragment:FG,dithering_pars_fragment:VG,roughnessmap_fragment:kG,roughnessmap_pars_fragment:HG,shadowmap_pars_fragment:GG,shadowmap_pars_vertex:XG,shadowmap_vertex:qG,shadowmask_pars_fragment:WG,skinbase_vertex:YG,skinning_pars_vertex:ZG,skinning_vertex:KG,skinnormal_vertex:QG,specularmap_fragment:JG,specularmap_pars_fragment:$G,tonemapping_fragment:eX,tonemapping_pars_fragment:tX,transmission_fragment:nX,transmission_pars_fragment:iX,uv_pars_fragment:sX,uv_pars_vertex:aX,uv_vertex:rX,worldpos_vertex:oX,background_vert:lX,background_frag:cX,backgroundCube_vert:uX,backgroundCube_frag:fX,cube_vert:dX,cube_frag:hX,depth_vert:pX,depth_frag:mX,distanceRGBA_vert:xX,distanceRGBA_frag:gX,equirect_vert:vX,equirect_frag:yX,linedashed_vert:_X,linedashed_frag:bX,meshbasic_vert:SX,meshbasic_frag:MX,meshlambert_vert:TX,meshlambert_frag:wX,meshmatcap_vert:EX,meshmatcap_frag:AX,meshnormal_vert:CX,meshnormal_frag:NX,meshphong_vert:RX,meshphong_frag:DX,meshphysical_vert:LX,meshphysical_frag:OX,meshtoon_vert:UX,meshtoon_frag:zX,points_vert:PX,points_frag:BX,shadow_vert:IX,shadow_frag:jX,sprite_vert:FX,sprite_frag:VX},bt={common:{diffuse:{value:new Tt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new fn}},envmap:{envMap:{value:null},envMapRotation:{value:new fn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new fn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new fn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new fn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new fn},normalScale:{value:new Ke(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new fn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new fn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new fn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new fn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Tt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Tt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0},uvTransform:{value:new fn}},sprite:{diffuse:{value:new Tt(16777215)},opacity:{value:1},center:{value:new Ke(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}}},Tl={basic:{uniforms:ir([bt.common,bt.specularmap,bt.envmap,bt.aomap,bt.lightmap,bt.fog]),vertexShader:vn.meshbasic_vert,fragmentShader:vn.meshbasic_frag},lambert:{uniforms:ir([bt.common,bt.specularmap,bt.envmap,bt.aomap,bt.lightmap,bt.emissivemap,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.fog,bt.lights,{emissive:{value:new Tt(0)}}]),vertexShader:vn.meshlambert_vert,fragmentShader:vn.meshlambert_frag},phong:{uniforms:ir([bt.common,bt.specularmap,bt.envmap,bt.aomap,bt.lightmap,bt.emissivemap,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.fog,bt.lights,{emissive:{value:new Tt(0)},specular:{value:new Tt(1118481)},shininess:{value:30}}]),vertexShader:vn.meshphong_vert,fragmentShader:vn.meshphong_frag},standard:{uniforms:ir([bt.common,bt.envmap,bt.aomap,bt.lightmap,bt.emissivemap,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.roughnessmap,bt.metalnessmap,bt.fog,bt.lights,{emissive:{value:new Tt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:vn.meshphysical_vert,fragmentShader:vn.meshphysical_frag},toon:{uniforms:ir([bt.common,bt.aomap,bt.lightmap,bt.emissivemap,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.gradientmap,bt.fog,bt.lights,{emissive:{value:new Tt(0)}}]),vertexShader:vn.meshtoon_vert,fragmentShader:vn.meshtoon_frag},matcap:{uniforms:ir([bt.common,bt.bumpmap,bt.normalmap,bt.displacementmap,bt.fog,{matcap:{value:null}}]),vertexShader:vn.meshmatcap_vert,fragmentShader:vn.meshmatcap_frag},points:{uniforms:ir([bt.points,bt.fog]),vertexShader:vn.points_vert,fragmentShader:vn.points_frag},dashed:{uniforms:ir([bt.common,bt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:vn.linedashed_vert,fragmentShader:vn.linedashed_frag},depth:{uniforms:ir([bt.common,bt.displacementmap]),vertexShader:vn.depth_vert,fragmentShader:vn.depth_frag},normal:{uniforms:ir([bt.common,bt.bumpmap,bt.normalmap,bt.displacementmap,{opacity:{value:1}}]),vertexShader:vn.meshnormal_vert,fragmentShader:vn.meshnormal_frag},sprite:{uniforms:ir([bt.sprite,bt.fog]),vertexShader:vn.sprite_vert,fragmentShader:vn.sprite_frag},background:{uniforms:{uvTransform:{value:new fn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:vn.background_vert,fragmentShader:vn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new fn}},vertexShader:vn.backgroundCube_vert,fragmentShader:vn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:vn.cube_vert,fragmentShader:vn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:vn.equirect_vert,fragmentShader:vn.equirect_frag},distanceRGBA:{uniforms:ir([bt.common,bt.displacementmap,{referencePosition:{value:new te},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:vn.distanceRGBA_vert,fragmentShader:vn.distanceRGBA_frag},shadow:{uniforms:ir([bt.lights,bt.fog,{color:{value:new Tt(0)},opacity:{value:1}}]),vertexShader:vn.shadow_vert,fragmentShader:vn.shadow_frag}};Tl.physical={uniforms:ir([Tl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new fn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new fn},clearcoatNormalScale:{value:new Ke(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new fn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new fn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new fn},sheen:{value:0},sheenColor:{value:new Tt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new fn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new fn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new fn},transmissionSamplerSize:{value:new Ke},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new fn},attenuationDistance:{value:0},attenuationColor:{value:new Tt(0)},specularColor:{value:new Tt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new fn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new fn},anisotropyVector:{value:new Ke},anisotropyMap:{value:null},anisotropyMapTransform:{value:new fn}}]),vertexShader:vn.meshphysical_vert,fragmentShader:vn.meshphysical_frag};const ub={r:0,b:0,g:0},Qd=new uo,kX=new $t;function HX(i,e,t,n,s,r,o){const c=new Tt(0);let d=r===!0?0:1,p,m,g=null,y=0,b=null;function S(R){let L=R.isScene===!0?R.background:null;return L&&L.isTexture&&(L=(R.backgroundBlurriness>0?t:e).get(L)),L}function E(R){let L=!1;const z=S(R);z===null?M(c,d):z&&z.isColor&&(M(z,1),L=!0);const U=i.xr.getEnvironmentBlendMode();U==="additive"?n.buffers.color.setClear(0,0,0,1,o):U==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,o),(i.autoClear||L)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil))}function A(R,L){const z=S(L);z&&(z.isCubeTexture||z.mapping===v0)?(m===void 0&&(m=new zs(new Vh(1,1,1),new fo({name:"BackgroundCubeMaterial",uniforms:t0(Tl.backgroundCube.uniforms),vertexShader:Tl.backgroundCube.vertexShader,fragmentShader:Tl.backgroundCube.fragmentShader,side:fr,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(U,I,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(m)),Qd.copy(L.backgroundRotation),Qd.x*=-1,Qd.y*=-1,Qd.z*=-1,z.isCubeTexture&&z.isRenderTargetTexture===!1&&(Qd.y*=-1,Qd.z*=-1),m.material.uniforms.envMap.value=z,m.material.uniforms.flipEnvMap.value=z.isCubeTexture&&z.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=L.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(kX.makeRotationFromEuler(Qd)),m.material.toneMapped=Gn.getTransfer(z.colorSpace)!==hi,(g!==z||y!==z.version||b!==i.toneMapping)&&(m.material.needsUpdate=!0,g=z,y=z.version,b=i.toneMapping),m.layers.enableAll(),R.unshift(m,m.geometry,m.material,0,0,null)):z&&z.isTexture&&(p===void 0&&(p=new zs(new b0(2,2),new fo({name:"BackgroundMaterial",uniforms:t0(Tl.background.uniforms),vertexShader:Tl.background.vertexShader,fragmentShader:Tl.background.fragmentShader,side:yu,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(p)),p.material.uniforms.t2D.value=z,p.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,p.material.toneMapped=Gn.getTransfer(z.colorSpace)!==hi,z.matrixAutoUpdate===!0&&z.updateMatrix(),p.material.uniforms.uvTransform.value.copy(z.matrix),(g!==z||y!==z.version||b!==i.toneMapping)&&(p.material.needsUpdate=!0,g=z,y=z.version,b=i.toneMapping),p.layers.enableAll(),R.unshift(p,p.geometry,p.material,0,0,null))}function M(R,L){R.getRGB(ub,rO(i)),n.buffers.color.setClear(ub.r,ub.g,ub.b,L,o)}function D(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return c},setClearColor:function(R,L=1){c.set(R),d=L,M(c,d)},getClearAlpha:function(){return d},setClearAlpha:function(R){d=R,M(c,d)},render:E,addToRenderList:A,dispose:D}}function GX(i,e){const t=i.getParameter(i.MAX_VERTEX_ATTRIBS),n={},s=y(null);let r=s,o=!1;function c(B,H,Q,ie,ue){let fe=!1;const V=g(ie,Q,H);r!==V&&(r=V,p(r.object)),fe=b(B,ie,Q,ue),fe&&S(B,ie,Q,ue),ue!==null&&e.update(ue,i.ELEMENT_ARRAY_BUFFER),(fe||o)&&(o=!1,L(B,H,Q,ie),ue!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,e.get(ue).buffer))}function d(){return i.createVertexArray()}function p(B){return i.bindVertexArray(B)}function m(B){return i.deleteVertexArray(B)}function g(B,H,Q){const ie=Q.wireframe===!0;let ue=n[B.id];ue===void 0&&(ue={},n[B.id]=ue);let fe=ue[H.id];fe===void 0&&(fe={},ue[H.id]=fe);let V=fe[ie];return V===void 0&&(V=y(d()),fe[ie]=V),V}function y(B){const H=[],Q=[],ie=[];for(let ue=0;ue<t;ue++)H[ue]=0,Q[ue]=0,ie[ue]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:Q,attributeDivisors:ie,object:B,attributes:{},index:null}}function b(B,H,Q,ie){const ue=r.attributes,fe=H.attributes;let V=0;const X=Q.getAttributes();for(const K in X)if(X[K].location>=0){const Y=ue[K];let W=fe[K];if(W===void 0&&(K==="instanceMatrix"&&B.instanceMatrix&&(W=B.instanceMatrix),K==="instanceColor"&&B.instanceColor&&(W=B.instanceColor)),Y===void 0||Y.attribute!==W||W&&Y.data!==W.data)return!0;V++}return r.attributesNum!==V||r.index!==ie}function S(B,H,Q,ie){const ue={},fe=H.attributes;let V=0;const X=Q.getAttributes();for(const K in X)if(X[K].location>=0){let Y=fe[K];Y===void 0&&(K==="instanceMatrix"&&B.instanceMatrix&&(Y=B.instanceMatrix),K==="instanceColor"&&B.instanceColor&&(Y=B.instanceColor));const W={};W.attribute=Y,Y&&Y.data&&(W.data=Y.data),ue[K]=W,V++}r.attributes=ue,r.attributesNum=V,r.index=ie}function E(){const B=r.newAttributes;for(let H=0,Q=B.length;H<Q;H++)B[H]=0}function A(B){M(B,0)}function M(B,H){const Q=r.newAttributes,ie=r.enabledAttributes,ue=r.attributeDivisors;Q[B]=1,ie[B]===0&&(i.enableVertexAttribArray(B),ie[B]=1),ue[B]!==H&&(i.vertexAttribDivisor(B,H),ue[B]=H)}function D(){const B=r.newAttributes,H=r.enabledAttributes;for(let Q=0,ie=H.length;Q<ie;Q++)H[Q]!==B[Q]&&(i.disableVertexAttribArray(Q),H[Q]=0)}function R(B,H,Q,ie,ue,fe,V){V===!0?i.vertexAttribIPointer(B,H,Q,ue,fe):i.vertexAttribPointer(B,H,Q,ie,ue,fe)}function L(B,H,Q,ie){E();const ue=ie.attributes,fe=Q.getAttributes(),V=H.defaultAttributeValues;for(const X in fe){const K=fe[X];if(K.location>=0){let ce=ue[X];if(ce===void 0&&(X==="instanceMatrix"&&B.instanceMatrix&&(ce=B.instanceMatrix),X==="instanceColor"&&B.instanceColor&&(ce=B.instanceColor)),ce!==void 0){const Y=ce.normalized,W=ce.itemSize,ae=e.get(ce);if(ae===void 0)continue;const he=ae.buffer,ye=ae.type,Pe=ae.bytesPerElement,pe=ye===i.INT||ye===i.UNSIGNED_INT||ce.gpuType===vS;if(ce.isInterleavedBufferAttribute){const _e=ce.data,We=_e.stride,tt=ce.offset;if(_e.isInstancedInterleavedBuffer){for(let pt=0;pt<K.locationSize;pt++)M(K.location+pt,_e.meshPerAttribute);B.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=_e.meshPerAttribute*_e.count)}else for(let pt=0;pt<K.locationSize;pt++)A(K.location+pt);i.bindBuffer(i.ARRAY_BUFFER,he);for(let pt=0;pt<K.locationSize;pt++)R(K.location+pt,W/K.locationSize,ye,Y,We*Pe,(tt+W/K.locationSize*pt)*Pe,pe)}else{if(ce.isInstancedBufferAttribute){for(let _e=0;_e<K.locationSize;_e++)M(K.location+_e,ce.meshPerAttribute);B.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(let _e=0;_e<K.locationSize;_e++)A(K.location+_e);i.bindBuffer(i.ARRAY_BUFFER,he);for(let _e=0;_e<K.locationSize;_e++)R(K.location+_e,W/K.locationSize,ye,Y,W*Pe,W/K.locationSize*_e*Pe,pe)}}else if(V!==void 0){const Y=V[X];if(Y!==void 0)switch(Y.length){case 2:i.vertexAttrib2fv(K.location,Y);break;case 3:i.vertexAttrib3fv(K.location,Y);break;case 4:i.vertexAttrib4fv(K.location,Y);break;default:i.vertexAttrib1fv(K.location,Y)}}}}D()}function z(){F();for(const B in n){const H=n[B];for(const Q in H){const ie=H[Q];for(const ue in ie)m(ie[ue].object),delete ie[ue];delete H[Q]}delete n[B]}}function U(B){if(n[B.id]===void 0)return;const H=n[B.id];for(const Q in H){const ie=H[Q];for(const ue in ie)m(ie[ue].object),delete ie[ue];delete H[Q]}delete n[B.id]}function I(B){for(const H in n){const Q=n[H];if(Q[B.id]===void 0)continue;const ie=Q[B.id];for(const ue in ie)m(ie[ue].object),delete ie[ue];delete Q[B.id]}}function F(){P(),o=!0,r!==s&&(r=s,p(r.object))}function P(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:c,reset:F,resetDefaultState:P,dispose:z,releaseStatesOfGeometry:U,releaseStatesOfProgram:I,initAttributes:E,enableAttribute:A,disableUnusedAttributes:D}}function XX(i,e,t){let n;function s(p){n=p}function r(p,m){i.drawArrays(n,p,m),t.update(m,n,1)}function o(p,m,g){g!==0&&(i.drawArraysInstanced(n,p,m,g),t.update(m,n,g))}function c(p,m,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,p,0,m,0,g);let b=0;for(let S=0;S<g;S++)b+=m[S];t.update(b,n,1)}function d(p,m,g,y){if(g===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let S=0;S<p.length;S++)o(p[S],m[S],y[S]);else{b.multiDrawArraysInstancedWEBGL(n,p,0,m,0,y,0,g);let S=0;for(let E=0;E<g;E++)S+=m[E]*y[E];t.update(S,n,1)}}this.setMode=s,this.render=r,this.renderInstances=o,this.renderMultiDraw=c,this.renderMultiDrawInstances=d}function qX(i,e,t,n){let s;function r(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");s=i.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function o(I){return!(I!==Oa&&n.convert(I)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_FORMAT))}function c(I){const F=I===Fh&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(I!==qo&&n.convert(I)!==i.getParameter(i.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==Rr&&!F)}function d(I){if(I==="highp"){if(i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.HIGH_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&i.getShaderPrecisionFormat(i.VERTEX_SHADER,i.MEDIUM_FLOAT).precision>0&&i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=t.precision!==void 0?t.precision:"highp";const m=d(p);m!==p&&(St("WebGLRenderer:",p,"not supported, using",m,"instead."),p=m);const g=t.logarithmicDepthBuffer===!0,y=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),b=i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),S=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS),E=i.getParameter(i.MAX_TEXTURE_SIZE),A=i.getParameter(i.MAX_CUBE_MAP_TEXTURE_SIZE),M=i.getParameter(i.MAX_VERTEX_ATTRIBS),D=i.getParameter(i.MAX_VERTEX_UNIFORM_VECTORS),R=i.getParameter(i.MAX_VARYING_VECTORS),L=i.getParameter(i.MAX_FRAGMENT_UNIFORM_VECTORS),z=S>0,U=i.getParameter(i.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:d,textureFormatReadable:o,textureTypeReadable:c,precision:p,logarithmicDepthBuffer:g,reversedDepthBuffer:y,maxTextures:b,maxVertexTextures:S,maxTextureSize:E,maxCubemapSize:A,maxAttributes:M,maxVertexUniforms:D,maxVaryings:R,maxFragmentUniforms:L,vertexTextures:z,maxSamples:U}}function WX(i){const e=this;let t=null,n=0,s=!1,r=!1;const o=new yf,c=new fn,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(g,y){const b=g.length!==0||y||n!==0||s;return s=y,n=g.length,b},this.beginShadows=function(){r=!0,m(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(g,y){t=m(g,y,0)},this.setState=function(g,y,b){const S=g.clippingPlanes,E=g.clipIntersection,A=g.clipShadows,M=i.get(g);if(!s||S===null||S.length===0||r&&!A)r?m(null):p();else{const D=r?0:n,R=D*4;let L=M.clippingState||null;d.value=L,L=m(S,y,R,b);for(let z=0;z!==R;++z)L[z]=t[z];M.clippingState=L,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=D}};function p(){d.value!==t&&(d.value=t,d.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function m(g,y,b,S){const E=g!==null?g.length:0;let A=null;if(E!==0){if(A=d.value,S!==!0||A===null){const M=b+E*4,D=y.matrixWorldInverse;c.getNormalMatrix(D),(A===null||A.length<M)&&(A=new Float32Array(M));for(let R=0,L=b;R!==E;++R,L+=4)o.copy(g[R]).applyMatrix4(D,c),o.normal.toArray(A,L),A[L+3]=o.constant}d.value=A,d.needsUpdate=!0}return e.numPlanes=E,e.numIntersection=0,A}}function YX(i){let e=new WeakMap;function t(o,c){return c===sv?o.mapping=_u:c===av&&(o.mapping=Uf),o}function n(o){if(o&&o.isTexture){const c=o.mapping;if(c===sv||c===av)if(e.has(o)){const d=e.get(o).texture;return t(d,o.mapping)}else{const d=o.image;if(d&&d.height>0){const p=new cO(d.height);return p.fromEquirectangularTexture(i,o),e.set(o,p),o.addEventListener("dispose",s),t(p.texture,o.mapping)}else return null}}return o}function s(o){const c=o.target;c.removeEventListener("dispose",s);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function r(){e=new WeakMap}return{get:n,dispose:r}}const Mf=4,IR=[.125,.215,.35,.446,.526,.582],oh=20,ZX=256,ug=new Zv,jR=new Tt;let YM=null,ZM=0,KM=0,QM=!1;const KX=new te;class vT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,s=100,r={}){const{size:o=256,position:c=KX}=r;YM=this._renderer.getRenderTarget(),ZM=this._renderer.getActiveCubeFace(),KM=this._renderer.getActiveMipmapLevel(),QM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const d=this._allocateTargets();return d.depthBuffer=!0,this._sceneToCubeUV(e,n,s,d,c),t>0&&this._blur(d,0,0,t),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=kR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=VR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(YM,ZM,KM),this._renderer.xr.enabled=QM,e.scissorTest=!1,xm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===_u||e.mapping===Uf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),YM=this._renderer.getRenderTarget(),ZM=this._renderer.getActiveCubeFace(),KM=this._renderer.getActiveMipmapLevel(),QM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:fs,minFilter:fs,generateMipmaps:!1,type:Fh,format:Oa,colorSpace:zf,depthBuffer:!1},s=FR(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=FR(e,t,n);const{_lodMax:r}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=QX(r)),this._blurMaterial=$X(r,e,t),this._ggxMaterial=JX(r,e,t)}return s}_compileMaterial(e){const t=new zs(new dn,e);this._renderer.compile(t,ug)}_sceneToCubeUV(e,t,n,s,r){const d=new Ks(90,1,t,n),p=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],g=this._renderer,y=g.autoClear,b=g.toneMapping;g.getClearColor(jR),g.toneMapping=bc,g.autoClear=!1,g.state.buffers.depth.getReversed()&&(g.setRenderTarget(s),g.clearDepth(),g.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new zs(new Vh,new Hf({name:"PMREM.Background",side:fr,depthWrite:!1,depthTest:!1})));const E=this._backgroundBox,A=E.material;let M=!1;const D=e.background;D?D.isColor&&(A.color.copy(D),e.background=null,M=!0):(A.color.copy(jR),M=!0);for(let R=0;R<6;R++){const L=R%3;L===0?(d.up.set(0,p[R],0),d.position.set(r.x,r.y,r.z),d.lookAt(r.x+m[R],r.y,r.z)):L===1?(d.up.set(0,0,p[R]),d.position.set(r.x,r.y,r.z),d.lookAt(r.x,r.y+m[R],r.z)):(d.up.set(0,p[R],0),d.position.set(r.x,r.y,r.z),d.lookAt(r.x,r.y,r.z+m[R]));const z=this._cubeSize;xm(s,L*z,R>2?z:0,z,z),g.setRenderTarget(s),M&&g.render(E,d),g.render(e,d)}g.toneMapping=b,g.autoClear=y,e.background=D}_textureToCubeUV(e,t){const n=this._renderer,s=e.mapping===_u||e.mapping===Uf;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=kR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=VR());const r=s?this._cubemapMaterial:this._equirectMaterial,o=this._lodMeshes[0];o.material=r;const c=r.uniforms;c.envMap.value=e;const d=this._cubeSize;xm(t,0,0,3*d,2*d),n.setRenderTarget(t),n.render(o,ug)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const s=this._lodMeshes.length;for(let r=1;r<s;r++)this._applyGGXFilter(e,r-1,r);t.autoClear=n}_applyGGXFilter(e,t,n){const s=this._renderer,r=this._pingPongRenderTarget,o=this._ggxMaterial,c=this._lodMeshes[n];c.material=o;const d=o.uniforms,p=n/(this._lodMeshes.length-1),m=t/(this._lodMeshes.length-1),g=Math.sqrt(p*p-m*m),y=.05+p*.95,b=g*y,{_lodMax:S}=this,E=this._sizeLods[n],A=3*E*(n>S-Mf?n-S+Mf:0),M=4*(this._cubeSize-E);d.envMap.value=e.texture,d.roughness.value=b,d.mipInt.value=S-t,xm(r,A,M,3*E,2*E),s.setRenderTarget(r),s.render(c,ug),d.envMap.value=r.texture,d.roughness.value=0,d.mipInt.value=S-n,xm(e,A,M,3*E,2*E),s.setRenderTarget(e),s.render(c,ug)}_blur(e,t,n,s,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,s,"latitudinal",r),this._halfBlur(o,e,n,n,s,"longitudinal",r)}_halfBlur(e,t,n,s,r,o,c){const d=this._renderer,p=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&an("blur direction must be either latitudinal or longitudinal!");const m=3,g=this._lodMeshes[s];g.material=p;const y=p.uniforms,b=this._sizeLods[n]-1,S=isFinite(r)?Math.PI/(2*b):2*Math.PI/(2*oh-1),E=r/S,A=isFinite(r)?1+Math.floor(m*E):oh;A>oh&&St(`sigmaRadians, ${r}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${oh}`);const M=[];let D=0;for(let I=0;I<oh;++I){const F=I/E,P=Math.exp(-F*F/2);M.push(P),I===0?D+=P:I<A&&(D+=2*P)}for(let I=0;I<M.length;I++)M[I]=M[I]/D;y.envMap.value=e.texture,y.samples.value=A,y.weights.value=M,y.latitudinal.value=o==="latitudinal",c&&(y.poleAxis.value=c);const{_lodMax:R}=this;y.dTheta.value=S,y.mipInt.value=R-n;const L=this._sizeLods[s],z=3*L*(s>R-Mf?s-R+Mf:0),U=4*(this._cubeSize-L);xm(t,z,U,3*L,2*L),d.setRenderTarget(t),d.render(g,ug)}}function QX(i){const e=[],t=[],n=[];let s=i;const r=i-Mf+1+IR.length;for(let o=0;o<r;o++){const c=Math.pow(2,s);e.push(c);let d=1/c;o>i-Mf?d=IR[o-i+Mf-1]:o===0&&(d=0),t.push(d);const p=1/(c-2),m=-p,g=1+p,y=[m,m,g,m,g,g,m,m,g,g,m,g],b=6,S=6,E=3,A=2,M=1,D=new Float32Array(E*S*b),R=new Float32Array(A*S*b),L=new Float32Array(M*S*b);for(let U=0;U<b;U++){const I=U%3*2/3-1,F=U>2?0:-1,P=[I,F,0,I+2/3,F,0,I+2/3,F+1,0,I,F,0,I+2/3,F+1,0,I,F+1,0];D.set(P,E*S*U),R.set(y,A*S*U);const B=[U,U,U,U,U,U];L.set(B,M*S*U)}const z=new dn;z.setAttribute("position",new vi(D,E)),z.setAttribute("uv",new vi(R,A)),z.setAttribute("faceIndex",new vi(L,M)),n.push(new zs(z,null)),s>Mf&&s--}return{lodMeshes:n,sizeLods:e,sigmas:t}}function FR(i,e,t){const n=new Mc(i,e,t);return n.texture.mapping=v0,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function xm(i,e,t,n,s){i.viewport.set(e,t,n,s),i.scissor.set(e,t,n,s)}function JX(i,e,t){return new fo({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:ZX,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:KS(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:_c,depthTest:!1,depthWrite:!1})}function $X(i,e,t){const n=new Float32Array(oh),s=new te(0,1,0);return new fo({name:"SphericalGaussianBlur",defines:{n:oh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:KS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:_c,depthTest:!1,depthWrite:!1})}function VR(){return new fo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:KS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:_c,depthTest:!1,depthWrite:!1})}function kR(){return new fo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:KS(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:_c,depthTest:!1,depthWrite:!1})}function KS(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function eq(i){let e=new WeakMap,t=null;function n(c){if(c&&c.isTexture){const d=c.mapping,p=d===sv||d===av,m=d===_u||d===Uf;if(p||m){let g=e.get(c);const y=g!==void 0?g.texture.pmremVersion:0;if(c.isRenderTargetTexture&&c.pmremVersion!==y)return t===null&&(t=new vT(i)),g=p?t.fromEquirectangular(c,g):t.fromCubemap(c,g),g.texture.pmremVersion=c.pmremVersion,e.set(c,g),g.texture;if(g!==void 0)return g.texture;{const b=c.image;return p&&b&&b.height>0||m&&b&&s(b)?(t===null&&(t=new vT(i)),g=p?t.fromEquirectangular(c):t.fromCubemap(c),g.texture.pmremVersion=c.pmremVersion,e.set(c,g),c.addEventListener("dispose",r),g.texture):null}}}return c}function s(c){let d=0;const p=6;for(let m=0;m<p;m++)c[m]!==void 0&&d++;return d===p}function r(c){const d=c.target;d.removeEventListener("dispose",r);const p=e.get(d);p!==void 0&&(e.delete(d),p.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:o}}function tq(i){const e={};function t(n){if(e[n]!==void 0)return e[n];const s=i.getExtension(n);return e[n]=s,s}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const s=t(n);return s===null&&Jm("WebGLRenderer: "+n+" extension not supported."),s}}}function nq(i,e,t,n){const s={},r=new WeakMap;function o(g){const y=g.target;y.index!==null&&e.remove(y.index);for(const S in y.attributes)e.remove(y.attributes[S]);y.removeEventListener("dispose",o),delete s[y.id];const b=r.get(y);b&&(e.remove(b),r.delete(y)),n.releaseStatesOfGeometry(y),y.isInstancedBufferGeometry===!0&&delete y._maxInstanceCount,t.memory.geometries--}function c(g,y){return s[y.id]===!0||(y.addEventListener("dispose",o),s[y.id]=!0,t.memory.geometries++),y}function d(g){const y=g.attributes;for(const b in y)e.update(y[b],i.ARRAY_BUFFER)}function p(g){const y=[],b=g.index,S=g.attributes.position;let E=0;if(b!==null){const D=b.array;E=b.version;for(let R=0,L=D.length;R<L;R+=3){const z=D[R+0],U=D[R+1],I=D[R+2];y.push(z,U,U,I,I,z)}}else if(S!==void 0){const D=S.array;E=S.version;for(let R=0,L=D.length/3-1;R<L;R+=3){const z=R+0,U=R+1,I=R+2;y.push(z,U,U,I,I,z)}}else return;const A=new(nO(y)?Zw:Yw)(y,1);A.version=E;const M=r.get(g);M&&e.remove(M),r.set(g,A)}function m(g){const y=r.get(g);if(y){const b=g.index;b!==null&&y.version<b.version&&p(g)}else p(g);return r.get(g)}return{get:c,update:d,getWireframeAttribute:m}}function iq(i,e,t){let n;function s(y){n=y}let r,o;function c(y){r=y.type,o=y.bytesPerElement}function d(y,b){i.drawElements(n,b,r,y*o),t.update(b,n,1)}function p(y,b,S){S!==0&&(i.drawElementsInstanced(n,b,r,y*o,S),t.update(b,n,S))}function m(y,b,S){if(S===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,b,0,r,y,0,S);let A=0;for(let M=0;M<S;M++)A+=b[M];t.update(A,n,1)}function g(y,b,S,E){if(S===0)return;const A=e.get("WEBGL_multi_draw");if(A===null)for(let M=0;M<y.length;M++)p(y[M]/o,b[M],E[M]);else{A.multiDrawElementsInstancedWEBGL(n,b,0,r,y,0,E,0,S);let M=0;for(let D=0;D<S;D++)M+=b[D]*E[D];t.update(M,n,1)}}this.setMode=s,this.setIndex=c,this.render=d,this.renderInstances=p,this.renderMultiDraw=m,this.renderMultiDrawInstances=g}function sq(i){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(r,o,c){switch(t.calls++,o){case i.TRIANGLES:t.triangles+=c*(r/3);break;case i.LINES:t.lines+=c*(r/2);break;case i.LINE_STRIP:t.lines+=c*(r-1);break;case i.LINE_LOOP:t.lines+=c*r;break;case i.POINTS:t.points+=c*r;break;default:an("WebGLInfo: Unknown draw mode:",o);break}}function s(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:s,update:n}}function aq(i,e,t){const n=new WeakMap,s=new Yn;function r(o,c,d){const p=o.morphTargetInfluences,m=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,g=m!==void 0?m.length:0;let y=n.get(c);if(y===void 0||y.count!==g){let B=function(){F.dispose(),n.delete(c),c.removeEventListener("dispose",B)};var b=B;y!==void 0&&y.texture.dispose();const S=c.morphAttributes.position!==void 0,E=c.morphAttributes.normal!==void 0,A=c.morphAttributes.color!==void 0,M=c.morphAttributes.position||[],D=c.morphAttributes.normal||[],R=c.morphAttributes.color||[];let L=0;S===!0&&(L=1),E===!0&&(L=2),A===!0&&(L=3);let z=c.attributes.position.count*L,U=1;z>e.maxTextureSize&&(U=Math.ceil(z/e.maxTextureSize),z=e.maxTextureSize);const I=new Float32Array(z*U*4*g),F=new ES(I,z,U,g);F.type=Rr,F.needsUpdate=!0;const P=L*4;for(let H=0;H<g;H++){const Q=M[H],ie=D[H],ue=R[H],fe=z*U*4*H;for(let V=0;V<Q.count;V++){const X=V*P;S===!0&&(s.fromBufferAttribute(Q,V),I[fe+X+0]=s.x,I[fe+X+1]=s.y,I[fe+X+2]=s.z,I[fe+X+3]=0),E===!0&&(s.fromBufferAttribute(ie,V),I[fe+X+4]=s.x,I[fe+X+5]=s.y,I[fe+X+6]=s.z,I[fe+X+7]=0),A===!0&&(s.fromBufferAttribute(ue,V),I[fe+X+8]=s.x,I[fe+X+9]=s.y,I[fe+X+10]=s.z,I[fe+X+11]=ue.itemSize===4?s.w:1)}}y={count:g,texture:F,size:new Ke(z,U)},n.set(c,y),c.addEventListener("dispose",B)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)d.getUniforms().setValue(i,"morphTexture",o.morphTexture,t);else{let S=0;for(let A=0;A<p.length;A++)S+=p[A];const E=c.morphTargetsRelative?1:1-S;d.getUniforms().setValue(i,"morphTargetBaseInfluence",E),d.getUniforms().setValue(i,"morphTargetInfluences",p)}d.getUniforms().setValue(i,"morphTargetsTexture",y.texture,t),d.getUniforms().setValue(i,"morphTargetsTextureSize",y.size)}return{update:r}}function rq(i,e,t,n){let s=new WeakMap;function r(d){const p=n.render.frame,m=d.geometry,g=e.get(d,m);if(s.get(g)!==p&&(e.update(g),s.set(g,p)),d.isInstancedMesh&&(d.hasEventListener("dispose",c)===!1&&d.addEventListener("dispose",c),s.get(d)!==p&&(t.update(d.instanceMatrix,i.ARRAY_BUFFER),d.instanceColor!==null&&t.update(d.instanceColor,i.ARRAY_BUFFER),s.set(d,p))),d.isSkinnedMesh){const y=d.skeleton;s.get(y)!==p&&(y.update(),s.set(y,p))}return g}function o(){s=new WeakMap}function c(d){const p=d.target;p.removeEventListener("dispose",c),t.remove(p.instanceMatrix),p.instanceColor!==null&&t.remove(p.instanceColor)}return{update:r,dispose:o}}const cU=new ts,HR=new $w(1,1),uU=new ES,fU=new AS,dU=new kv,GR=[],XR=[],qR=new Float32Array(16),WR=new Float32Array(9),YR=new Float32Array(4);function S0(i,e,t){const n=i[0];if(n<=0||n>0)return i;const s=e*t;let r=GR[s];if(r===void 0&&(r=new Float32Array(s),GR[s]=r),e!==0){n.toArray(r,0);for(let o=1,c=0;o!==e;++o)c+=t,i[o].toArray(r,c)}return r}function Ps(i,e){if(i.length!==e.length)return!1;for(let t=0,n=i.length;t<n;t++)if(i[t]!==e[t])return!1;return!0}function Bs(i,e){for(let t=0,n=e.length;t<n;t++)i[t]=e[t]}function QS(i,e){let t=XR[e];t===void 0&&(t=new Int32Array(e),XR[e]=t);for(let n=0;n!==e;++n)t[n]=i.allocateTextureUnit();return t}function oq(i,e){const t=this.cache;t[0]!==e&&(i.uniform1f(this.addr,e),t[0]=e)}function lq(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ps(t,e))return;i.uniform2fv(this.addr,e),Bs(t,e)}}function cq(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(i.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ps(t,e))return;i.uniform3fv(this.addr,e),Bs(t,e)}}function uq(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ps(t,e))return;i.uniform4fv(this.addr,e),Bs(t,e)}}function fq(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Ps(t,e))return;i.uniformMatrix2fv(this.addr,!1,e),Bs(t,e)}else{if(Ps(t,n))return;YR.set(n),i.uniformMatrix2fv(this.addr,!1,YR),Bs(t,n)}}function dq(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Ps(t,e))return;i.uniformMatrix3fv(this.addr,!1,e),Bs(t,e)}else{if(Ps(t,n))return;WR.set(n),i.uniformMatrix3fv(this.addr,!1,WR),Bs(t,n)}}function hq(i,e){const t=this.cache,n=e.elements;if(n===void 0){if(Ps(t,e))return;i.uniformMatrix4fv(this.addr,!1,e),Bs(t,e)}else{if(Ps(t,n))return;qR.set(n),i.uniformMatrix4fv(this.addr,!1,qR),Bs(t,n)}}function pq(i,e){const t=this.cache;t[0]!==e&&(i.uniform1i(this.addr,e),t[0]=e)}function mq(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ps(t,e))return;i.uniform2iv(this.addr,e),Bs(t,e)}}function xq(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ps(t,e))return;i.uniform3iv(this.addr,e),Bs(t,e)}}function gq(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ps(t,e))return;i.uniform4iv(this.addr,e),Bs(t,e)}}function vq(i,e){const t=this.cache;t[0]!==e&&(i.uniform1ui(this.addr,e),t[0]=e)}function yq(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(i.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ps(t,e))return;i.uniform2uiv(this.addr,e),Bs(t,e)}}function _q(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(i.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ps(t,e))return;i.uniform3uiv(this.addr,e),Bs(t,e)}}function bq(i,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(i.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ps(t,e))return;i.uniform4uiv(this.addr,e),Bs(t,e)}}function Sq(i,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s);let r;this.type===i.SAMPLER_2D_SHADOW?(HR.compareFunction=Xw,r=HR):r=cU,t.setTexture2D(e||r,s)}function Mq(i,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),t.setTexture3D(e||fU,s)}function Tq(i,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),t.setTextureCube(e||dU,s)}function wq(i,e,t){const n=this.cache,s=t.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),t.setTexture2DArray(e||uU,s)}function Eq(i){switch(i){case 5126:return oq;case 35664:return lq;case 35665:return cq;case 35666:return uq;case 35674:return fq;case 35675:return dq;case 35676:return hq;case 5124:case 35670:return pq;case 35667:case 35671:return mq;case 35668:case 35672:return xq;case 35669:case 35673:return gq;case 5125:return vq;case 36294:return yq;case 36295:return _q;case 36296:return bq;case 35678:case 36198:case 36298:case 36306:case 35682:return Sq;case 35679:case 36299:case 36307:return Mq;case 35680:case 36300:case 36308:case 36293:return Tq;case 36289:case 36303:case 36311:case 36292:return wq}}function Aq(i,e){i.uniform1fv(this.addr,e)}function Cq(i,e){const t=S0(e,this.size,2);i.uniform2fv(this.addr,t)}function Nq(i,e){const t=S0(e,this.size,3);i.uniform3fv(this.addr,t)}function Rq(i,e){const t=S0(e,this.size,4);i.uniform4fv(this.addr,t)}function Dq(i,e){const t=S0(e,this.size,4);i.uniformMatrix2fv(this.addr,!1,t)}function Lq(i,e){const t=S0(e,this.size,9);i.uniformMatrix3fv(this.addr,!1,t)}function Oq(i,e){const t=S0(e,this.size,16);i.uniformMatrix4fv(this.addr,!1,t)}function Uq(i,e){i.uniform1iv(this.addr,e)}function zq(i,e){i.uniform2iv(this.addr,e)}function Pq(i,e){i.uniform3iv(this.addr,e)}function Bq(i,e){i.uniform4iv(this.addr,e)}function Iq(i,e){i.uniform1uiv(this.addr,e)}function jq(i,e){i.uniform2uiv(this.addr,e)}function Fq(i,e){i.uniform3uiv(this.addr,e)}function Vq(i,e){i.uniform4uiv(this.addr,e)}function kq(i,e,t){const n=this.cache,s=e.length,r=QS(t,s);Ps(n,r)||(i.uniform1iv(this.addr,r),Bs(n,r));for(let o=0;o!==s;++o)t.setTexture2D(e[o]||cU,r[o])}function Hq(i,e,t){const n=this.cache,s=e.length,r=QS(t,s);Ps(n,r)||(i.uniform1iv(this.addr,r),Bs(n,r));for(let o=0;o!==s;++o)t.setTexture3D(e[o]||fU,r[o])}function Gq(i,e,t){const n=this.cache,s=e.length,r=QS(t,s);Ps(n,r)||(i.uniform1iv(this.addr,r),Bs(n,r));for(let o=0;o!==s;++o)t.setTextureCube(e[o]||dU,r[o])}function Xq(i,e,t){const n=this.cache,s=e.length,r=QS(t,s);Ps(n,r)||(i.uniform1iv(this.addr,r),Bs(n,r));for(let o=0;o!==s;++o)t.setTexture2DArray(e[o]||uU,r[o])}function qq(i){switch(i){case 5126:return Aq;case 35664:return Cq;case 35665:return Nq;case 35666:return Rq;case 35674:return Dq;case 35675:return Lq;case 35676:return Oq;case 5124:case 35670:return Uq;case 35667:case 35671:return zq;case 35668:case 35672:return Pq;case 35669:case 35673:return Bq;case 5125:return Iq;case 36294:return jq;case 36295:return Fq;case 36296:return Vq;case 35678:case 36198:case 36298:case 36306:case 35682:return kq;case 35679:case 36299:case 36307:return Hq;case 35680:case 36300:case 36308:case 36293:return Gq;case 36289:case 36303:case 36311:case 36292:return Xq}}class Wq{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=Eq(t.type)}}class Yq{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=qq(t.type)}}class Zq{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const s=this.seq;for(let r=0,o=s.length;r!==o;++r){const c=s[r];c.setValue(e,t[c.id],n)}}}const JM=/(\w+)(\])?(\[|\.)?/g;function ZR(i,e){i.seq.push(e),i.map[e.id]=e}function Kq(i,e,t){const n=i.name,s=n.length;for(JM.lastIndex=0;;){const r=JM.exec(n),o=JM.lastIndex;let c=r[1];const d=r[2]==="]",p=r[3];if(d&&(c=c|0),p===void 0||p==="["&&o+2===s){ZR(t,p===void 0?new Wq(c,i,e):new Yq(c,i,e));break}else{let g=t.map[c];g===void 0&&(g=new Zq(c),ZR(t,g)),t=g}}}class Ib{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let s=0;s<n;++s){const r=e.getActiveUniform(t,s),o=e.getUniformLocation(t,r.name);Kq(r,o,this)}}setValue(e,t,n,s){const r=this.map[t];r!==void 0&&r.setValue(e,n,s)}setOptional(e,t,n){const s=t[n];s!==void 0&&this.setValue(e,n,s)}static upload(e,t,n,s){for(let r=0,o=t.length;r!==o;++r){const c=t[r],d=n[c.id];d.needsUpdate!==!1&&c.setValue(e,d.value,s)}}static seqWithValue(e,t){const n=[];for(let s=0,r=e.length;s!==r;++s){const o=e[s];o.id in t&&n.push(o)}return n}}function KR(i,e,t){const n=i.createShader(e);return i.shaderSource(n,t),i.compileShader(n),n}const Qq=37297;let Jq=0;function $q(i,e){const t=i.split(`
`),n=[],s=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let o=s;o<r;o++){const c=o+1;n.push(`${c===e?">":" "} ${c}: ${t[o]}`)}return n.join(`
`)}const QR=new fn;function eW(i){Gn._getMatrix(QR,Gn.workingColorSpace,i);const e=`mat3( ${QR.elements.map(t=>t.toFixed(4))} )`;switch(Gn.getTransfer(i)){case uv:return[e,"LinearTransferOETF"];case hi:return[e,"sRGBTransferOETF"];default:return St("WebGLProgram: Unsupported color space: ",i),[e,"LinearTransferOETF"]}}function JR(i,e,t){const n=i.getShaderParameter(e,i.COMPILE_STATUS),r=(i.getShaderInfoLog(e)||"").trim();if(n&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const c=parseInt(o[1]);return t.toUpperCase()+`

`+r+`

`+$q(i.getShaderSource(e),c)}else return r}function tW(i,e){const t=eW(e);return[`vec4 ${i}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function nW(i,e){let t;switch(e){case PL:t="Linear";break;case BL:t="Reinhard";break;case IL:t="Cineon";break;case Pw:t="ACESFilmic";break;case FL:t="AgX";break;case VL:t="Neutral";break;case jL:t="Custom";break;default:St("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+i+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const fb=new te;function iW(){Gn.getLuminanceCoefficients(fb);const i=fb.x.toFixed(4),e=fb.y.toFixed(4),t=fb.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${i}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function sW(i){return[i.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",i.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(vg).join(`
`)}function aW(i){const e=[];for(const t in i){const n=i[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function rW(i,e){const t={},n=i.getProgramParameter(e,i.ACTIVE_ATTRIBUTES);for(let s=0;s<n;s++){const r=i.getActiveAttrib(e,s),o=r.name;let c=1;r.type===i.FLOAT_MAT2&&(c=2),r.type===i.FLOAT_MAT3&&(c=3),r.type===i.FLOAT_MAT4&&(c=4),t[o]={type:r.type,location:i.getAttribLocation(e,o),locationSize:c}}return t}function vg(i){return i!==""}function $R(i,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return i.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function e4(i,e){return i.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const oW=/^[ \t]*#include +<([\w\d./]+)>/gm;function yT(i){return i.replace(oW,cW)}const lW=new Map;function cW(i,e){let t=vn[e];if(t===void 0){const n=lW.get(e);if(n!==void 0)t=vn[n],St('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return yT(t)}const uW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function t4(i){return i.replace(uW,fW)}function fW(i,e,t,n){let s="";for(let r=parseInt(e);r<parseInt(t);r++)s+=n.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function n4(i){let e=`precision ${i.precision} float;
	precision ${i.precision} int;
	precision ${i.precision} sampler2D;
	precision ${i.precision} samplerCube;
	precision ${i.precision} sampler3D;
	precision ${i.precision} sampler2DArray;
	precision ${i.precision} sampler2DShadow;
	precision ${i.precision} samplerCubeShadow;
	precision ${i.precision} sampler2DArrayShadow;
	precision ${i.precision} isampler2D;
	precision ${i.precision} isampler3D;
	precision ${i.precision} isamplerCube;
	precision ${i.precision} isampler2DArray;
	precision ${i.precision} usampler2D;
	precision ${i.precision} usampler3D;
	precision ${i.precision} usamplerCube;
	precision ${i.precision} usampler2DArray;
	`;return i.precision==="highp"?e+=`
#define HIGH_PRECISION`:i.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:i.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function dW(i){let e="SHADOWMAP_TYPE_BASIC";return i.shadowMapType===xS?e="SHADOWMAP_TYPE_PCF":i.shadowMapType===Rg?e="SHADOWMAP_TYPE_PCF_SOFT":i.shadowMapType===Ml&&(e="SHADOWMAP_TYPE_VSM"),e}function hW(i){let e="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case _u:case Uf:e="ENVMAP_TYPE_CUBE";break;case v0:e="ENVMAP_TYPE_CUBE_UV";break}return e}function pW(i){let e="ENVMAP_MODE_REFLECTION";if(i.envMap)switch(i.envMapMode){case Uf:e="ENVMAP_MODE_REFRACTION";break}return e}function mW(i){let e="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case Fv:e="ENVMAP_BLENDING_MULTIPLY";break;case UL:e="ENVMAP_BLENDING_MIX";break;case zL:e="ENVMAP_BLENDING_ADD";break}return e}function xW(i){const e=i.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function gW(i,e,t,n){const s=i.getContext(),r=t.defines;let o=t.vertexShader,c=t.fragmentShader;const d=dW(t),p=hW(t),m=pW(t),g=mW(t),y=xW(t),b=sW(t),S=aW(r),E=s.createProgram();let A,M,D=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(vg).join(`
`),A.length>0&&(A+=`
`),M=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S].filter(vg).join(`
`),M.length>0&&(M+=`
`)):(A=[n4(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(vg).join(`
`),M=[n4(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,S,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.envMap?"#define "+m:"",t.envMap?"#define "+g:"",y?"#define CUBEUV_TEXEL_WIDTH "+y.texelWidth:"",y?"#define CUBEUV_TEXEL_HEIGHT "+y.texelHeight:"",y?"#define CUBEUV_MAX_MIP "+y.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==bc?"#define TONE_MAPPING":"",t.toneMapping!==bc?vn.tonemapping_pars_fragment:"",t.toneMapping!==bc?nW("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",vn.colorspace_pars_fragment,tW("linearToOutputTexel",t.outputColorSpace),iW(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(vg).join(`
`)),o=yT(o),o=$R(o,t),o=e4(o,t),c=yT(c),c=$R(c,t),c=e4(c,t),o=t4(o),c=t4(c),t.isRawShaderMaterial!==!0&&(D=`#version 300 es
`,A=[b,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,M=["#define varying in",t.glslVersion===uT?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===uT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const R=D+A+o,L=D+M+c,z=KR(s,s.VERTEX_SHADER,R),U=KR(s,s.FRAGMENT_SHADER,L);s.attachShader(E,z),s.attachShader(E,U),t.index0AttributeName!==void 0?s.bindAttribLocation(E,0,t.index0AttributeName):t.morphTargets===!0&&s.bindAttribLocation(E,0,"position"),s.linkProgram(E);function I(H){if(i.debug.checkShaderErrors){const Q=s.getProgramInfoLog(E)||"",ie=s.getShaderInfoLog(z)||"",ue=s.getShaderInfoLog(U)||"",fe=Q.trim(),V=ie.trim(),X=ue.trim();let K=!0,ce=!0;if(s.getProgramParameter(E,s.LINK_STATUS)===!1)if(K=!1,typeof i.debug.onShaderError=="function")i.debug.onShaderError(s,E,z,U);else{const Y=JR(s,z,"vertex"),W=JR(s,U,"fragment");an("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(E,s.VALIDATE_STATUS)+`

Material Name: `+H.name+`
Material Type: `+H.type+`

Program Info Log: `+fe+`
`+Y+`
`+W)}else fe!==""?St("WebGLProgram: Program Info Log:",fe):(V===""||X==="")&&(ce=!1);ce&&(H.diagnostics={runnable:K,programLog:fe,vertexShader:{log:V,prefix:A},fragmentShader:{log:X,prefix:M}})}s.deleteShader(z),s.deleteShader(U),F=new Ib(s,E),P=rW(s,E)}let F;this.getUniforms=function(){return F===void 0&&I(this),F};let P;this.getAttributes=function(){return P===void 0&&I(this),P};let B=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return B===!1&&(B=s.getProgramParameter(E,Qq)),B},this.destroy=function(){n.releaseStatesOfProgram(this),s.deleteProgram(E),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Jq++,this.cacheKey=e,this.usedTimes=1,this.program=E,this.vertexShader=z,this.fragmentShader=U,this}let vW=0;class yW{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,s=this._getShaderStage(t),r=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return o.has(s)===!1&&(o.add(s),s.usedTimes++),o.has(r)===!1&&(o.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new _W(e),t.set(e,n)),n}}class _W{constructor(e){this.id=vW++,this.code=e,this.usedTimes=0}}function bW(i,e,t,n,s,r,o){const c=new e0,d=new yW,p=new Set,m=[],g=s.logarithmicDepthBuffer,y=s.vertexTextures;let b=s.precision;const S={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(P){return p.add(P),P===0?"uv":`uv${P}`}function A(P,B,H,Q,ie){const ue=Q.fog,fe=ie.geometry,V=P.isMeshStandardMaterial?Q.environment:null,X=(P.isMeshStandardMaterial?t:e).get(P.envMap||V),K=X&&X.mapping===v0?X.image.height:null,ce=S[P.type];P.precision!==null&&(b=s.getMaxPrecision(P.precision),b!==P.precision&&St("WebGLProgram.getParameters:",P.precision,"not supported, using",b,"instead."));const Y=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,W=Y!==void 0?Y.length:0;let ae=0;fe.morphAttributes.position!==void 0&&(ae=1),fe.morphAttributes.normal!==void 0&&(ae=2),fe.morphAttributes.color!==void 0&&(ae=3);let he,ye,Pe,pe;if(ce){const gt=Tl[ce];he=gt.vertexShader,ye=gt.fragmentShader}else he=P.vertexShader,ye=P.fragmentShader,d.update(P),Pe=d.getVertexShaderID(P),pe=d.getFragmentShaderID(P);const _e=i.getRenderTarget(),We=i.state.buffers.depth.getReversed(),tt=ie.isInstancedMesh===!0,pt=ie.isBatchedMesh===!0,vt=!!P.map,Gt=!!P.matcap,et=!!X,Ce=!!P.aoMap,J=!!P.lightMap,Ve=!!P.bumpMap,re=!!P.normalMap,Qe=!!P.displacementMap,Xe=!!P.emissiveMap,at=!!P.metalnessMap,Ye=!!P.roughnessMap,ct=P.anisotropy>0,$=P.clearcoat>0,k=P.dispersion>0,xe=P.iridescence>0,Ue=P.sheen>0,Be=P.transmission>0,Re=ct&&!!P.anisotropyMap,ft=$&&!!P.clearcoatMap,nt=$&&!!P.clearcoatNormalMap,wt=$&&!!P.clearcoatRoughnessMap,ee=xe&&!!P.iridescenceMap,Ae=xe&&!!P.iridescenceThicknessMap,je=Ue&&!!P.sheenColorMap,mt=Ue&&!!P.sheenRoughnessMap,ut=!!P.specularMap,ot=!!P.specularColorMap,Dt=!!P.specularIntensityMap,ne=Be&&!!P.transmissionMap,st=Be&&!!P.thicknessMap,Je=!!P.gradientMap,Ze=!!P.alphaMap,He=P.alphaTest>0,Ie=!!P.alphaHash,xt=!!P.extensions;let zt=bc;P.toneMapped&&(_e===null||_e.isXRRenderTarget===!0)&&(zt=i.toneMapping);const yn={shaderID:ce,shaderType:P.type,shaderName:P.name,vertexShader:he,fragmentShader:ye,defines:P.defines,customVertexShaderID:Pe,customFragmentShaderID:pe,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:b,batching:pt,batchingColor:pt&&ie._colorsTexture!==null,instancing:tt,instancingColor:tt&&ie.instanceColor!==null,instancingMorph:tt&&ie.morphTexture!==null,supportsVertexTextures:y,outputColorSpace:_e===null?i.outputColorSpace:_e.isXRRenderTarget===!0?_e.texture.colorSpace:zf,alphaToCoverage:!!P.alphaToCoverage,map:vt,matcap:Gt,envMap:et,envMapMode:et&&X.mapping,envMapCubeUVHeight:K,aoMap:Ce,lightMap:J,bumpMap:Ve,normalMap:re,displacementMap:y&&Qe,emissiveMap:Xe,normalMapObjectSpace:re&&P.normalMapType===YL,normalMapTangentSpace:re&&P.normalMapType===kf,metalnessMap:at,roughnessMap:Ye,anisotropy:ct,anisotropyMap:Re,clearcoat:$,clearcoatMap:ft,clearcoatNormalMap:nt,clearcoatRoughnessMap:wt,dispersion:k,iridescence:xe,iridescenceMap:ee,iridescenceThicknessMap:Ae,sheen:Ue,sheenColorMap:je,sheenRoughnessMap:mt,specularMap:ut,specularColorMap:ot,specularIntensityMap:Dt,transmission:Be,transmissionMap:ne,thicknessMap:st,gradientMap:Je,opaque:P.transparent===!1&&P.blending===yh&&P.alphaToCoverage===!1,alphaMap:Ze,alphaTest:He,alphaHash:Ie,combine:P.combine,mapUv:vt&&E(P.map.channel),aoMapUv:Ce&&E(P.aoMap.channel),lightMapUv:J&&E(P.lightMap.channel),bumpMapUv:Ve&&E(P.bumpMap.channel),normalMapUv:re&&E(P.normalMap.channel),displacementMapUv:Qe&&E(P.displacementMap.channel),emissiveMapUv:Xe&&E(P.emissiveMap.channel),metalnessMapUv:at&&E(P.metalnessMap.channel),roughnessMapUv:Ye&&E(P.roughnessMap.channel),anisotropyMapUv:Re&&E(P.anisotropyMap.channel),clearcoatMapUv:ft&&E(P.clearcoatMap.channel),clearcoatNormalMapUv:nt&&E(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:wt&&E(P.clearcoatRoughnessMap.channel),iridescenceMapUv:ee&&E(P.iridescenceMap.channel),iridescenceThicknessMapUv:Ae&&E(P.iridescenceThicknessMap.channel),sheenColorMapUv:je&&E(P.sheenColorMap.channel),sheenRoughnessMapUv:mt&&E(P.sheenRoughnessMap.channel),specularMapUv:ut&&E(P.specularMap.channel),specularColorMapUv:ot&&E(P.specularColorMap.channel),specularIntensityMapUv:Dt&&E(P.specularIntensityMap.channel),transmissionMapUv:ne&&E(P.transmissionMap.channel),thicknessMapUv:st&&E(P.thicknessMap.channel),alphaMapUv:Ze&&E(P.alphaMap.channel),vertexTangents:!!fe.attributes.tangent&&(re||ct),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,pointsUvs:ie.isPoints===!0&&!!fe.attributes.uv&&(vt||Ze),fog:!!ue,useFog:P.fog===!0,fogExp2:!!ue&&ue.isFogExp2,flatShading:P.flatShading===!0&&P.wireframe===!1,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:g,reversedDepthBuffer:We,skinning:ie.isSkinnedMesh===!0,morphTargets:fe.morphAttributes.position!==void 0,morphNormals:fe.morphAttributes.normal!==void 0,morphColors:fe.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:ae,numDirLights:B.directional.length,numPointLights:B.point.length,numSpotLights:B.spot.length,numSpotLightMaps:B.spotLightMap.length,numRectAreaLights:B.rectArea.length,numHemiLights:B.hemi.length,numDirLightShadows:B.directionalShadowMap.length,numPointLightShadows:B.pointShadowMap.length,numSpotLightShadows:B.spotShadowMap.length,numSpotLightShadowsWithMaps:B.numSpotLightShadowsWithMaps,numLightProbes:B.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:i.shadowMap.enabled&&H.length>0,shadowMapType:i.shadowMap.type,toneMapping:zt,decodeVideoTexture:vt&&P.map.isVideoTexture===!0&&Gn.getTransfer(P.map.colorSpace)===hi,decodeVideoTextureEmissive:Xe&&P.emissiveMap.isVideoTexture===!0&&Gn.getTransfer(P.emissiveMap.colorSpace)===hi,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===dc,flipSided:P.side===fr,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:xt&&P.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(xt&&P.extensions.multiDraw===!0||pt)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return yn.vertexUv1s=p.has(1),yn.vertexUv2s=p.has(2),yn.vertexUv3s=p.has(3),p.clear(),yn}function M(P){const B=[];if(P.shaderID?B.push(P.shaderID):(B.push(P.customVertexShaderID),B.push(P.customFragmentShaderID)),P.defines!==void 0)for(const H in P.defines)B.push(H),B.push(P.defines[H]);return P.isRawShaderMaterial===!1&&(D(B,P),R(B,P),B.push(i.outputColorSpace)),B.push(P.customProgramCacheKey),B.join()}function D(P,B){P.push(B.precision),P.push(B.outputColorSpace),P.push(B.envMapMode),P.push(B.envMapCubeUVHeight),P.push(B.mapUv),P.push(B.alphaMapUv),P.push(B.lightMapUv),P.push(B.aoMapUv),P.push(B.bumpMapUv),P.push(B.normalMapUv),P.push(B.displacementMapUv),P.push(B.emissiveMapUv),P.push(B.metalnessMapUv),P.push(B.roughnessMapUv),P.push(B.anisotropyMapUv),P.push(B.clearcoatMapUv),P.push(B.clearcoatNormalMapUv),P.push(B.clearcoatRoughnessMapUv),P.push(B.iridescenceMapUv),P.push(B.iridescenceThicknessMapUv),P.push(B.sheenColorMapUv),P.push(B.sheenRoughnessMapUv),P.push(B.specularMapUv),P.push(B.specularColorMapUv),P.push(B.specularIntensityMapUv),P.push(B.transmissionMapUv),P.push(B.thicknessMapUv),P.push(B.combine),P.push(B.fogExp2),P.push(B.sizeAttenuation),P.push(B.morphTargetsCount),P.push(B.morphAttributeCount),P.push(B.numDirLights),P.push(B.numPointLights),P.push(B.numSpotLights),P.push(B.numSpotLightMaps),P.push(B.numHemiLights),P.push(B.numRectAreaLights),P.push(B.numDirLightShadows),P.push(B.numPointLightShadows),P.push(B.numSpotLightShadows),P.push(B.numSpotLightShadowsWithMaps),P.push(B.numLightProbes),P.push(B.shadowMapType),P.push(B.toneMapping),P.push(B.numClippingPlanes),P.push(B.numClipIntersection),P.push(B.depthPacking)}function R(P,B){c.disableAll(),B.supportsVertexTextures&&c.enable(0),B.instancing&&c.enable(1),B.instancingColor&&c.enable(2),B.instancingMorph&&c.enable(3),B.matcap&&c.enable(4),B.envMap&&c.enable(5),B.normalMapObjectSpace&&c.enable(6),B.normalMapTangentSpace&&c.enable(7),B.clearcoat&&c.enable(8),B.iridescence&&c.enable(9),B.alphaTest&&c.enable(10),B.vertexColors&&c.enable(11),B.vertexAlphas&&c.enable(12),B.vertexUv1s&&c.enable(13),B.vertexUv2s&&c.enable(14),B.vertexUv3s&&c.enable(15),B.vertexTangents&&c.enable(16),B.anisotropy&&c.enable(17),B.alphaHash&&c.enable(18),B.batching&&c.enable(19),B.dispersion&&c.enable(20),B.batchingColor&&c.enable(21),B.gradientMap&&c.enable(22),P.push(c.mask),c.disableAll(),B.fog&&c.enable(0),B.useFog&&c.enable(1),B.flatShading&&c.enable(2),B.logarithmicDepthBuffer&&c.enable(3),B.reversedDepthBuffer&&c.enable(4),B.skinning&&c.enable(5),B.morphTargets&&c.enable(6),B.morphNormals&&c.enable(7),B.morphColors&&c.enable(8),B.premultipliedAlpha&&c.enable(9),B.shadowMapEnabled&&c.enable(10),B.doubleSided&&c.enable(11),B.flipSided&&c.enable(12),B.useDepthPacking&&c.enable(13),B.dithering&&c.enable(14),B.transmission&&c.enable(15),B.sheen&&c.enable(16),B.opaque&&c.enable(17),B.pointsUvs&&c.enable(18),B.decodeVideoTexture&&c.enable(19),B.decodeVideoTextureEmissive&&c.enable(20),B.alphaToCoverage&&c.enable(21),P.push(c.mask)}function L(P){const B=S[P.type];let H;if(B){const Q=Tl[B];H=oO.clone(Q.uniforms)}else H=P.uniforms;return H}function z(P,B){let H;for(let Q=0,ie=m.length;Q<ie;Q++){const ue=m[Q];if(ue.cacheKey===B){H=ue,++H.usedTimes;break}}return H===void 0&&(H=new gW(i,B,P,r),m.push(H)),H}function U(P){if(--P.usedTimes===0){const B=m.indexOf(P);m[B]=m[m.length-1],m.pop(),P.destroy()}}function I(P){d.remove(P)}function F(){d.dispose()}return{getParameters:A,getProgramCacheKey:M,getUniforms:L,acquireProgram:z,releaseProgram:U,releaseShaderCache:I,programs:m,dispose:F}}function SW(){let i=new WeakMap;function e(o){return i.has(o)}function t(o){let c=i.get(o);return c===void 0&&(c={},i.set(o,c)),c}function n(o){i.delete(o)}function s(o,c,d){i.get(o)[c]=d}function r(){i=new WeakMap}return{has:e,get:t,remove:n,update:s,dispose:r}}function MW(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.material.id!==e.material.id?i.material.id-e.material.id:i.z!==e.z?i.z-e.z:i.id-e.id}function i4(i,e){return i.groupOrder!==e.groupOrder?i.groupOrder-e.groupOrder:i.renderOrder!==e.renderOrder?i.renderOrder-e.renderOrder:i.z!==e.z?e.z-i.z:i.id-e.id}function s4(){const i=[];let e=0;const t=[],n=[],s=[];function r(){e=0,t.length=0,n.length=0,s.length=0}function o(g,y,b,S,E,A){let M=i[e];return M===void 0?(M={id:g.id,object:g,geometry:y,material:b,groupOrder:S,renderOrder:g.renderOrder,z:E,group:A},i[e]=M):(M.id=g.id,M.object=g,M.geometry=y,M.material=b,M.groupOrder=S,M.renderOrder=g.renderOrder,M.z=E,M.group=A),e++,M}function c(g,y,b,S,E,A){const M=o(g,y,b,S,E,A);b.transmission>0?n.push(M):b.transparent===!0?s.push(M):t.push(M)}function d(g,y,b,S,E,A){const M=o(g,y,b,S,E,A);b.transmission>0?n.unshift(M):b.transparent===!0?s.unshift(M):t.unshift(M)}function p(g,y){t.length>1&&t.sort(g||MW),n.length>1&&n.sort(y||i4),s.length>1&&s.sort(y||i4)}function m(){for(let g=e,y=i.length;g<y;g++){const b=i[g];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:t,transmissive:n,transparent:s,init:r,push:c,unshift:d,finish:m,sort:p}}function TW(){let i=new WeakMap;function e(n,s){const r=i.get(n);let o;return r===void 0?(o=new s4,i.set(n,[o])):s>=r.length?(o=new s4,r.push(o)):o=r[s],o}function t(){i=new WeakMap}return{get:e,dispose:t}}function wW(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new te,color:new Tt};break;case"SpotLight":t={position:new te,direction:new te,color:new Tt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new te,color:new Tt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new te,skyColor:new Tt,groundColor:new Tt};break;case"RectAreaLight":t={color:new Tt,position:new te,halfWidth:new te,halfHeight:new te};break}return i[e.id]=t,t}}}function EW(){const i={};return{get:function(e){if(i[e.id]!==void 0)return i[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ke};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ke};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ke,shadowCameraNear:1,shadowCameraFar:1e3};break}return i[e.id]=t,t}}}let AW=0;function CW(i,e){return(e.castShadow?2:0)-(i.castShadow?2:0)+(e.map?1:0)-(i.map?1:0)}function NW(i){const e=new wW,t=EW(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)n.probe.push(new te);const s=new te,r=new $t,o=new $t;function c(p){let m=0,g=0,y=0;for(let P=0;P<9;P++)n.probe[P].set(0,0,0);let b=0,S=0,E=0,A=0,M=0,D=0,R=0,L=0,z=0,U=0,I=0;p.sort(CW);for(let P=0,B=p.length;P<B;P++){const H=p[P],Q=H.color,ie=H.intensity,ue=H.distance,fe=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)m+=Q.r*ie,g+=Q.g*ie,y+=Q.b*ie;else if(H.isLightProbe){for(let V=0;V<9;V++)n.probe[V].addScaledVector(H.sh.coefficients[V],ie);I++}else if(H.isDirectionalLight){const V=e.get(H);if(V.color.copy(H.color).multiplyScalar(H.intensity),H.castShadow){const X=H.shadow,K=t.get(H);K.shadowIntensity=X.intensity,K.shadowBias=X.bias,K.shadowNormalBias=X.normalBias,K.shadowRadius=X.radius,K.shadowMapSize=X.mapSize,n.directionalShadow[b]=K,n.directionalShadowMap[b]=fe,n.directionalShadowMatrix[b]=H.shadow.matrix,D++}n.directional[b]=V,b++}else if(H.isSpotLight){const V=e.get(H);V.position.setFromMatrixPosition(H.matrixWorld),V.color.copy(Q).multiplyScalar(ie),V.distance=ue,V.coneCos=Math.cos(H.angle),V.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),V.decay=H.decay,n.spot[E]=V;const X=H.shadow;if(H.map&&(n.spotLightMap[z]=H.map,z++,X.updateMatrices(H),H.castShadow&&U++),n.spotLightMatrix[E]=X.matrix,H.castShadow){const K=t.get(H);K.shadowIntensity=X.intensity,K.shadowBias=X.bias,K.shadowNormalBias=X.normalBias,K.shadowRadius=X.radius,K.shadowMapSize=X.mapSize,n.spotShadow[E]=K,n.spotShadowMap[E]=fe,L++}E++}else if(H.isRectAreaLight){const V=e.get(H);V.color.copy(Q).multiplyScalar(ie),V.halfWidth.set(H.width*.5,0,0),V.halfHeight.set(0,H.height*.5,0),n.rectArea[A]=V,A++}else if(H.isPointLight){const V=e.get(H);if(V.color.copy(H.color).multiplyScalar(H.intensity),V.distance=H.distance,V.decay=H.decay,H.castShadow){const X=H.shadow,K=t.get(H);K.shadowIntensity=X.intensity,K.shadowBias=X.bias,K.shadowNormalBias=X.normalBias,K.shadowRadius=X.radius,K.shadowMapSize=X.mapSize,K.shadowCameraNear=X.camera.near,K.shadowCameraFar=X.camera.far,n.pointShadow[S]=K,n.pointShadowMap[S]=fe,n.pointShadowMatrix[S]=H.shadow.matrix,R++}n.point[S]=V,S++}else if(H.isHemisphereLight){const V=e.get(H);V.skyColor.copy(H.color).multiplyScalar(ie),V.groundColor.copy(H.groundColor).multiplyScalar(ie),n.hemi[M]=V,M++}}A>0&&(i.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=bt.LTC_FLOAT_1,n.rectAreaLTC2=bt.LTC_FLOAT_2):(n.rectAreaLTC1=bt.LTC_HALF_1,n.rectAreaLTC2=bt.LTC_HALF_2)),n.ambient[0]=m,n.ambient[1]=g,n.ambient[2]=y;const F=n.hash;(F.directionalLength!==b||F.pointLength!==S||F.spotLength!==E||F.rectAreaLength!==A||F.hemiLength!==M||F.numDirectionalShadows!==D||F.numPointShadows!==R||F.numSpotShadows!==L||F.numSpotMaps!==z||F.numLightProbes!==I)&&(n.directional.length=b,n.spot.length=E,n.rectArea.length=A,n.point.length=S,n.hemi.length=M,n.directionalShadow.length=D,n.directionalShadowMap.length=D,n.pointShadow.length=R,n.pointShadowMap.length=R,n.spotShadow.length=L,n.spotShadowMap.length=L,n.directionalShadowMatrix.length=D,n.pointShadowMatrix.length=R,n.spotLightMatrix.length=L+z-U,n.spotLightMap.length=z,n.numSpotLightShadowsWithMaps=U,n.numLightProbes=I,F.directionalLength=b,F.pointLength=S,F.spotLength=E,F.rectAreaLength=A,F.hemiLength=M,F.numDirectionalShadows=D,F.numPointShadows=R,F.numSpotShadows=L,F.numSpotMaps=z,F.numLightProbes=I,n.version=AW++)}function d(p,m){let g=0,y=0,b=0,S=0,E=0;const A=m.matrixWorldInverse;for(let M=0,D=p.length;M<D;M++){const R=p[M];if(R.isDirectionalLight){const L=n.directional[g];L.direction.setFromMatrixPosition(R.matrixWorld),s.setFromMatrixPosition(R.target.matrixWorld),L.direction.sub(s),L.direction.transformDirection(A),g++}else if(R.isSpotLight){const L=n.spot[b];L.position.setFromMatrixPosition(R.matrixWorld),L.position.applyMatrix4(A),L.direction.setFromMatrixPosition(R.matrixWorld),s.setFromMatrixPosition(R.target.matrixWorld),L.direction.sub(s),L.direction.transformDirection(A),b++}else if(R.isRectAreaLight){const L=n.rectArea[S];L.position.setFromMatrixPosition(R.matrixWorld),L.position.applyMatrix4(A),o.identity(),r.copy(R.matrixWorld),r.premultiply(A),o.extractRotation(r),L.halfWidth.set(R.width*.5,0,0),L.halfHeight.set(0,R.height*.5,0),L.halfWidth.applyMatrix4(o),L.halfHeight.applyMatrix4(o),S++}else if(R.isPointLight){const L=n.point[y];L.position.setFromMatrixPosition(R.matrixWorld),L.position.applyMatrix4(A),y++}else if(R.isHemisphereLight){const L=n.hemi[E];L.direction.setFromMatrixPosition(R.matrixWorld),L.direction.transformDirection(A),E++}}}return{setup:c,setupView:d,state:n}}function a4(i){const e=new NW(i),t=[],n=[];function s(m){p.camera=m,t.length=0,n.length=0}function r(m){t.push(m)}function o(m){n.push(m)}function c(){e.setup(t)}function d(m){e.setupView(t,m)}const p={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:p,setupLights:c,setupLightsView:d,pushLight:r,pushShadow:o}}function RW(i){let e=new WeakMap;function t(s,r=0){const o=e.get(s);let c;return o===void 0?(c=new a4(i),e.set(s,[c])):r>=o.length?(c=new a4(i),o.push(c)):c=o[r],c}function n(){e=new WeakMap}return{get:t,dispose:n}}const DW=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,LW=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function OW(i,e,t){let n=new _0;const s=new Ke,r=new Ke,o=new Yn,c=new lE({depthPacking:WL}),d=new cE,p={},m=t.maxTextureSize,g={[yu]:fr,[fr]:yu,[dc]:dc},y=new fo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ke},radius:{value:4}},vertexShader:DW,fragmentShader:LW}),b=y.clone();b.defines.HORIZONTAL_PASS=1;const S=new dn;S.setAttribute("position",new vi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new zs(S,y),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=xS;let M=this.type;this.render=function(U,I,F){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||U.length===0)return;const P=i.getRenderTarget(),B=i.getActiveCubeFace(),H=i.getActiveMipmapLevel(),Q=i.state;Q.setBlending(_c),Q.buffers.depth.getReversed()===!0?Q.buffers.color.setClear(0,0,0,0):Q.buffers.color.setClear(1,1,1,1),Q.buffers.depth.setTest(!0),Q.setScissorTest(!1);const ie=M!==Ml&&this.type===Ml,ue=M===Ml&&this.type!==Ml;for(let fe=0,V=U.length;fe<V;fe++){const X=U[fe],K=X.shadow;if(K===void 0){St("WebGLShadowMap:",X,"has no shadow.");continue}if(K.autoUpdate===!1&&K.needsUpdate===!1)continue;s.copy(K.mapSize);const ce=K.getFrameExtents();if(s.multiply(ce),r.copy(K.mapSize),(s.x>m||s.y>m)&&(s.x>m&&(r.x=Math.floor(m/ce.x),s.x=r.x*ce.x,K.mapSize.x=r.x),s.y>m&&(r.y=Math.floor(m/ce.y),s.y=r.y*ce.y,K.mapSize.y=r.y)),K.map===null||ie===!0||ue===!0){const W=this.type!==Ml?{minFilter:la,magFilter:la}:{};K.map!==null&&K.map.dispose(),K.map=new Mc(s.x,s.y,W),K.map.texture.name=X.name+".shadowMap",K.camera.updateProjectionMatrix()}i.setRenderTarget(K.map),i.clear();const Y=K.getViewportCount();for(let W=0;W<Y;W++){const ae=K.getViewport(W);o.set(r.x*ae.x,r.y*ae.y,r.x*ae.z,r.y*ae.w),Q.viewport(o),K.updateMatrices(X,W),n=K.getFrustum(),L(I,F,K.camera,X,this.type)}K.isPointLightShadow!==!0&&this.type===Ml&&D(K,F),K.needsUpdate=!1}M=this.type,A.needsUpdate=!1,i.setRenderTarget(P,B,H)};function D(U,I){const F=e.update(E);y.defines.VSM_SAMPLES!==U.blurSamples&&(y.defines.VSM_SAMPLES=U.blurSamples,b.defines.VSM_SAMPLES=U.blurSamples,y.needsUpdate=!0,b.needsUpdate=!0),U.mapPass===null&&(U.mapPass=new Mc(s.x,s.y)),y.uniforms.shadow_pass.value=U.map.texture,y.uniforms.resolution.value=U.mapSize,y.uniforms.radius.value=U.radius,i.setRenderTarget(U.mapPass),i.clear(),i.renderBufferDirect(I,null,F,y,E,null),b.uniforms.shadow_pass.value=U.mapPass.texture,b.uniforms.resolution.value=U.mapSize,b.uniforms.radius.value=U.radius,i.setRenderTarget(U.map),i.clear(),i.renderBufferDirect(I,null,F,b,E,null)}function R(U,I,F,P){let B=null;const H=F.isPointLight===!0?U.customDistanceMaterial:U.customDepthMaterial;if(H!==void 0)B=H;else if(B=F.isPointLight===!0?d:c,i.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0||I.alphaToCoverage===!0){const Q=B.uuid,ie=I.uuid;let ue=p[Q];ue===void 0&&(ue={},p[Q]=ue);let fe=ue[ie];fe===void 0&&(fe=B.clone(),ue[ie]=fe,I.addEventListener("dispose",z)),B=fe}if(B.visible=I.visible,B.wireframe=I.wireframe,P===Ml?B.side=I.shadowSide!==null?I.shadowSide:I.side:B.side=I.shadowSide!==null?I.shadowSide:g[I.side],B.alphaMap=I.alphaMap,B.alphaTest=I.alphaToCoverage===!0?.5:I.alphaTest,B.map=I.map,B.clipShadows=I.clipShadows,B.clippingPlanes=I.clippingPlanes,B.clipIntersection=I.clipIntersection,B.displacementMap=I.displacementMap,B.displacementScale=I.displacementScale,B.displacementBias=I.displacementBias,B.wireframeLinewidth=I.wireframeLinewidth,B.linewidth=I.linewidth,F.isPointLight===!0&&B.isMeshDistanceMaterial===!0){const Q=i.properties.get(B);Q.light=F}return B}function L(U,I,F,P,B){if(U.visible===!1)return;if(U.layers.test(I.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&B===Ml)&&(!U.frustumCulled||n.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,U.matrixWorld);const ie=e.update(U),ue=U.material;if(Array.isArray(ue)){const fe=ie.groups;for(let V=0,X=fe.length;V<X;V++){const K=fe[V],ce=ue[K.materialIndex];if(ce&&ce.visible){const Y=R(U,ce,P,B);U.onBeforeShadow(i,U,I,F,ie,Y,K),i.renderBufferDirect(F,null,ie,Y,U,K),U.onAfterShadow(i,U,I,F,ie,Y,K)}}}else if(ue.visible){const fe=R(U,ue,P,B);U.onBeforeShadow(i,U,I,F,ie,fe,null),i.renderBufferDirect(F,null,ie,fe,U,null),U.onAfterShadow(i,U,I,F,ie,fe,null)}}const Q=U.children;for(let ie=0,ue=Q.length;ie<ue;ie++)L(Q[ie],I,F,P,B)}function z(U){U.target.removeEventListener("dispose",z);for(const F in p){const P=p[F],B=U.target.uuid;B in P&&(P[B].dispose(),delete P[B])}}}const UW={[a1]:r1,[o1]:u1,[l1]:f1,[Dh]:c1,[r1]:a1,[u1]:o1,[f1]:l1,[c1]:Dh};function zW(i,e){function t(){let ne=!1;const st=new Yn;let Je=null;const Ze=new Yn(0,0,0,0);return{setMask:function(He){Je!==He&&!ne&&(i.colorMask(He,He,He,He),Je=He)},setLocked:function(He){ne=He},setClear:function(He,Ie,xt,zt,yn){yn===!0&&(He*=zt,Ie*=zt,xt*=zt),st.set(He,Ie,xt,zt),Ze.equals(st)===!1&&(i.clearColor(He,Ie,xt,zt),Ze.copy(st))},reset:function(){ne=!1,Je=null,Ze.set(-1,0,0,0)}}}function n(){let ne=!1,st=!1,Je=null,Ze=null,He=null;return{setReversed:function(Ie){if(st!==Ie){const xt=e.get("EXT_clip_control");Ie?xt.clipControlEXT(xt.LOWER_LEFT_EXT,xt.ZERO_TO_ONE_EXT):xt.clipControlEXT(xt.LOWER_LEFT_EXT,xt.NEGATIVE_ONE_TO_ONE_EXT),st=Ie;const zt=He;He=null,this.setClear(zt)}},getReversed:function(){return st},setTest:function(Ie){Ie?_e(i.DEPTH_TEST):We(i.DEPTH_TEST)},setMask:function(Ie){Je!==Ie&&!ne&&(i.depthMask(Ie),Je=Ie)},setFunc:function(Ie){if(st&&(Ie=UW[Ie]),Ze!==Ie){switch(Ie){case a1:i.depthFunc(i.NEVER);break;case r1:i.depthFunc(i.ALWAYS);break;case o1:i.depthFunc(i.LESS);break;case Dh:i.depthFunc(i.LEQUAL);break;case l1:i.depthFunc(i.EQUAL);break;case c1:i.depthFunc(i.GEQUAL);break;case u1:i.depthFunc(i.GREATER);break;case f1:i.depthFunc(i.NOTEQUAL);break;default:i.depthFunc(i.LEQUAL)}Ze=Ie}},setLocked:function(Ie){ne=Ie},setClear:function(Ie){He!==Ie&&(st&&(Ie=1-Ie),i.clearDepth(Ie),He=Ie)},reset:function(){ne=!1,Je=null,Ze=null,He=null,st=!1}}}function s(){let ne=!1,st=null,Je=null,Ze=null,He=null,Ie=null,xt=null,zt=null,yn=null;return{setTest:function(gt){ne||(gt?_e(i.STENCIL_TEST):We(i.STENCIL_TEST))},setMask:function(gt){st!==gt&&!ne&&(i.stencilMask(gt),st=gt)},setFunc:function(gt,Et,en){(Je!==gt||Ze!==Et||He!==en)&&(i.stencilFunc(gt,Et,en),Je=gt,Ze=Et,He=en)},setOp:function(gt,Et,en){(Ie!==gt||xt!==Et||zt!==en)&&(i.stencilOp(gt,Et,en),Ie=gt,xt=Et,zt=en)},setLocked:function(gt){ne=gt},setClear:function(gt){yn!==gt&&(i.clearStencil(gt),yn=gt)},reset:function(){ne=!1,st=null,Je=null,Ze=null,He=null,Ie=null,xt=null,zt=null,yn=null}}}const r=new t,o=new n,c=new s,d=new WeakMap,p=new WeakMap;let m={},g={},y=new WeakMap,b=[],S=null,E=!1,A=null,M=null,D=null,R=null,L=null,z=null,U=null,I=new Tt(0,0,0),F=0,P=!1,B=null,H=null,Q=null,ie=null,ue=null;const fe=i.getParameter(i.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let V=!1,X=0;const K=i.getParameter(i.VERSION);K.indexOf("WebGL")!==-1?(X=parseFloat(/^WebGL (\d)/.exec(K)[1]),V=X>=1):K.indexOf("OpenGL ES")!==-1&&(X=parseFloat(/^OpenGL ES (\d)/.exec(K)[1]),V=X>=2);let ce=null,Y={};const W=i.getParameter(i.SCISSOR_BOX),ae=i.getParameter(i.VIEWPORT),he=new Yn().fromArray(W),ye=new Yn().fromArray(ae);function Pe(ne,st,Je,Ze){const He=new Uint8Array(4),Ie=i.createTexture();i.bindTexture(ne,Ie),i.texParameteri(ne,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(ne,i.TEXTURE_MAG_FILTER,i.NEAREST);for(let xt=0;xt<Je;xt++)ne===i.TEXTURE_3D||ne===i.TEXTURE_2D_ARRAY?i.texImage3D(st,0,i.RGBA,1,1,Ze,0,i.RGBA,i.UNSIGNED_BYTE,He):i.texImage2D(st+xt,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,He);return Ie}const pe={};pe[i.TEXTURE_2D]=Pe(i.TEXTURE_2D,i.TEXTURE_2D,1),pe[i.TEXTURE_CUBE_MAP]=Pe(i.TEXTURE_CUBE_MAP,i.TEXTURE_CUBE_MAP_POSITIVE_X,6),pe[i.TEXTURE_2D_ARRAY]=Pe(i.TEXTURE_2D_ARRAY,i.TEXTURE_2D_ARRAY,1,1),pe[i.TEXTURE_3D]=Pe(i.TEXTURE_3D,i.TEXTURE_3D,1,1),r.setClear(0,0,0,1),o.setClear(1),c.setClear(0),_e(i.DEPTH_TEST),o.setFunc(Dh),Ve(!1),re(aT),_e(i.CULL_FACE),Ce(_c);function _e(ne){m[ne]!==!0&&(i.enable(ne),m[ne]=!0)}function We(ne){m[ne]!==!1&&(i.disable(ne),m[ne]=!1)}function tt(ne,st){return g[ne]!==st?(i.bindFramebuffer(ne,st),g[ne]=st,ne===i.DRAW_FRAMEBUFFER&&(g[i.FRAMEBUFFER]=st),ne===i.FRAMEBUFFER&&(g[i.DRAW_FRAMEBUFFER]=st),!0):!1}function pt(ne,st){let Je=b,Ze=!1;if(ne){Je=y.get(st),Je===void 0&&(Je=[],y.set(st,Je));const He=ne.textures;if(Je.length!==He.length||Je[0]!==i.COLOR_ATTACHMENT0){for(let Ie=0,xt=He.length;Ie<xt;Ie++)Je[Ie]=i.COLOR_ATTACHMENT0+Ie;Je.length=He.length,Ze=!0}}else Je[0]!==i.BACK&&(Je[0]=i.BACK,Ze=!0);Ze&&i.drawBuffers(Je)}function vt(ne){return S!==ne?(i.useProgram(ne),S=ne,!0):!1}const Gt={[_f]:i.FUNC_ADD,[gL]:i.FUNC_SUBTRACT,[vL]:i.FUNC_REVERSE_SUBTRACT};Gt[yL]=i.MIN,Gt[_L]=i.MAX;const et={[bL]:i.ZERO,[SL]:i.ONE,[ML]:i.SRC_COLOR,[i1]:i.SRC_ALPHA,[NL]:i.SRC_ALPHA_SATURATE,[AL]:i.DST_COLOR,[wL]:i.DST_ALPHA,[TL]:i.ONE_MINUS_SRC_COLOR,[s1]:i.ONE_MINUS_SRC_ALPHA,[CL]:i.ONE_MINUS_DST_COLOR,[EL]:i.ONE_MINUS_DST_ALPHA,[RL]:i.CONSTANT_COLOR,[DL]:i.ONE_MINUS_CONSTANT_COLOR,[LL]:i.CONSTANT_ALPHA,[OL]:i.ONE_MINUS_CONSTANT_ALPHA};function Ce(ne,st,Je,Ze,He,Ie,xt,zt,yn,gt){if(ne===_c){E===!0&&(We(i.BLEND),E=!1);return}if(E===!1&&(_e(i.BLEND),E=!0),ne!==xL){if(ne!==A||gt!==P){if((M!==_f||L!==_f)&&(i.blendEquation(i.FUNC_ADD),M=_f,L=_f),gt)switch(ne){case yh:i.blendFuncSeparate(i.ONE,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case n1:i.blendFunc(i.ONE,i.ONE);break;case rT:i.blendFuncSeparate(i.ZERO,i.ONE_MINUS_SRC_COLOR,i.ZERO,i.ONE);break;case oT:i.blendFuncSeparate(i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA,i.ZERO,i.ONE);break;default:an("WebGLState: Invalid blending: ",ne);break}else switch(ne){case yh:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE_MINUS_SRC_ALPHA,i.ONE,i.ONE_MINUS_SRC_ALPHA);break;case n1:i.blendFuncSeparate(i.SRC_ALPHA,i.ONE,i.ONE,i.ONE);break;case rT:an("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case oT:an("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:an("WebGLState: Invalid blending: ",ne);break}D=null,R=null,z=null,U=null,I.set(0,0,0),F=0,A=ne,P=gt}return}He=He||st,Ie=Ie||Je,xt=xt||Ze,(st!==M||He!==L)&&(i.blendEquationSeparate(Gt[st],Gt[He]),M=st,L=He),(Je!==D||Ze!==R||Ie!==z||xt!==U)&&(i.blendFuncSeparate(et[Je],et[Ze],et[Ie],et[xt]),D=Je,R=Ze,z=Ie,U=xt),(zt.equals(I)===!1||yn!==F)&&(i.blendColor(zt.r,zt.g,zt.b,yn),I.copy(zt),F=yn),A=ne,P=!1}function J(ne,st){ne.side===dc?We(i.CULL_FACE):_e(i.CULL_FACE);let Je=ne.side===fr;st&&(Je=!Je),Ve(Je),ne.blending===yh&&ne.transparent===!1?Ce(_c):Ce(ne.blending,ne.blendEquation,ne.blendSrc,ne.blendDst,ne.blendEquationAlpha,ne.blendSrcAlpha,ne.blendDstAlpha,ne.blendColor,ne.blendAlpha,ne.premultipliedAlpha),o.setFunc(ne.depthFunc),o.setTest(ne.depthTest),o.setMask(ne.depthWrite),r.setMask(ne.colorWrite);const Ze=ne.stencilWrite;c.setTest(Ze),Ze&&(c.setMask(ne.stencilWriteMask),c.setFunc(ne.stencilFunc,ne.stencilRef,ne.stencilFuncMask),c.setOp(ne.stencilFail,ne.stencilZFail,ne.stencilZPass)),Xe(ne.polygonOffset,ne.polygonOffsetFactor,ne.polygonOffsetUnits),ne.alphaToCoverage===!0?_e(i.SAMPLE_ALPHA_TO_COVERAGE):We(i.SAMPLE_ALPHA_TO_COVERAGE)}function Ve(ne){B!==ne&&(ne?i.frontFace(i.CW):i.frontFace(i.CCW),B=ne)}function re(ne){ne!==hL?(_e(i.CULL_FACE),ne!==H&&(ne===aT?i.cullFace(i.BACK):ne===pL?i.cullFace(i.FRONT):i.cullFace(i.FRONT_AND_BACK))):We(i.CULL_FACE),H=ne}function Qe(ne){ne!==Q&&(V&&i.lineWidth(ne),Q=ne)}function Xe(ne,st,Je){ne?(_e(i.POLYGON_OFFSET_FILL),(ie!==st||ue!==Je)&&(i.polygonOffset(st,Je),ie=st,ue=Je)):We(i.POLYGON_OFFSET_FILL)}function at(ne){ne?_e(i.SCISSOR_TEST):We(i.SCISSOR_TEST)}function Ye(ne){ne===void 0&&(ne=i.TEXTURE0+fe-1),ce!==ne&&(i.activeTexture(ne),ce=ne)}function ct(ne,st,Je){Je===void 0&&(ce===null?Je=i.TEXTURE0+fe-1:Je=ce);let Ze=Y[Je];Ze===void 0&&(Ze={type:void 0,texture:void 0},Y[Je]=Ze),(Ze.type!==ne||Ze.texture!==st)&&(ce!==Je&&(i.activeTexture(Je),ce=Je),i.bindTexture(ne,st||pe[ne]),Ze.type=ne,Ze.texture=st)}function $(){const ne=Y[ce];ne!==void 0&&ne.type!==void 0&&(i.bindTexture(ne.type,null),ne.type=void 0,ne.texture=void 0)}function k(){try{i.compressedTexImage2D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function xe(){try{i.compressedTexImage3D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function Ue(){try{i.texSubImage2D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function Be(){try{i.texSubImage3D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function Re(){try{i.compressedTexSubImage2D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function ft(){try{i.compressedTexSubImage3D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function nt(){try{i.texStorage2D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function wt(){try{i.texStorage3D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function ee(){try{i.texImage2D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function Ae(){try{i.texImage3D(...arguments)}catch(ne){ne("WebGLState:",ne)}}function je(ne){he.equals(ne)===!1&&(i.scissor(ne.x,ne.y,ne.z,ne.w),he.copy(ne))}function mt(ne){ye.equals(ne)===!1&&(i.viewport(ne.x,ne.y,ne.z,ne.w),ye.copy(ne))}function ut(ne,st){let Je=p.get(st);Je===void 0&&(Je=new WeakMap,p.set(st,Je));let Ze=Je.get(ne);Ze===void 0&&(Ze=i.getUniformBlockIndex(st,ne.name),Je.set(ne,Ze))}function ot(ne,st){const Ze=p.get(st).get(ne);d.get(st)!==Ze&&(i.uniformBlockBinding(st,Ze,ne.__bindingPointIndex),d.set(st,Ze))}function Dt(){i.disable(i.BLEND),i.disable(i.CULL_FACE),i.disable(i.DEPTH_TEST),i.disable(i.POLYGON_OFFSET_FILL),i.disable(i.SCISSOR_TEST),i.disable(i.STENCIL_TEST),i.disable(i.SAMPLE_ALPHA_TO_COVERAGE),i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ZERO),i.blendFuncSeparate(i.ONE,i.ZERO,i.ONE,i.ZERO),i.blendColor(0,0,0,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(i.LESS),o.setReversed(!1),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(i.ALWAYS,0,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP),i.clearStencil(0),i.cullFace(i.BACK),i.frontFace(i.CCW),i.polygonOffset(0,0),i.activeTexture(i.TEXTURE0),i.bindFramebuffer(i.FRAMEBUFFER,null),i.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),i.bindFramebuffer(i.READ_FRAMEBUFFER,null),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),m={},ce=null,Y={},g={},y=new WeakMap,b=[],S=null,E=!1,A=null,M=null,D=null,R=null,L=null,z=null,U=null,I=new Tt(0,0,0),F=0,P=!1,B=null,H=null,Q=null,ie=null,ue=null,he.set(0,0,i.canvas.width,i.canvas.height),ye.set(0,0,i.canvas.width,i.canvas.height),r.reset(),o.reset(),c.reset()}return{buffers:{color:r,depth:o,stencil:c},enable:_e,disable:We,bindFramebuffer:tt,drawBuffers:pt,useProgram:vt,setBlending:Ce,setMaterial:J,setFlipSided:Ve,setCullFace:re,setLineWidth:Qe,setPolygonOffset:Xe,setScissorTest:at,activeTexture:Ye,bindTexture:ct,unbindTexture:$,compressedTexImage2D:k,compressedTexImage3D:xe,texImage2D:ee,texImage3D:Ae,updateUBOMapping:ut,uniformBlockBinding:ot,texStorage2D:nt,texStorage3D:wt,texSubImage2D:Ue,texSubImage3D:Be,compressedTexSubImage2D:Re,compressedTexSubImage3D:ft,scissor:je,viewport:mt,reset:Dt}}function PW(i,e,t,n,s,r,o){const c=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new Ke,m=new WeakMap;let g;const y=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S($,k){return b?new OffscreenCanvas($,k):dv("canvas")}function E($,k,xe){let Ue=1;const Be=ct($);if((Be.width>xe||Be.height>xe)&&(Ue=xe/Math.max(Be.width,Be.height)),Ue<1)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap||typeof VideoFrame<"u"&&$ instanceof VideoFrame){const Re=Math.floor(Ue*Be.width),ft=Math.floor(Ue*Be.height);g===void 0&&(g=S(Re,ft));const nt=k?S(Re,ft):g;return nt.width=Re,nt.height=ft,nt.getContext("2d").drawImage($,0,0,Re,ft),St("WebGLRenderer: Texture has been resized from ("+Be.width+"x"+Be.height+") to ("+Re+"x"+ft+")."),nt}else return"data"in $&&St("WebGLRenderer: Image in DataTexture is too big ("+Be.width+"x"+Be.height+")."),$;return $}function A($){return $.generateMipmaps}function M($){i.generateMipmap($)}function D($){return $.isWebGLCubeRenderTarget?i.TEXTURE_CUBE_MAP:$.isWebGL3DRenderTarget?i.TEXTURE_3D:$.isWebGLArrayRenderTarget||$.isCompressedArrayTexture?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D}function R($,k,xe,Ue,Be=!1){if($!==null){if(i[$]!==void 0)return i[$];St("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let Re=k;if(k===i.RED&&(xe===i.FLOAT&&(Re=i.R32F),xe===i.HALF_FLOAT&&(Re=i.R16F),xe===i.UNSIGNED_BYTE&&(Re=i.R8)),k===i.RED_INTEGER&&(xe===i.UNSIGNED_BYTE&&(Re=i.R8UI),xe===i.UNSIGNED_SHORT&&(Re=i.R16UI),xe===i.UNSIGNED_INT&&(Re=i.R32UI),xe===i.BYTE&&(Re=i.R8I),xe===i.SHORT&&(Re=i.R16I),xe===i.INT&&(Re=i.R32I)),k===i.RG&&(xe===i.FLOAT&&(Re=i.RG32F),xe===i.HALF_FLOAT&&(Re=i.RG16F),xe===i.UNSIGNED_BYTE&&(Re=i.RG8)),k===i.RG_INTEGER&&(xe===i.UNSIGNED_BYTE&&(Re=i.RG8UI),xe===i.UNSIGNED_SHORT&&(Re=i.RG16UI),xe===i.UNSIGNED_INT&&(Re=i.RG32UI),xe===i.BYTE&&(Re=i.RG8I),xe===i.SHORT&&(Re=i.RG16I),xe===i.INT&&(Re=i.RG32I)),k===i.RGB_INTEGER&&(xe===i.UNSIGNED_BYTE&&(Re=i.RGB8UI),xe===i.UNSIGNED_SHORT&&(Re=i.RGB16UI),xe===i.UNSIGNED_INT&&(Re=i.RGB32UI),xe===i.BYTE&&(Re=i.RGB8I),xe===i.SHORT&&(Re=i.RGB16I),xe===i.INT&&(Re=i.RGB32I)),k===i.RGBA_INTEGER&&(xe===i.UNSIGNED_BYTE&&(Re=i.RGBA8UI),xe===i.UNSIGNED_SHORT&&(Re=i.RGBA16UI),xe===i.UNSIGNED_INT&&(Re=i.RGBA32UI),xe===i.BYTE&&(Re=i.RGBA8I),xe===i.SHORT&&(Re=i.RGBA16I),xe===i.INT&&(Re=i.RGBA32I)),k===i.RGB&&(xe===i.UNSIGNED_INT_5_9_9_9_REV&&(Re=i.RGB9_E5),xe===i.UNSIGNED_INT_10F_11F_11F_REV&&(Re=i.R11F_G11F_B10F)),k===i.RGBA){const ft=Be?uv:Gn.getTransfer(Ue);xe===i.FLOAT&&(Re=i.RGBA32F),xe===i.HALF_FLOAT&&(Re=i.RGBA16F),xe===i.UNSIGNED_BYTE&&(Re=ft===hi?i.SRGB8_ALPHA8:i.RGBA8),xe===i.UNSIGNED_SHORT_4_4_4_4&&(Re=i.RGBA4),xe===i.UNSIGNED_SHORT_5_5_5_1&&(Re=i.RGB5_A1)}return(Re===i.R16F||Re===i.R32F||Re===i.RG16F||Re===i.RG32F||Re===i.RGBA16F||Re===i.RGBA32F)&&e.get("EXT_color_buffer_float"),Re}function L($,k){let xe;return $?k===null||k===bu||k===Ym?xe=i.DEPTH24_STENCIL8:k===Rr?xe=i.DEPTH32F_STENCIL8:k===Wm&&(xe=i.DEPTH24_STENCIL8,St("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):k===null||k===bu||k===Ym?xe=i.DEPTH_COMPONENT24:k===Rr?xe=i.DEPTH_COMPONENT32F:k===Wm&&(xe=i.DEPTH_COMPONENT16),xe}function z($,k){return A($)===!0||$.isFramebufferTexture&&$.minFilter!==la&&$.minFilter!==fs?Math.log2(Math.max(k.width,k.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?k.mipmaps.length:1}function U($){const k=$.target;k.removeEventListener("dispose",U),F(k),k.isVideoTexture&&m.delete(k)}function I($){const k=$.target;k.removeEventListener("dispose",I),B(k)}function F($){const k=n.get($);if(k.__webglInit===void 0)return;const xe=$.source,Ue=y.get(xe);if(Ue){const Be=Ue[k.__cacheKey];Be.usedTimes--,Be.usedTimes===0&&P($),Object.keys(Ue).length===0&&y.delete(xe)}n.remove($)}function P($){const k=n.get($);i.deleteTexture(k.__webglTexture);const xe=$.source,Ue=y.get(xe);delete Ue[k.__cacheKey],o.memory.textures--}function B($){const k=n.get($);if($.depthTexture&&($.depthTexture.dispose(),n.remove($.depthTexture)),$.isWebGLCubeRenderTarget)for(let Ue=0;Ue<6;Ue++){if(Array.isArray(k.__webglFramebuffer[Ue]))for(let Be=0;Be<k.__webglFramebuffer[Ue].length;Be++)i.deleteFramebuffer(k.__webglFramebuffer[Ue][Be]);else i.deleteFramebuffer(k.__webglFramebuffer[Ue]);k.__webglDepthbuffer&&i.deleteRenderbuffer(k.__webglDepthbuffer[Ue])}else{if(Array.isArray(k.__webglFramebuffer))for(let Ue=0;Ue<k.__webglFramebuffer.length;Ue++)i.deleteFramebuffer(k.__webglFramebuffer[Ue]);else i.deleteFramebuffer(k.__webglFramebuffer);if(k.__webglDepthbuffer&&i.deleteRenderbuffer(k.__webglDepthbuffer),k.__webglMultisampledFramebuffer&&i.deleteFramebuffer(k.__webglMultisampledFramebuffer),k.__webglColorRenderbuffer)for(let Ue=0;Ue<k.__webglColorRenderbuffer.length;Ue++)k.__webglColorRenderbuffer[Ue]&&i.deleteRenderbuffer(k.__webglColorRenderbuffer[Ue]);k.__webglDepthRenderbuffer&&i.deleteRenderbuffer(k.__webglDepthRenderbuffer)}const xe=$.textures;for(let Ue=0,Be=xe.length;Ue<Be;Ue++){const Re=n.get(xe[Ue]);Re.__webglTexture&&(i.deleteTexture(Re.__webglTexture),o.memory.textures--),n.remove(xe[Ue])}n.remove($)}let H=0;function Q(){H=0}function ie(){const $=H;return $>=s.maxTextures&&St("WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+s.maxTextures),H+=1,$}function ue($){const k=[];return k.push($.wrapS),k.push($.wrapT),k.push($.wrapR||0),k.push($.magFilter),k.push($.minFilter),k.push($.anisotropy),k.push($.internalFormat),k.push($.format),k.push($.type),k.push($.generateMipmaps),k.push($.premultiplyAlpha),k.push($.flipY),k.push($.unpackAlignment),k.push($.colorSpace),k.join()}function fe($,k){const xe=n.get($);if($.isVideoTexture&&at($),$.isRenderTargetTexture===!1&&$.isExternalTexture!==!0&&$.version>0&&xe.__version!==$.version){const Ue=$.image;if(Ue===null)St("WebGLRenderer: Texture marked for update but no image data found.");else if(Ue.complete===!1)St("WebGLRenderer: Texture marked for update but image is incomplete");else{pe(xe,$,k);return}}else $.isExternalTexture&&(xe.__webglTexture=$.sourceTexture?$.sourceTexture:null);t.bindTexture(i.TEXTURE_2D,xe.__webglTexture,i.TEXTURE0+k)}function V($,k){const xe=n.get($);if($.isRenderTargetTexture===!1&&$.version>0&&xe.__version!==$.version){pe(xe,$,k);return}else $.isExternalTexture&&(xe.__webglTexture=$.sourceTexture?$.sourceTexture:null);t.bindTexture(i.TEXTURE_2D_ARRAY,xe.__webglTexture,i.TEXTURE0+k)}function X($,k){const xe=n.get($);if($.isRenderTargetTexture===!1&&$.version>0&&xe.__version!==$.version){pe(xe,$,k);return}t.bindTexture(i.TEXTURE_3D,xe.__webglTexture,i.TEXTURE0+k)}function K($,k){const xe=n.get($);if($.version>0&&xe.__version!==$.version){_e(xe,$,k);return}t.bindTexture(i.TEXTURE_CUBE_MAP,xe.__webglTexture,i.TEXTURE0+k)}const ce={[rv]:i.REPEAT,[Nr]:i.CLAMP_TO_EDGE,[ov]:i.MIRRORED_REPEAT},Y={[la]:i.NEAREST,[Bw]:i.NEAREST_MIPMAP_NEAREST,[Rm]:i.NEAREST_MIPMAP_LINEAR,[fs]:i.LINEAR,[Dg]:i.LINEAR_MIPMAP_NEAREST,[pc]:i.LINEAR_MIPMAP_LINEAR},W={[ZL]:i.NEVER,[tO]:i.ALWAYS,[KL]:i.LESS,[Xw]:i.LEQUAL,[QL]:i.EQUAL,[eO]:i.GEQUAL,[JL]:i.GREATER,[$L]:i.NOTEQUAL};function ae($,k){if(k.type===Rr&&e.has("OES_texture_float_linear")===!1&&(k.magFilter===fs||k.magFilter===Dg||k.magFilter===Rm||k.magFilter===pc||k.minFilter===fs||k.minFilter===Dg||k.minFilter===Rm||k.minFilter===pc)&&St("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),i.texParameteri($,i.TEXTURE_WRAP_S,ce[k.wrapS]),i.texParameteri($,i.TEXTURE_WRAP_T,ce[k.wrapT]),($===i.TEXTURE_3D||$===i.TEXTURE_2D_ARRAY)&&i.texParameteri($,i.TEXTURE_WRAP_R,ce[k.wrapR]),i.texParameteri($,i.TEXTURE_MAG_FILTER,Y[k.magFilter]),i.texParameteri($,i.TEXTURE_MIN_FILTER,Y[k.minFilter]),k.compareFunction&&(i.texParameteri($,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri($,i.TEXTURE_COMPARE_FUNC,W[k.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(k.magFilter===la||k.minFilter!==Rm&&k.minFilter!==pc||k.type===Rr&&e.has("OES_texture_float_linear")===!1)return;if(k.anisotropy>1||n.get(k).__currentAnisotropy){const xe=e.get("EXT_texture_filter_anisotropic");i.texParameterf($,xe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(k.anisotropy,s.getMaxAnisotropy())),n.get(k).__currentAnisotropy=k.anisotropy}}}function he($,k){let xe=!1;$.__webglInit===void 0&&($.__webglInit=!0,k.addEventListener("dispose",U));const Ue=k.source;let Be=y.get(Ue);Be===void 0&&(Be={},y.set(Ue,Be));const Re=ue(k);if(Re!==$.__cacheKey){Be[Re]===void 0&&(Be[Re]={texture:i.createTexture(),usedTimes:0},o.memory.textures++,xe=!0),Be[Re].usedTimes++;const ft=Be[$.__cacheKey];ft!==void 0&&(Be[$.__cacheKey].usedTimes--,ft.usedTimes===0&&P(k)),$.__cacheKey=Re,$.__webglTexture=Be[Re].texture}return xe}function ye($,k,xe){return Math.floor(Math.floor($/xe)/k)}function Pe($,k,xe,Ue){const Re=$.updateRanges;if(Re.length===0)t.texSubImage2D(i.TEXTURE_2D,0,0,0,k.width,k.height,xe,Ue,k.data);else{Re.sort((Ae,je)=>Ae.start-je.start);let ft=0;for(let Ae=1;Ae<Re.length;Ae++){const je=Re[ft],mt=Re[Ae],ut=je.start+je.count,ot=ye(mt.start,k.width,4),Dt=ye(je.start,k.width,4);mt.start<=ut+1&&ot===Dt&&ye(mt.start+mt.count-1,k.width,4)===ot?je.count=Math.max(je.count,mt.start+mt.count-je.start):(++ft,Re[ft]=mt)}Re.length=ft+1;const nt=i.getParameter(i.UNPACK_ROW_LENGTH),wt=i.getParameter(i.UNPACK_SKIP_PIXELS),ee=i.getParameter(i.UNPACK_SKIP_ROWS);i.pixelStorei(i.UNPACK_ROW_LENGTH,k.width);for(let Ae=0,je=Re.length;Ae<je;Ae++){const mt=Re[Ae],ut=Math.floor(mt.start/4),ot=Math.ceil(mt.count/4),Dt=ut%k.width,ne=Math.floor(ut/k.width),st=ot,Je=1;i.pixelStorei(i.UNPACK_SKIP_PIXELS,Dt),i.pixelStorei(i.UNPACK_SKIP_ROWS,ne),t.texSubImage2D(i.TEXTURE_2D,0,Dt,ne,st,Je,xe,Ue,k.data)}$.clearUpdateRanges(),i.pixelStorei(i.UNPACK_ROW_LENGTH,nt),i.pixelStorei(i.UNPACK_SKIP_PIXELS,wt),i.pixelStorei(i.UNPACK_SKIP_ROWS,ee)}}function pe($,k,xe){let Ue=i.TEXTURE_2D;(k.isDataArrayTexture||k.isCompressedArrayTexture)&&(Ue=i.TEXTURE_2D_ARRAY),k.isData3DTexture&&(Ue=i.TEXTURE_3D);const Be=he($,k),Re=k.source;t.bindTexture(Ue,$.__webglTexture,i.TEXTURE0+xe);const ft=n.get(Re);if(Re.version!==ft.__version||Be===!0){t.activeTexture(i.TEXTURE0+xe);const nt=Gn.getPrimaries(Gn.workingColorSpace),wt=k.colorSpace===fu?null:Gn.getPrimaries(k.colorSpace),ee=k.colorSpace===fu||nt===wt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,k.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,k.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,ee);let Ae=E(k.image,!1,s.maxTextureSize);Ae=Ye(k,Ae);const je=r.convert(k.format,k.colorSpace),mt=r.convert(k.type);let ut=R(k.internalFormat,je,mt,k.colorSpace,k.isVideoTexture);ae(Ue,k);let ot;const Dt=k.mipmaps,ne=k.isVideoTexture!==!0,st=ft.__version===void 0||Be===!0,Je=Re.dataReady,Ze=z(k,Ae);if(k.isDepthTexture)ut=L(k.format===Km,k.type),st&&(ne?t.texStorage2D(i.TEXTURE_2D,1,ut,Ae.width,Ae.height):t.texImage2D(i.TEXTURE_2D,0,ut,Ae.width,Ae.height,0,je,mt,null));else if(k.isDataTexture)if(Dt.length>0){ne&&st&&t.texStorage2D(i.TEXTURE_2D,Ze,ut,Dt[0].width,Dt[0].height);for(let He=0,Ie=Dt.length;He<Ie;He++)ot=Dt[He],ne?Je&&t.texSubImage2D(i.TEXTURE_2D,He,0,0,ot.width,ot.height,je,mt,ot.data):t.texImage2D(i.TEXTURE_2D,He,ut,ot.width,ot.height,0,je,mt,ot.data);k.generateMipmaps=!1}else ne?(st&&t.texStorage2D(i.TEXTURE_2D,Ze,ut,Ae.width,Ae.height),Je&&Pe(k,Ae,je,mt)):t.texImage2D(i.TEXTURE_2D,0,ut,Ae.width,Ae.height,0,je,mt,Ae.data);else if(k.isCompressedTexture)if(k.isCompressedArrayTexture){ne&&st&&t.texStorage3D(i.TEXTURE_2D_ARRAY,Ze,ut,Dt[0].width,Dt[0].height,Ae.depth);for(let He=0,Ie=Dt.length;He<Ie;He++)if(ot=Dt[He],k.format!==Oa)if(je!==null)if(ne){if(Je)if(k.layerUpdates.size>0){const xt=gT(ot.width,ot.height,k.format,k.type);for(const zt of k.layerUpdates){const yn=ot.data.subarray(zt*xt/ot.data.BYTES_PER_ELEMENT,(zt+1)*xt/ot.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,He,0,0,zt,ot.width,ot.height,1,je,yn)}k.clearLayerUpdates()}else t.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,He,0,0,0,ot.width,ot.height,Ae.depth,je,ot.data)}else t.compressedTexImage3D(i.TEXTURE_2D_ARRAY,He,ut,ot.width,ot.height,Ae.depth,0,ot.data,0,0);else St("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ne?Je&&t.texSubImage3D(i.TEXTURE_2D_ARRAY,He,0,0,0,ot.width,ot.height,Ae.depth,je,mt,ot.data):t.texImage3D(i.TEXTURE_2D_ARRAY,He,ut,ot.width,ot.height,Ae.depth,0,je,mt,ot.data)}else{ne&&st&&t.texStorage2D(i.TEXTURE_2D,Ze,ut,Dt[0].width,Dt[0].height);for(let He=0,Ie=Dt.length;He<Ie;He++)ot=Dt[He],k.format!==Oa?je!==null?ne?Je&&t.compressedTexSubImage2D(i.TEXTURE_2D,He,0,0,ot.width,ot.height,je,ot.data):t.compressedTexImage2D(i.TEXTURE_2D,He,ut,ot.width,ot.height,0,ot.data):St("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ne?Je&&t.texSubImage2D(i.TEXTURE_2D,He,0,0,ot.width,ot.height,je,mt,ot.data):t.texImage2D(i.TEXTURE_2D,He,ut,ot.width,ot.height,0,je,mt,ot.data)}else if(k.isDataArrayTexture)if(ne){if(st&&t.texStorage3D(i.TEXTURE_2D_ARRAY,Ze,ut,Ae.width,Ae.height,Ae.depth),Je)if(k.layerUpdates.size>0){const He=gT(Ae.width,Ae.height,k.format,k.type);for(const Ie of k.layerUpdates){const xt=Ae.data.subarray(Ie*He/Ae.data.BYTES_PER_ELEMENT,(Ie+1)*He/Ae.data.BYTES_PER_ELEMENT);t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,Ie,Ae.width,Ae.height,1,je,mt,xt)}k.clearLayerUpdates()}else t.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,Ae.width,Ae.height,Ae.depth,je,mt,Ae.data)}else t.texImage3D(i.TEXTURE_2D_ARRAY,0,ut,Ae.width,Ae.height,Ae.depth,0,je,mt,Ae.data);else if(k.isData3DTexture)ne?(st&&t.texStorage3D(i.TEXTURE_3D,Ze,ut,Ae.width,Ae.height,Ae.depth),Je&&t.texSubImage3D(i.TEXTURE_3D,0,0,0,0,Ae.width,Ae.height,Ae.depth,je,mt,Ae.data)):t.texImage3D(i.TEXTURE_3D,0,ut,Ae.width,Ae.height,Ae.depth,0,je,mt,Ae.data);else if(k.isFramebufferTexture){if(st)if(ne)t.texStorage2D(i.TEXTURE_2D,Ze,ut,Ae.width,Ae.height);else{let He=Ae.width,Ie=Ae.height;for(let xt=0;xt<Ze;xt++)t.texImage2D(i.TEXTURE_2D,xt,ut,He,Ie,0,je,mt,null),He>>=1,Ie>>=1}}else if(Dt.length>0){if(ne&&st){const He=ct(Dt[0]);t.texStorage2D(i.TEXTURE_2D,Ze,ut,He.width,He.height)}for(let He=0,Ie=Dt.length;He<Ie;He++)ot=Dt[He],ne?Je&&t.texSubImage2D(i.TEXTURE_2D,He,0,0,je,mt,ot):t.texImage2D(i.TEXTURE_2D,He,ut,je,mt,ot);k.generateMipmaps=!1}else if(ne){if(st){const He=ct(Ae);t.texStorage2D(i.TEXTURE_2D,Ze,ut,He.width,He.height)}Je&&t.texSubImage2D(i.TEXTURE_2D,0,0,0,je,mt,Ae)}else t.texImage2D(i.TEXTURE_2D,0,ut,je,mt,Ae);A(k)&&M(Ue),ft.__version=Re.version,k.onUpdate&&k.onUpdate(k)}$.__version=k.version}function _e($,k,xe){if(k.image.length!==6)return;const Ue=he($,k),Be=k.source;t.bindTexture(i.TEXTURE_CUBE_MAP,$.__webglTexture,i.TEXTURE0+xe);const Re=n.get(Be);if(Be.version!==Re.__version||Ue===!0){t.activeTexture(i.TEXTURE0+xe);const ft=Gn.getPrimaries(Gn.workingColorSpace),nt=k.colorSpace===fu?null:Gn.getPrimaries(k.colorSpace),wt=k.colorSpace===fu||ft===nt?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,k.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,k.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,k.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,wt);const ee=k.isCompressedTexture||k.image[0].isCompressedTexture,Ae=k.image[0]&&k.image[0].isDataTexture,je=[];for(let Ie=0;Ie<6;Ie++)!ee&&!Ae?je[Ie]=E(k.image[Ie],!0,s.maxCubemapSize):je[Ie]=Ae?k.image[Ie].image:k.image[Ie],je[Ie]=Ye(k,je[Ie]);const mt=je[0],ut=r.convert(k.format,k.colorSpace),ot=r.convert(k.type),Dt=R(k.internalFormat,ut,ot,k.colorSpace),ne=k.isVideoTexture!==!0,st=Re.__version===void 0||Ue===!0,Je=Be.dataReady;let Ze=z(k,mt);ae(i.TEXTURE_CUBE_MAP,k);let He;if(ee){ne&&st&&t.texStorage2D(i.TEXTURE_CUBE_MAP,Ze,Dt,mt.width,mt.height);for(let Ie=0;Ie<6;Ie++){He=je[Ie].mipmaps;for(let xt=0;xt<He.length;xt++){const zt=He[xt];k.format!==Oa?ut!==null?ne?Je&&t.compressedTexSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,xt,0,0,zt.width,zt.height,ut,zt.data):t.compressedTexImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,xt,Dt,zt.width,zt.height,0,zt.data):St("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ne?Je&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,xt,0,0,zt.width,zt.height,ut,ot,zt.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,xt,Dt,zt.width,zt.height,0,ut,ot,zt.data)}}}else{if(He=k.mipmaps,ne&&st){He.length>0&&Ze++;const Ie=ct(je[0]);t.texStorage2D(i.TEXTURE_CUBE_MAP,Ze,Dt,Ie.width,Ie.height)}for(let Ie=0;Ie<6;Ie++)if(Ae){ne?Je&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,0,0,je[Ie].width,je[Ie].height,ut,ot,je[Ie].data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,Dt,je[Ie].width,je[Ie].height,0,ut,ot,je[Ie].data);for(let xt=0;xt<He.length;xt++){const yn=He[xt].image[Ie].image;ne?Je&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,xt+1,0,0,yn.width,yn.height,ut,ot,yn.data):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,xt+1,Dt,yn.width,yn.height,0,ut,ot,yn.data)}}else{ne?Je&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,0,0,ut,ot,je[Ie]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0,Dt,ut,ot,je[Ie]);for(let xt=0;xt<He.length;xt++){const zt=He[xt];ne?Je&&t.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,xt+1,0,0,ut,ot,zt.image[Ie]):t.texImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,xt+1,Dt,ut,ot,zt.image[Ie])}}}A(k)&&M(i.TEXTURE_CUBE_MAP),Re.__version=Be.version,k.onUpdate&&k.onUpdate(k)}$.__version=k.version}function We($,k,xe,Ue,Be,Re){const ft=r.convert(xe.format,xe.colorSpace),nt=r.convert(xe.type),wt=R(xe.internalFormat,ft,nt,xe.colorSpace),ee=n.get(k),Ae=n.get(xe);if(Ae.__renderTarget=k,!ee.__hasExternalTextures){const je=Math.max(1,k.width>>Re),mt=Math.max(1,k.height>>Re);Be===i.TEXTURE_3D||Be===i.TEXTURE_2D_ARRAY?t.texImage3D(Be,Re,wt,je,mt,k.depth,0,ft,nt,null):t.texImage2D(Be,Re,wt,je,mt,0,ft,nt,null)}t.bindFramebuffer(i.FRAMEBUFFER,$),Xe(k)?c.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,Ue,Be,Ae.__webglTexture,0,Qe(k)):(Be===i.TEXTURE_2D||Be>=i.TEXTURE_CUBE_MAP_POSITIVE_X&&Be<=i.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&i.framebufferTexture2D(i.FRAMEBUFFER,Ue,Be,Ae.__webglTexture,Re),t.bindFramebuffer(i.FRAMEBUFFER,null)}function tt($,k,xe){if(i.bindRenderbuffer(i.RENDERBUFFER,$),k.depthBuffer){const Ue=k.depthTexture,Be=Ue&&Ue.isDepthTexture?Ue.type:null,Re=L(k.stencilBuffer,Be),ft=k.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,nt=Qe(k);Xe(k)?c.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,nt,Re,k.width,k.height):xe?i.renderbufferStorageMultisample(i.RENDERBUFFER,nt,Re,k.width,k.height):i.renderbufferStorage(i.RENDERBUFFER,Re,k.width,k.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,ft,i.RENDERBUFFER,$)}else{const Ue=k.textures;for(let Be=0;Be<Ue.length;Be++){const Re=Ue[Be],ft=r.convert(Re.format,Re.colorSpace),nt=r.convert(Re.type),wt=R(Re.internalFormat,ft,nt,Re.colorSpace),ee=Qe(k);xe&&Xe(k)===!1?i.renderbufferStorageMultisample(i.RENDERBUFFER,ee,wt,k.width,k.height):Xe(k)?c.renderbufferStorageMultisampleEXT(i.RENDERBUFFER,ee,wt,k.width,k.height):i.renderbufferStorage(i.RENDERBUFFER,wt,k.width,k.height)}}i.bindRenderbuffer(i.RENDERBUFFER,null)}function pt($,k){if(k&&k.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(i.FRAMEBUFFER,$),!(k.depthTexture&&k.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ue=n.get(k.depthTexture);Ue.__renderTarget=k,(!Ue.__webglTexture||k.depthTexture.image.width!==k.width||k.depthTexture.image.height!==k.height)&&(k.depthTexture.image.width=k.width,k.depthTexture.image.height=k.height,k.depthTexture.needsUpdate=!0),fe(k.depthTexture,0);const Be=Ue.__webglTexture,Re=Qe(k);if(k.depthTexture.format===Zm)Xe(k)?c.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Be,0,Re):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,Be,0);else if(k.depthTexture.format===Km)Xe(k)?c.framebufferTexture2DMultisampleEXT(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Be,0,Re):i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.TEXTURE_2D,Be,0);else throw new Error("Unknown depthTexture format")}function vt($){const k=n.get($),xe=$.isWebGLCubeRenderTarget===!0;if(k.__boundDepthTexture!==$.depthTexture){const Ue=$.depthTexture;if(k.__depthDisposeCallback&&k.__depthDisposeCallback(),Ue){const Be=()=>{delete k.__boundDepthTexture,delete k.__depthDisposeCallback,Ue.removeEventListener("dispose",Be)};Ue.addEventListener("dispose",Be),k.__depthDisposeCallback=Be}k.__boundDepthTexture=Ue}if($.depthTexture&&!k.__autoAllocateDepthBuffer){if(xe)throw new Error("target.depthTexture not supported in Cube render targets");const Ue=$.texture.mipmaps;Ue&&Ue.length>0?pt(k.__webglFramebuffer[0],$):pt(k.__webglFramebuffer,$)}else if(xe){k.__webglDepthbuffer=[];for(let Ue=0;Ue<6;Ue++)if(t.bindFramebuffer(i.FRAMEBUFFER,k.__webglFramebuffer[Ue]),k.__webglDepthbuffer[Ue]===void 0)k.__webglDepthbuffer[Ue]=i.createRenderbuffer(),tt(k.__webglDepthbuffer[Ue],$,!1);else{const Be=$.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Re=k.__webglDepthbuffer[Ue];i.bindRenderbuffer(i.RENDERBUFFER,Re),i.framebufferRenderbuffer(i.FRAMEBUFFER,Be,i.RENDERBUFFER,Re)}}else{const Ue=$.texture.mipmaps;if(Ue&&Ue.length>0?t.bindFramebuffer(i.FRAMEBUFFER,k.__webglFramebuffer[0]):t.bindFramebuffer(i.FRAMEBUFFER,k.__webglFramebuffer),k.__webglDepthbuffer===void 0)k.__webglDepthbuffer=i.createRenderbuffer(),tt(k.__webglDepthbuffer,$,!1);else{const Be=$.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,Re=k.__webglDepthbuffer;i.bindRenderbuffer(i.RENDERBUFFER,Re),i.framebufferRenderbuffer(i.FRAMEBUFFER,Be,i.RENDERBUFFER,Re)}}t.bindFramebuffer(i.FRAMEBUFFER,null)}function Gt($,k,xe){const Ue=n.get($);k!==void 0&&We(Ue.__webglFramebuffer,$,$.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,0),xe!==void 0&&vt($)}function et($){const k=$.texture,xe=n.get($),Ue=n.get(k);$.addEventListener("dispose",I);const Be=$.textures,Re=$.isWebGLCubeRenderTarget===!0,ft=Be.length>1;if(ft||(Ue.__webglTexture===void 0&&(Ue.__webglTexture=i.createTexture()),Ue.__version=k.version,o.memory.textures++),Re){xe.__webglFramebuffer=[];for(let nt=0;nt<6;nt++)if(k.mipmaps&&k.mipmaps.length>0){xe.__webglFramebuffer[nt]=[];for(let wt=0;wt<k.mipmaps.length;wt++)xe.__webglFramebuffer[nt][wt]=i.createFramebuffer()}else xe.__webglFramebuffer[nt]=i.createFramebuffer()}else{if(k.mipmaps&&k.mipmaps.length>0){xe.__webglFramebuffer=[];for(let nt=0;nt<k.mipmaps.length;nt++)xe.__webglFramebuffer[nt]=i.createFramebuffer()}else xe.__webglFramebuffer=i.createFramebuffer();if(ft)for(let nt=0,wt=Be.length;nt<wt;nt++){const ee=n.get(Be[nt]);ee.__webglTexture===void 0&&(ee.__webglTexture=i.createTexture(),o.memory.textures++)}if($.samples>0&&Xe($)===!1){xe.__webglMultisampledFramebuffer=i.createFramebuffer(),xe.__webglColorRenderbuffer=[],t.bindFramebuffer(i.FRAMEBUFFER,xe.__webglMultisampledFramebuffer);for(let nt=0;nt<Be.length;nt++){const wt=Be[nt];xe.__webglColorRenderbuffer[nt]=i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,xe.__webglColorRenderbuffer[nt]);const ee=r.convert(wt.format,wt.colorSpace),Ae=r.convert(wt.type),je=R(wt.internalFormat,ee,Ae,wt.colorSpace,$.isXRRenderTarget===!0),mt=Qe($);i.renderbufferStorageMultisample(i.RENDERBUFFER,mt,je,$.width,$.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+nt,i.RENDERBUFFER,xe.__webglColorRenderbuffer[nt])}i.bindRenderbuffer(i.RENDERBUFFER,null),$.depthBuffer&&(xe.__webglDepthRenderbuffer=i.createRenderbuffer(),tt(xe.__webglDepthRenderbuffer,$,!0)),t.bindFramebuffer(i.FRAMEBUFFER,null)}}if(Re){t.bindTexture(i.TEXTURE_CUBE_MAP,Ue.__webglTexture),ae(i.TEXTURE_CUBE_MAP,k);for(let nt=0;nt<6;nt++)if(k.mipmaps&&k.mipmaps.length>0)for(let wt=0;wt<k.mipmaps.length;wt++)We(xe.__webglFramebuffer[nt][wt],$,k,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+nt,wt);else We(xe.__webglFramebuffer[nt],$,k,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0);A(k)&&M(i.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ft){for(let nt=0,wt=Be.length;nt<wt;nt++){const ee=Be[nt],Ae=n.get(ee);let je=i.TEXTURE_2D;($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(je=$.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(je,Ae.__webglTexture),ae(je,ee),We(xe.__webglFramebuffer,$,ee,i.COLOR_ATTACHMENT0+nt,je,0),A(ee)&&M(je)}t.unbindTexture()}else{let nt=i.TEXTURE_2D;if(($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(nt=$.isWebGL3DRenderTarget?i.TEXTURE_3D:i.TEXTURE_2D_ARRAY),t.bindTexture(nt,Ue.__webglTexture),ae(nt,k),k.mipmaps&&k.mipmaps.length>0)for(let wt=0;wt<k.mipmaps.length;wt++)We(xe.__webglFramebuffer[wt],$,k,i.COLOR_ATTACHMENT0,nt,wt);else We(xe.__webglFramebuffer,$,k,i.COLOR_ATTACHMENT0,nt,0);A(k)&&M(nt),t.unbindTexture()}$.depthBuffer&&vt($)}function Ce($){const k=$.textures;for(let xe=0,Ue=k.length;xe<Ue;xe++){const Be=k[xe];if(A(Be)){const Re=D($),ft=n.get(Be).__webglTexture;t.bindTexture(Re,ft),M(Re),t.unbindTexture()}}}const J=[],Ve=[];function re($){if($.samples>0){if(Xe($)===!1){const k=$.textures,xe=$.width,Ue=$.height;let Be=i.COLOR_BUFFER_BIT;const Re=$.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT,ft=n.get($),nt=k.length>1;if(nt)for(let ee=0;ee<k.length;ee++)t.bindFramebuffer(i.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ee,i.RENDERBUFFER,null),t.bindFramebuffer(i.FRAMEBUFFER,ft.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+ee,i.TEXTURE_2D,null,0);t.bindFramebuffer(i.READ_FRAMEBUFFER,ft.__webglMultisampledFramebuffer);const wt=$.texture.mipmaps;wt&&wt.length>0?t.bindFramebuffer(i.DRAW_FRAMEBUFFER,ft.__webglFramebuffer[0]):t.bindFramebuffer(i.DRAW_FRAMEBUFFER,ft.__webglFramebuffer);for(let ee=0;ee<k.length;ee++){if($.resolveDepthBuffer&&($.depthBuffer&&(Be|=i.DEPTH_BUFFER_BIT),$.stencilBuffer&&$.resolveStencilBuffer&&(Be|=i.STENCIL_BUFFER_BIT)),nt){i.framebufferRenderbuffer(i.READ_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,ft.__webglColorRenderbuffer[ee]);const Ae=n.get(k[ee]).__webglTexture;i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,Ae,0)}i.blitFramebuffer(0,0,xe,Ue,0,0,xe,Ue,Be,i.NEAREST),d===!0&&(J.length=0,Ve.length=0,J.push(i.COLOR_ATTACHMENT0+ee),$.depthBuffer&&$.resolveDepthBuffer===!1&&(J.push(Re),Ve.push(Re),i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,Ve)),i.invalidateFramebuffer(i.READ_FRAMEBUFFER,J))}if(t.bindFramebuffer(i.READ_FRAMEBUFFER,null),t.bindFramebuffer(i.DRAW_FRAMEBUFFER,null),nt)for(let ee=0;ee<k.length;ee++){t.bindFramebuffer(i.FRAMEBUFFER,ft.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+ee,i.RENDERBUFFER,ft.__webglColorRenderbuffer[ee]);const Ae=n.get(k[ee]).__webglTexture;t.bindFramebuffer(i.FRAMEBUFFER,ft.__webglFramebuffer),i.framebufferTexture2D(i.DRAW_FRAMEBUFFER,i.COLOR_ATTACHMENT0+ee,i.TEXTURE_2D,Ae,0)}t.bindFramebuffer(i.DRAW_FRAMEBUFFER,ft.__webglMultisampledFramebuffer)}else if($.depthBuffer&&$.resolveDepthBuffer===!1&&d){const k=$.stencilBuffer?i.DEPTH_STENCIL_ATTACHMENT:i.DEPTH_ATTACHMENT;i.invalidateFramebuffer(i.DRAW_FRAMEBUFFER,[k])}}}function Qe($){return Math.min(s.maxSamples,$.samples)}function Xe($){const k=n.get($);return $.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&k.__useRenderToTexture!==!1}function at($){const k=o.render.frame;m.get($)!==k&&(m.set($,k),$.update())}function Ye($,k){const xe=$.colorSpace,Ue=$.format,Be=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||xe!==zf&&xe!==fu&&(Gn.getTransfer(xe)===hi?(Ue!==Oa||Be!==qo)&&St("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):an("WebGLTextures: Unsupported texture color space:",xe)),k}function ct($){return typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement?(p.width=$.naturalWidth||$.width,p.height=$.naturalHeight||$.height):typeof VideoFrame<"u"&&$ instanceof VideoFrame?(p.width=$.displayWidth,p.height=$.displayHeight):(p.width=$.width,p.height=$.height),p}this.allocateTextureUnit=ie,this.resetTextureUnits=Q,this.setTexture2D=fe,this.setTexture2DArray=V,this.setTexture3D=X,this.setTextureCube=K,this.rebindTextures=Gt,this.setupRenderTarget=et,this.updateRenderTargetMipmap=Ce,this.updateMultisampleRenderTarget=re,this.setupDepthRenderbuffer=vt,this.setupFrameBufferTexture=We,this.useMultisampledRTT=Xe}function hU(i,e){function t(n,s=fu){let r;const o=Gn.getTransfer(s);if(n===qo)return i.UNSIGNED_BYTE;if(n===yS)return i.UNSIGNED_SHORT_4_4_4_4;if(n===_S)return i.UNSIGNED_SHORT_5_5_5_1;if(n===Fw)return i.UNSIGNED_INT_5_9_9_9_REV;if(n===Vw)return i.UNSIGNED_INT_10F_11F_11F_REV;if(n===Iw)return i.BYTE;if(n===jw)return i.SHORT;if(n===Wm)return i.UNSIGNED_SHORT;if(n===vS)return i.INT;if(n===bu)return i.UNSIGNED_INT;if(n===Rr)return i.FLOAT;if(n===Fh)return i.HALF_FLOAT;if(n===kw)return i.ALPHA;if(n===Hw)return i.RGB;if(n===Oa)return i.RGBA;if(n===Zm)return i.DEPTH_COMPONENT;if(n===Km)return i.DEPTH_STENCIL;if(n===bS)return i.RED;if(n===Vv)return i.RED_INTEGER;if(n===SS)return i.RG;if(n===MS)return i.RG_INTEGER;if(n===TS)return i.RGBA_INTEGER;if(n===Lg||n===Og||n===Ug||n===zg)if(o===hi)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(n===Lg)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Og)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Ug)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===zg)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(n===Lg)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Og)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Ug)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===zg)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===d1||n===h1||n===p1||n===m1)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(n===d1)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===h1)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===p1)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===m1)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===x1||n===g1||n===v1)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(n===x1||n===g1)return o===hi?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(n===v1)return o===hi?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(n===y1||n===_1||n===b1||n===S1||n===M1||n===T1||n===w1||n===E1||n===A1||n===C1||n===N1||n===R1||n===D1||n===L1)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(n===y1)return o===hi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===_1)return o===hi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===b1)return o===hi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===S1)return o===hi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===M1)return o===hi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===T1)return o===hi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===w1)return o===hi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===E1)return o===hi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===A1)return o===hi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===C1)return o===hi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===N1)return o===hi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===R1)return o===hi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===D1)return o===hi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===L1)return o===hi?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===O1||n===U1||n===z1)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(n===O1)return o===hi?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===U1)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===z1)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===P1||n===B1||n===I1||n===j1)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(n===P1)return r.COMPRESSED_RED_RGTC1_EXT;if(n===B1)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===I1)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===j1)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===Ym?i.UNSIGNED_INT_24_8:i[n]!==void 0?i[n]:null}return{convert:t}}const BW=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,IW=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class jW{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const n=new eE(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new fo({vertexShader:BW,fragmentShader:IW,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new zs(new b0(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class FW extends wc{constructor(e,t){super();const n=this;let s=null,r=1,o=null,c="local-floor",d=1,p=null,m=null,g=null,y=null,b=null,S=null;const E=typeof XRWebGLBinding<"u",A=new jW,M={},D=t.getContextAttributes();let R=null,L=null;const z=[],U=[],I=new Ke;let F=null;const P=new Ks;P.viewport=new Yn;const B=new Ks;B.viewport=new Yn;const H=[P,B],Q=new tU;let ie=null,ue=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(pe){let _e=z[pe];return _e===void 0&&(_e=new Bb,z[pe]=_e),_e.getTargetRaySpace()},this.getControllerGrip=function(pe){let _e=z[pe];return _e===void 0&&(_e=new Bb,z[pe]=_e),_e.getGripSpace()},this.getHand=function(pe){let _e=z[pe];return _e===void 0&&(_e=new Bb,z[pe]=_e),_e.getHandSpace()};function fe(pe){const _e=U.indexOf(pe.inputSource);if(_e===-1)return;const We=z[_e];We!==void 0&&(We.update(pe.inputSource,pe.frame,p||o),We.dispatchEvent({type:pe.type,data:pe.inputSource}))}function V(){s.removeEventListener("select",fe),s.removeEventListener("selectstart",fe),s.removeEventListener("selectend",fe),s.removeEventListener("squeeze",fe),s.removeEventListener("squeezestart",fe),s.removeEventListener("squeezeend",fe),s.removeEventListener("end",V),s.removeEventListener("inputsourceschange",X);for(let pe=0;pe<z.length;pe++){const _e=U[pe];_e!==null&&(U[pe]=null,z[pe].disconnect(_e))}ie=null,ue=null,A.reset();for(const pe in M)delete M[pe];e.setRenderTarget(R),b=null,y=null,g=null,s=null,L=null,Pe.stop(),n.isPresenting=!1,e.setPixelRatio(F),e.setSize(I.width,I.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(pe){r=pe,n.isPresenting===!0&&St("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(pe){c=pe,n.isPresenting===!0&&St("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||o},this.setReferenceSpace=function(pe){p=pe},this.getBaseLayer=function(){return y!==null?y:b},this.getBinding=function(){return g===null&&E&&(g=new XRWebGLBinding(s,t)),g},this.getFrame=function(){return S},this.getSession=function(){return s},this.setSession=async function(pe){if(s=pe,s!==null){if(R=e.getRenderTarget(),s.addEventListener("select",fe),s.addEventListener("selectstart",fe),s.addEventListener("selectend",fe),s.addEventListener("squeeze",fe),s.addEventListener("squeezestart",fe),s.addEventListener("squeezeend",fe),s.addEventListener("end",V),s.addEventListener("inputsourceschange",X),D.xrCompatible!==!0&&await t.makeXRCompatible(),F=e.getPixelRatio(),e.getSize(I),E&&"createProjectionLayer"in XRWebGLBinding.prototype){let We=null,tt=null,pt=null;D.depth&&(pt=D.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,We=D.stencil?Km:Zm,tt=D.stencil?Ym:bu);const vt={colorFormat:t.RGBA8,depthFormat:pt,scaleFactor:r};g=this.getBinding(),y=g.createProjectionLayer(vt),s.updateRenderState({layers:[y]}),e.setPixelRatio(1),e.setSize(y.textureWidth,y.textureHeight,!1),L=new Mc(y.textureWidth,y.textureHeight,{format:Oa,type:qo,depthTexture:new $w(y.textureWidth,y.textureHeight,tt,void 0,void 0,void 0,void 0,void 0,void 0,We),stencilBuffer:D.stencil,colorSpace:e.outputColorSpace,samples:D.antialias?4:0,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}else{const We={antialias:D.antialias,alpha:!0,depth:D.depth,stencil:D.stencil,framebufferScaleFactor:r};b=new XRWebGLLayer(s,t,We),s.updateRenderState({baseLayer:b}),e.setPixelRatio(1),e.setSize(b.framebufferWidth,b.framebufferHeight,!1),L=new Mc(b.framebufferWidth,b.framebufferHeight,{format:Oa,type:qo,colorSpace:e.outputColorSpace,stencilBuffer:D.stencil,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}L.isXRRenderTarget=!0,this.setFoveation(d),p=null,o=await s.requestReferenceSpace(c),Pe.setContext(s),Pe.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return A.getDepthTexture()};function X(pe){for(let _e=0;_e<pe.removed.length;_e++){const We=pe.removed[_e],tt=U.indexOf(We);tt>=0&&(U[tt]=null,z[tt].disconnect(We))}for(let _e=0;_e<pe.added.length;_e++){const We=pe.added[_e];let tt=U.indexOf(We);if(tt===-1){for(let vt=0;vt<z.length;vt++)if(vt>=U.length){U.push(We),tt=vt;break}else if(U[vt]===null){U[vt]=We,tt=vt;break}if(tt===-1)break}const pt=z[tt];pt&&pt.connect(We)}}const K=new te,ce=new te;function Y(pe,_e,We){K.setFromMatrixPosition(_e.matrixWorld),ce.setFromMatrixPosition(We.matrixWorld);const tt=K.distanceTo(ce),pt=_e.projectionMatrix.elements,vt=We.projectionMatrix.elements,Gt=pt[14]/(pt[10]-1),et=pt[14]/(pt[10]+1),Ce=(pt[9]+1)/pt[5],J=(pt[9]-1)/pt[5],Ve=(pt[8]-1)/pt[0],re=(vt[8]+1)/vt[0],Qe=Gt*Ve,Xe=Gt*re,at=tt/(-Ve+re),Ye=at*-Ve;if(_e.matrixWorld.decompose(pe.position,pe.quaternion,pe.scale),pe.translateX(Ye),pe.translateZ(at),pe.matrixWorld.compose(pe.position,pe.quaternion,pe.scale),pe.matrixWorldInverse.copy(pe.matrixWorld).invert(),pt[10]===-1)pe.projectionMatrix.copy(_e.projectionMatrix),pe.projectionMatrixInverse.copy(_e.projectionMatrixInverse);else{const ct=Gt+at,$=et+at,k=Qe-Ye,xe=Xe+(tt-Ye),Ue=Ce*et/$*ct,Be=J*et/$*ct;pe.projectionMatrix.makePerspective(k,xe,Ue,Be,ct,$),pe.projectionMatrixInverse.copy(pe.projectionMatrix).invert()}}function W(pe,_e){_e===null?pe.matrixWorld.copy(pe.matrix):pe.matrixWorld.multiplyMatrices(_e.matrixWorld,pe.matrix),pe.matrixWorldInverse.copy(pe.matrixWorld).invert()}this.updateCamera=function(pe){if(s===null)return;let _e=pe.near,We=pe.far;A.texture!==null&&(A.depthNear>0&&(_e=A.depthNear),A.depthFar>0&&(We=A.depthFar)),Q.near=B.near=P.near=_e,Q.far=B.far=P.far=We,(ie!==Q.near||ue!==Q.far)&&(s.updateRenderState({depthNear:Q.near,depthFar:Q.far}),ie=Q.near,ue=Q.far),Q.layers.mask=pe.layers.mask|6,P.layers.mask=Q.layers.mask&3,B.layers.mask=Q.layers.mask&5;const tt=pe.parent,pt=Q.cameras;W(Q,tt);for(let vt=0;vt<pt.length;vt++)W(pt[vt],tt);pt.length===2?Y(Q,P,B):Q.projectionMatrix.copy(P.projectionMatrix),ae(pe,Q,tt)};function ae(pe,_e,We){We===null?pe.matrix.copy(_e.matrixWorld):(pe.matrix.copy(We.matrixWorld),pe.matrix.invert(),pe.matrix.multiply(_e.matrixWorld)),pe.matrix.decompose(pe.position,pe.quaternion,pe.scale),pe.updateMatrixWorld(!0),pe.projectionMatrix.copy(_e.projectionMatrix),pe.projectionMatrixInverse.copy(_e.projectionMatrixInverse),pe.isPerspectiveCamera&&(pe.fov=$m*2*Math.atan(1/pe.projectionMatrix.elements[5]),pe.zoom=1)}this.getCamera=function(){return Q},this.getFoveation=function(){if(!(y===null&&b===null))return d},this.setFoveation=function(pe){d=pe,y!==null&&(y.fixedFoveation=pe),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=pe)},this.hasDepthSensing=function(){return A.texture!==null},this.getDepthSensingMesh=function(){return A.getMesh(Q)},this.getCameraTexture=function(pe){return M[pe]};let he=null;function ye(pe,_e){if(m=_e.getViewerPose(p||o),S=_e,m!==null){const We=m.views;b!==null&&(e.setRenderTargetFramebuffer(L,b.framebuffer),e.setRenderTarget(L));let tt=!1;We.length!==Q.cameras.length&&(Q.cameras.length=0,tt=!0);for(let et=0;et<We.length;et++){const Ce=We[et];let J=null;if(b!==null)J=b.getViewport(Ce);else{const re=g.getViewSubImage(y,Ce);J=re.viewport,et===0&&(e.setRenderTargetTextures(L,re.colorTexture,re.depthStencilTexture),e.setRenderTarget(L))}let Ve=H[et];Ve===void 0&&(Ve=new Ks,Ve.layers.enable(et),Ve.viewport=new Yn,H[et]=Ve),Ve.matrix.fromArray(Ce.transform.matrix),Ve.matrix.decompose(Ve.position,Ve.quaternion,Ve.scale),Ve.projectionMatrix.fromArray(Ce.projectionMatrix),Ve.projectionMatrixInverse.copy(Ve.projectionMatrix).invert(),Ve.viewport.set(J.x,J.y,J.width,J.height),et===0&&(Q.matrix.copy(Ve.matrix),Q.matrix.decompose(Q.position,Q.quaternion,Q.scale)),tt===!0&&Q.cameras.push(Ve)}const pt=s.enabledFeatures;if(pt&&pt.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&E){g=n.getBinding();const et=g.getDepthInformation(We[0]);et&&et.isValid&&et.texture&&A.init(et,s.renderState)}if(pt&&pt.includes("camera-access")&&E){e.state.unbindTexture(),g=n.getBinding();for(let et=0;et<We.length;et++){const Ce=We[et].camera;if(Ce){let J=M[Ce];J||(J=new eE,M[Ce]=J);const Ve=g.getCameraImage(Ce);J.sourceTexture=Ve}}}}for(let We=0;We<z.length;We++){const tt=U[We],pt=z[We];tt!==null&&pt!==void 0&&pt.update(tt,_e,p||o)}he&&he(pe,_e),_e.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:_e}),S=null}const Pe=new lU;Pe.setAnimationLoop(ye),this.setAnimationLoop=function(pe){he=pe},this.dispose=function(){}}}const Jd=new uo,VW=new $t;function kW(i,e){function t(A,M){A.matrixAutoUpdate===!0&&A.updateMatrix(),M.value.copy(A.matrix)}function n(A,M){M.color.getRGB(A.fogColor.value,rO(i)),M.isFog?(A.fogNear.value=M.near,A.fogFar.value=M.far):M.isFogExp2&&(A.fogDensity.value=M.density)}function s(A,M,D,R,L){M.isMeshBasicMaterial||M.isMeshLambertMaterial?r(A,M):M.isMeshToonMaterial?(r(A,M),g(A,M)):M.isMeshPhongMaterial?(r(A,M),m(A,M)):M.isMeshStandardMaterial?(r(A,M),y(A,M),M.isMeshPhysicalMaterial&&b(A,M,L)):M.isMeshMatcapMaterial?(r(A,M),S(A,M)):M.isMeshDepthMaterial?r(A,M):M.isMeshDistanceMaterial?(r(A,M),E(A,M)):M.isMeshNormalMaterial?r(A,M):M.isLineBasicMaterial?(o(A,M),M.isLineDashedMaterial&&c(A,M)):M.isPointsMaterial?d(A,M,D,R):M.isSpriteMaterial?p(A,M):M.isShadowMaterial?(A.color.value.copy(M.color),A.opacity.value=M.opacity):M.isShaderMaterial&&(M.uniformsNeedUpdate=!1)}function r(A,M){A.opacity.value=M.opacity,M.color&&A.diffuse.value.copy(M.color),M.emissive&&A.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity),M.map&&(A.map.value=M.map,t(M.map,A.mapTransform)),M.alphaMap&&(A.alphaMap.value=M.alphaMap,t(M.alphaMap,A.alphaMapTransform)),M.bumpMap&&(A.bumpMap.value=M.bumpMap,t(M.bumpMap,A.bumpMapTransform),A.bumpScale.value=M.bumpScale,M.side===fr&&(A.bumpScale.value*=-1)),M.normalMap&&(A.normalMap.value=M.normalMap,t(M.normalMap,A.normalMapTransform),A.normalScale.value.copy(M.normalScale),M.side===fr&&A.normalScale.value.negate()),M.displacementMap&&(A.displacementMap.value=M.displacementMap,t(M.displacementMap,A.displacementMapTransform),A.displacementScale.value=M.displacementScale,A.displacementBias.value=M.displacementBias),M.emissiveMap&&(A.emissiveMap.value=M.emissiveMap,t(M.emissiveMap,A.emissiveMapTransform)),M.specularMap&&(A.specularMap.value=M.specularMap,t(M.specularMap,A.specularMapTransform)),M.alphaTest>0&&(A.alphaTest.value=M.alphaTest);const D=e.get(M),R=D.envMap,L=D.envMapRotation;R&&(A.envMap.value=R,Jd.copy(L),Jd.x*=-1,Jd.y*=-1,Jd.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(Jd.y*=-1,Jd.z*=-1),A.envMapRotation.value.setFromMatrix4(VW.makeRotationFromEuler(Jd)),A.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=M.reflectivity,A.ior.value=M.ior,A.refractionRatio.value=M.refractionRatio),M.lightMap&&(A.lightMap.value=M.lightMap,A.lightMapIntensity.value=M.lightMapIntensity,t(M.lightMap,A.lightMapTransform)),M.aoMap&&(A.aoMap.value=M.aoMap,A.aoMapIntensity.value=M.aoMapIntensity,t(M.aoMap,A.aoMapTransform))}function o(A,M){A.diffuse.value.copy(M.color),A.opacity.value=M.opacity,M.map&&(A.map.value=M.map,t(M.map,A.mapTransform))}function c(A,M){A.dashSize.value=M.dashSize,A.totalSize.value=M.dashSize+M.gapSize,A.scale.value=M.scale}function d(A,M,D,R){A.diffuse.value.copy(M.color),A.opacity.value=M.opacity,A.size.value=M.size*D,A.scale.value=R*.5,M.map&&(A.map.value=M.map,t(M.map,A.uvTransform)),M.alphaMap&&(A.alphaMap.value=M.alphaMap,t(M.alphaMap,A.alphaMapTransform)),M.alphaTest>0&&(A.alphaTest.value=M.alphaTest)}function p(A,M){A.diffuse.value.copy(M.color),A.opacity.value=M.opacity,A.rotation.value=M.rotation,M.map&&(A.map.value=M.map,t(M.map,A.mapTransform)),M.alphaMap&&(A.alphaMap.value=M.alphaMap,t(M.alphaMap,A.alphaMapTransform)),M.alphaTest>0&&(A.alphaTest.value=M.alphaTest)}function m(A,M){A.specular.value.copy(M.specular),A.shininess.value=Math.max(M.shininess,1e-4)}function g(A,M){M.gradientMap&&(A.gradientMap.value=M.gradientMap)}function y(A,M){A.metalness.value=M.metalness,M.metalnessMap&&(A.metalnessMap.value=M.metalnessMap,t(M.metalnessMap,A.metalnessMapTransform)),A.roughness.value=M.roughness,M.roughnessMap&&(A.roughnessMap.value=M.roughnessMap,t(M.roughnessMap,A.roughnessMapTransform)),M.envMap&&(A.envMapIntensity.value=M.envMapIntensity)}function b(A,M,D){A.ior.value=M.ior,M.sheen>0&&(A.sheenColor.value.copy(M.sheenColor).multiplyScalar(M.sheen),A.sheenRoughness.value=M.sheenRoughness,M.sheenColorMap&&(A.sheenColorMap.value=M.sheenColorMap,t(M.sheenColorMap,A.sheenColorMapTransform)),M.sheenRoughnessMap&&(A.sheenRoughnessMap.value=M.sheenRoughnessMap,t(M.sheenRoughnessMap,A.sheenRoughnessMapTransform))),M.clearcoat>0&&(A.clearcoat.value=M.clearcoat,A.clearcoatRoughness.value=M.clearcoatRoughness,M.clearcoatMap&&(A.clearcoatMap.value=M.clearcoatMap,t(M.clearcoatMap,A.clearcoatMapTransform)),M.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=M.clearcoatRoughnessMap,t(M.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),M.clearcoatNormalMap&&(A.clearcoatNormalMap.value=M.clearcoatNormalMap,t(M.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(M.clearcoatNormalScale),M.side===fr&&A.clearcoatNormalScale.value.negate())),M.dispersion>0&&(A.dispersion.value=M.dispersion),M.iridescence>0&&(A.iridescence.value=M.iridescence,A.iridescenceIOR.value=M.iridescenceIOR,A.iridescenceThicknessMinimum.value=M.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=M.iridescenceThicknessRange[1],M.iridescenceMap&&(A.iridescenceMap.value=M.iridescenceMap,t(M.iridescenceMap,A.iridescenceMapTransform)),M.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=M.iridescenceThicknessMap,t(M.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),M.transmission>0&&(A.transmission.value=M.transmission,A.transmissionSamplerMap.value=D.texture,A.transmissionSamplerSize.value.set(D.width,D.height),M.transmissionMap&&(A.transmissionMap.value=M.transmissionMap,t(M.transmissionMap,A.transmissionMapTransform)),A.thickness.value=M.thickness,M.thicknessMap&&(A.thicknessMap.value=M.thicknessMap,t(M.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=M.attenuationDistance,A.attenuationColor.value.copy(M.attenuationColor)),M.anisotropy>0&&(A.anisotropyVector.value.set(M.anisotropy*Math.cos(M.anisotropyRotation),M.anisotropy*Math.sin(M.anisotropyRotation)),M.anisotropyMap&&(A.anisotropyMap.value=M.anisotropyMap,t(M.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=M.specularIntensity,A.specularColor.value.copy(M.specularColor),M.specularColorMap&&(A.specularColorMap.value=M.specularColorMap,t(M.specularColorMap,A.specularColorMapTransform)),M.specularIntensityMap&&(A.specularIntensityMap.value=M.specularIntensityMap,t(M.specularIntensityMap,A.specularIntensityMapTransform))}function S(A,M){M.matcap&&(A.matcap.value=M.matcap)}function E(A,M){const D=e.get(M).light;A.referencePosition.value.setFromMatrixPosition(D.matrixWorld),A.nearDistance.value=D.shadow.camera.near,A.farDistance.value=D.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:s}}function HW(i,e,t,n){let s={},r={},o=[];const c=i.getParameter(i.MAX_UNIFORM_BUFFER_BINDINGS);function d(D,R){const L=R.program;n.uniformBlockBinding(D,L)}function p(D,R){let L=s[D.id];L===void 0&&(S(D),L=m(D),s[D.id]=L,D.addEventListener("dispose",A));const z=R.program;n.updateUBOMapping(D,z);const U=e.render.frame;r[D.id]!==U&&(y(D),r[D.id]=U)}function m(D){const R=g();D.__bindingPointIndex=R;const L=i.createBuffer(),z=D.__size,U=D.usage;return i.bindBuffer(i.UNIFORM_BUFFER,L),i.bufferData(i.UNIFORM_BUFFER,z,U),i.bindBuffer(i.UNIFORM_BUFFER,null),i.bindBufferBase(i.UNIFORM_BUFFER,R,L),L}function g(){for(let D=0;D<c;D++)if(o.indexOf(D)===-1)return o.push(D),D;return an("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function y(D){const R=s[D.id],L=D.uniforms,z=D.__cache;i.bindBuffer(i.UNIFORM_BUFFER,R);for(let U=0,I=L.length;U<I;U++){const F=Array.isArray(L[U])?L[U]:[L[U]];for(let P=0,B=F.length;P<B;P++){const H=F[P];if(b(H,U,P,z)===!0){const Q=H.__offset,ie=Array.isArray(H.value)?H.value:[H.value];let ue=0;for(let fe=0;fe<ie.length;fe++){const V=ie[fe],X=E(V);typeof V=="number"||typeof V=="boolean"?(H.__data[0]=V,i.bufferSubData(i.UNIFORM_BUFFER,Q+ue,H.__data)):V.isMatrix3?(H.__data[0]=V.elements[0],H.__data[1]=V.elements[1],H.__data[2]=V.elements[2],H.__data[3]=0,H.__data[4]=V.elements[3],H.__data[5]=V.elements[4],H.__data[6]=V.elements[5],H.__data[7]=0,H.__data[8]=V.elements[6],H.__data[9]=V.elements[7],H.__data[10]=V.elements[8],H.__data[11]=0):(V.toArray(H.__data,ue),ue+=X.storage/Float32Array.BYTES_PER_ELEMENT)}i.bufferSubData(i.UNIFORM_BUFFER,Q,H.__data)}}}i.bindBuffer(i.UNIFORM_BUFFER,null)}function b(D,R,L,z){const U=D.value,I=R+"_"+L;if(z[I]===void 0)return typeof U=="number"||typeof U=="boolean"?z[I]=U:z[I]=U.clone(),!0;{const F=z[I];if(typeof U=="number"||typeof U=="boolean"){if(F!==U)return z[I]=U,!0}else if(F.equals(U)===!1)return F.copy(U),!0}return!1}function S(D){const R=D.uniforms;let L=0;const z=16;for(let I=0,F=R.length;I<F;I++){const P=Array.isArray(R[I])?R[I]:[R[I]];for(let B=0,H=P.length;B<H;B++){const Q=P[B],ie=Array.isArray(Q.value)?Q.value:[Q.value];for(let ue=0,fe=ie.length;ue<fe;ue++){const V=ie[ue],X=E(V),K=L%z,ce=K%X.boundary,Y=K+ce;L+=ce,Y!==0&&z-Y<X.storage&&(L+=z-Y),Q.__data=new Float32Array(X.storage/Float32Array.BYTES_PER_ELEMENT),Q.__offset=L,L+=X.storage}}}const U=L%z;return U>0&&(L+=z-U),D.__size=L,D.__cache={},this}function E(D){const R={boundary:0,storage:0};return typeof D=="number"||typeof D=="boolean"?(R.boundary=4,R.storage=4):D.isVector2?(R.boundary=8,R.storage=8):D.isVector3||D.isColor?(R.boundary=16,R.storage=12):D.isVector4?(R.boundary=16,R.storage=16):D.isMatrix3?(R.boundary=48,R.storage=48):D.isMatrix4?(R.boundary=64,R.storage=64):D.isTexture?St("WebGLRenderer: Texture samplers can not be part of an uniforms group."):St("WebGLRenderer: Unsupported uniform value type.",D),R}function A(D){const R=D.target;R.removeEventListener("dispose",A);const L=o.indexOf(R.__bindingPointIndex);o.splice(L,1),i.deleteBuffer(s[R.id]),delete s[R.id],delete r[R.id]}function M(){for(const D in s)i.deleteBuffer(s[D]);o=[],s={},r={}}return{bind:d,update:p,dispose:M}}const GW=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let lu=null;function XW(){return lu===null&&(lu=new El(GW,32,32,SS,Fh),lu.minFilter=fs,lu.magFilter=fs,lu.wrapS=Nr,lu.wrapT=Nr,lu.generateMipmaps=!1,lu.needsUpdate=!0),lu}class pU{constructor(e={}){const{canvas:t=iO(),context:n=null,depth:s=!0,stencil:r=!1,alpha:o=!1,antialias:c=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:g=!1,reversedDepthBuffer:y=!1}=e;this.isWebGLRenderer=!0;let b;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=n.getContextAttributes().alpha}else b=o;const S=new Set([TS,MS,Vv]),E=new Set([qo,bu,Wm,Ym,yS,_S]),A=new Uint32Array(4),M=new Int32Array(4);let D=null,R=null;const L=[],z=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=bc,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const U=this;let I=!1;this._outputColorSpace=Ca;let F=0,P=0,B=null,H=-1,Q=null;const ie=new Yn,ue=new Yn;let fe=null;const V=new Tt(0);let X=0,K=t.width,ce=t.height,Y=1,W=null,ae=null;const he=new Yn(0,0,K,ce),ye=new Yn(0,0,K,ce);let Pe=!1;const pe=new _0;let _e=!1,We=!1;const tt=new $t,pt=new te,vt=new Yn,Gt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let et=!1;function Ce(){return B===null?Y:1}let J=n;function Ve(G,ge){return t.getContext(G,ge)}try{const G={alpha:!0,depth:s,stencil:r,antialias:c,premultipliedAlpha:d,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:g};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${jv}`),t.addEventListener("webglcontextlost",He,!1),t.addEventListener("webglcontextrestored",Ie,!1),t.addEventListener("webglcontextcreationerror",xt,!1),J===null){const ge="webgl2";if(J=Ve(ge,G),J===null)throw Ve(ge)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(G){throw G("WebGLRenderer: "+G.message),G}let re,Qe,Xe,at,Ye,ct,$,k,xe,Ue,Be,Re,ft,nt,wt,ee,Ae,je,mt,ut,ot,Dt,ne,st;function Je(){re=new tq(J),re.init(),Dt=new hU(J,re),Qe=new qX(J,re,e,Dt),Xe=new zW(J,re),Qe.reversedDepthBuffer&&y&&Xe.buffers.depth.setReversed(!0),at=new sq(J),Ye=new SW,ct=new PW(J,re,Xe,Ye,Qe,Dt,at),$=new YX(U),k=new eq(U),xe=new lH(J),ne=new GX(J,xe),Ue=new nq(J,xe,at,ne),Be=new rq(J,Ue,xe,at),mt=new aq(J,Qe,ct),ee=new WX(Ye),Re=new bW(U,$,k,re,Qe,ne,ee),ft=new kW(U,Ye),nt=new TW,wt=new RW(re),je=new HX(U,$,k,Xe,Be,b,d),Ae=new OW(U,Be,Qe),st=new HW(J,at,Qe,Xe),ut=new XX(J,re,at),ot=new iq(J,re,at),at.programs=Re.programs,U.capabilities=Qe,U.extensions=re,U.properties=Ye,U.renderLists=nt,U.shadowMap=Ae,U.state=Xe,U.info=at}Je();const Ze=new FW(U,J);this.xr=Ze,this.getContext=function(){return J},this.getContextAttributes=function(){return J.getContextAttributes()},this.forceContextLoss=function(){const G=re.get("WEBGL_lose_context");G&&G.loseContext()},this.forceContextRestore=function(){const G=re.get("WEBGL_lose_context");G&&G.restoreContext()},this.getPixelRatio=function(){return Y},this.setPixelRatio=function(G){G!==void 0&&(Y=G,this.setSize(K,ce,!1))},this.getSize=function(G){return G.set(K,ce)},this.setSize=function(G,ge,Te=!0){if(Ze.isPresenting){St("WebGLRenderer: Can't change size while VR device is presenting.");return}K=G,ce=ge,t.width=Math.floor(G*Y),t.height=Math.floor(ge*Y),Te===!0&&(t.style.width=G+"px",t.style.height=ge+"px"),this.setViewport(0,0,G,ge)},this.getDrawingBufferSize=function(G){return G.set(K*Y,ce*Y).floor()},this.setDrawingBufferSize=function(G,ge,Te){K=G,ce=ge,Y=Te,t.width=Math.floor(G*Te),t.height=Math.floor(ge*Te),this.setViewport(0,0,G,ge)},this.getCurrentViewport=function(G){return G.copy(ie)},this.getViewport=function(G){return G.copy(he)},this.setViewport=function(G,ge,Te,ve){G.isVector4?he.set(G.x,G.y,G.z,G.w):he.set(G,ge,Te,ve),Xe.viewport(ie.copy(he).multiplyScalar(Y).round())},this.getScissor=function(G){return G.copy(ye)},this.setScissor=function(G,ge,Te,ve){G.isVector4?ye.set(G.x,G.y,G.z,G.w):ye.set(G,ge,Te,ve),Xe.scissor(ue.copy(ye).multiplyScalar(Y).round())},this.getScissorTest=function(){return Pe},this.setScissorTest=function(G){Xe.setScissorTest(Pe=G)},this.setOpaqueSort=function(G){W=G},this.setTransparentSort=function(G){ae=G},this.getClearColor=function(G){return G.copy(je.getClearColor())},this.setClearColor=function(){je.setClearColor(...arguments)},this.getClearAlpha=function(){return je.getClearAlpha()},this.setClearAlpha=function(){je.setClearAlpha(...arguments)},this.clear=function(G=!0,ge=!0,Te=!0){let ve=0;if(G){let me=!1;if(B!==null){const it=B.texture.format;me=S.has(it)}if(me){const it=B.texture.type,lt=E.has(it),yt=je.getClearColor(),ht=je.getClearAlpha(),Pt=yt.r,jt=yt.g,At=yt.b;lt?(A[0]=Pt,A[1]=jt,A[2]=At,A[3]=ht,J.clearBufferuiv(J.COLOR,0,A)):(M[0]=Pt,M[1]=jt,M[2]=At,M[3]=ht,J.clearBufferiv(J.COLOR,0,M))}else ve|=J.COLOR_BUFFER_BIT}ge&&(ve|=J.DEPTH_BUFFER_BIT),Te&&(ve|=J.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),J.clear(ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",He,!1),t.removeEventListener("webglcontextrestored",Ie,!1),t.removeEventListener("webglcontextcreationerror",xt,!1),je.dispose(),nt.dispose(),wt.dispose(),Ye.dispose(),$.dispose(),k.dispose(),Be.dispose(),ne.dispose(),st.dispose(),Re.dispose(),Ze.dispose(),Ze.removeEventListener("sessionstart",Xt),Ze.removeEventListener("sessionend",Ut),Lt.stop()};function He(G){G.preventDefault(),hv("WebGLRenderer: Context Lost."),I=!0}function Ie(){hv("WebGLRenderer: Context Restored."),I=!1;const G=at.autoReset,ge=Ae.enabled,Te=Ae.autoUpdate,ve=Ae.needsUpdate,me=Ae.type;Je(),at.autoReset=G,Ae.enabled=ge,Ae.autoUpdate=Te,Ae.needsUpdate=ve,Ae.type=me}function xt(G){an("WebGLRenderer: A WebGL context could not be created. Reason: ",G.statusMessage)}function zt(G){const ge=G.target;ge.removeEventListener("dispose",zt),yn(ge)}function yn(G){gt(G),Ye.remove(G)}function gt(G){const ge=Ye.get(G).programs;ge!==void 0&&(ge.forEach(function(Te){Re.releaseProgram(Te)}),G.isShaderMaterial&&Re.releaseShaderCache(G))}this.renderBufferDirect=function(G,ge,Te,ve,me,it){ge===null&&(ge=Gt);const lt=me.isMesh&&me.matrixWorld.determinant()<0,yt=ii(G,ge,Te,ve,me);Xe.setMaterial(ve,lt);let ht=Te.index,Pt=1;if(ve.wireframe===!0){if(ht=Ue.getWireframeAttribute(Te),ht===void 0)return;Pt=2}const jt=Te.drawRange,At=Te.attributes.position;let on=jt.start*Pt,On=(jt.start+jt.count)*Pt;it!==null&&(on=Math.max(on,it.start*Pt),On=Math.min(On,(it.start+it.count)*Pt)),ht!==null?(on=Math.max(on,0),On=Math.min(On,ht.count)):At!=null&&(on=Math.max(on,0),On=Math.min(On,At.count));const Un=On-on;if(Un<0||Un===1/0)return;ne.setup(me,ve,yt,Te,ht);let Mn,Kn=ut;if(ht!==null&&(Mn=xe.get(ht),Kn=ot,Kn.setIndex(Mn)),me.isMesh)ve.wireframe===!0?(Xe.setLineWidth(ve.wireframeLinewidth*Ce()),Kn.setMode(J.LINES)):Kn.setMode(J.TRIANGLES);else if(me.isLine){let kt=ve.linewidth;kt===void 0&&(kt=1),Xe.setLineWidth(kt*Ce()),me.isLineSegments?Kn.setMode(J.LINES):me.isLineLoop?Kn.setMode(J.LINE_LOOP):Kn.setMode(J.LINE_STRIP)}else me.isPoints?Kn.setMode(J.POINTS):me.isSprite&&Kn.setMode(J.TRIANGLES);if(me.isBatchedMesh)if(me._multiDrawInstances!==null)Jm("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Kn.renderMultiDrawInstances(me._multiDrawStarts,me._multiDrawCounts,me._multiDrawCount,me._multiDrawInstances);else if(re.get("WEBGL_multi_draw"))Kn.renderMultiDraw(me._multiDrawStarts,me._multiDrawCounts,me._multiDrawCount);else{const kt=me._multiDrawStarts,si=me._multiDrawCounts,Tn=me._multiDrawCount,Yi=ht?xe.get(ht).bytesPerElement:1,Yo=Ye.get(ve).currentProgram.getUniforms();for(let ui=0;ui<Tn;ui++)Yo.setValue(J,"_gl_DrawID",ui),Kn.render(kt[ui]/Yi,si[ui])}else if(me.isInstancedMesh)Kn.renderInstances(on,Un,me.count);else if(Te.isInstancedBufferGeometry){const kt=Te._maxInstanceCount!==void 0?Te._maxInstanceCount:1/0,si=Math.min(Te.instanceCount,kt);Kn.renderInstances(on,Un,si)}else Kn.render(on,Un)};function Et(G,ge,Te){G.transparent===!0&&G.side===dc&&G.forceSinglePass===!1?(G.side=fr,G.needsUpdate=!0,tn(G,ge,Te),G.side=yu,G.needsUpdate=!0,tn(G,ge,Te),G.side=dc):tn(G,ge,Te)}this.compile=function(G,ge,Te=null){Te===null&&(Te=G),R=wt.get(Te),R.init(ge),z.push(R),Te.traverseVisible(function(me){me.isLight&&me.layers.test(ge.layers)&&(R.pushLight(me),me.castShadow&&R.pushShadow(me))}),G!==Te&&G.traverseVisible(function(me){me.isLight&&me.layers.test(ge.layers)&&(R.pushLight(me),me.castShadow&&R.pushShadow(me))}),R.setupLights();const ve=new Set;return G.traverse(function(me){if(!(me.isMesh||me.isPoints||me.isLine||me.isSprite))return;const it=me.material;if(it)if(Array.isArray(it))for(let lt=0;lt<it.length;lt++){const yt=it[lt];Et(yt,Te,me),ve.add(yt)}else Et(it,Te,me),ve.add(it)}),R=z.pop(),ve},this.compileAsync=function(G,ge,Te=null){const ve=this.compile(G,ge,Te);return new Promise(me=>{function it(){if(ve.forEach(function(lt){Ye.get(lt).currentProgram.isReady()&&ve.delete(lt)}),ve.size===0){me(G);return}setTimeout(it,10)}re.get("KHR_parallel_shader_compile")!==null?it():setTimeout(it,10)})};let en=null;function dt(G){en&&en(G)}function Xt(){Lt.stop()}function Ut(){Lt.start()}const Lt=new lU;Lt.setAnimationLoop(dt),typeof self<"u"&&Lt.setContext(self),this.setAnimationLoop=function(G){en=G,Ze.setAnimationLoop(G),G===null?Lt.stop():Lt.start()},Ze.addEventListener("sessionstart",Xt),Ze.addEventListener("sessionend",Ut),this.render=function(G,ge){if(ge!==void 0&&ge.isCamera!==!0){an("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(I===!0)return;if(G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),ge.parent===null&&ge.matrixWorldAutoUpdate===!0&&ge.updateMatrixWorld(),Ze.enabled===!0&&Ze.isPresenting===!0&&(Ze.cameraAutoUpdate===!0&&Ze.updateCamera(ge),ge=Ze.getCamera()),G.isScene===!0&&G.onBeforeRender(U,G,ge,B),R=wt.get(G,z.length),R.init(ge),z.push(R),tt.multiplyMatrices(ge.projectionMatrix,ge.matrixWorldInverse),pe.setFromProjectionMatrix(tt,ro,ge.reversedDepth),We=this.localClippingEnabled,_e=ee.init(this.clippingPlanes,We),D=nt.get(G,L.length),D.init(),L.push(D),Ze.enabled===!0&&Ze.isPresenting===!0){const it=U.xr.getDepthSensingMesh();it!==null&&li(it,ge,-1/0,U.sortObjects)}li(G,ge,0,U.sortObjects),D.finish(),U.sortObjects===!0&&D.sort(W,ae),et=Ze.enabled===!1||Ze.isPresenting===!1||Ze.hasDepthSensing()===!1,et&&je.addToRenderList(D,G),this.info.render.frame++,_e===!0&&ee.beginShadows();const Te=R.state.shadowsArray;Ae.render(Te,G,ge),_e===!0&&ee.endShadows(),this.info.autoReset===!0&&this.info.reset();const ve=D.opaque,me=D.transmissive;if(R.setupLights(),ge.isArrayCamera){const it=ge.cameras;if(me.length>0)for(let lt=0,yt=it.length;lt<yt;lt++){const ht=it[lt];Nn(ve,me,G,ht)}et&&je.render(G);for(let lt=0,yt=it.length;lt<yt;lt++){const ht=it[lt];Zt(D,G,ht,ht.viewport)}}else me.length>0&&Nn(ve,me,G,ge),et&&je.render(G),Zt(D,G,ge);B!==null&&P===0&&(ct.updateMultisampleRenderTarget(B),ct.updateRenderTargetMipmap(B)),G.isScene===!0&&G.onAfterRender(U,G,ge),ne.resetDefaultState(),H=-1,Q=null,z.pop(),z.length>0?(R=z[z.length-1],_e===!0&&ee.setGlobalState(U.clippingPlanes,R.state.camera)):R=null,L.pop(),L.length>0?D=L[L.length-1]:D=null};function li(G,ge,Te,ve){if(G.visible===!1)return;if(G.layers.test(ge.layers)){if(G.isGroup)Te=G.renderOrder;else if(G.isLOD)G.autoUpdate===!0&&G.update(ge);else if(G.isLight)R.pushLight(G),G.castShadow&&R.pushShadow(G);else if(G.isSprite){if(!G.frustumCulled||pe.intersectsSprite(G)){ve&&vt.setFromMatrixPosition(G.matrixWorld).applyMatrix4(tt);const lt=Be.update(G),yt=G.material;yt.visible&&D.push(G,lt,yt,Te,vt.z,null)}}else if((G.isMesh||G.isLine||G.isPoints)&&(!G.frustumCulled||pe.intersectsObject(G))){const lt=Be.update(G),yt=G.material;if(ve&&(G.boundingSphere!==void 0?(G.boundingSphere===null&&G.computeBoundingSphere(),vt.copy(G.boundingSphere.center)):(lt.boundingSphere===null&&lt.computeBoundingSphere(),vt.copy(lt.boundingSphere.center)),vt.applyMatrix4(G.matrixWorld).applyMatrix4(tt)),Array.isArray(yt)){const ht=lt.groups;for(let Pt=0,jt=ht.length;Pt<jt;Pt++){const At=ht[Pt],on=yt[At.materialIndex];on&&on.visible&&D.push(G,lt,on,Te,vt.z,At)}}else yt.visible&&D.push(G,lt,yt,Te,vt.z,null)}}const it=G.children;for(let lt=0,yt=it.length;lt<yt;lt++)li(it[lt],ge,Te,ve)}function Zt(G,ge,Te,ve){const{opaque:me,transmissive:it,transparent:lt}=G;R.setupLightsView(Te),_e===!0&&ee.setGlobalState(U.clippingPlanes,Te),ve&&Xe.viewport(ie.copy(ve)),me.length>0&&jn(me,ge,Te),it.length>0&&jn(it,ge,Te),lt.length>0&&jn(lt,ge,Te),Xe.buffers.depth.setTest(!0),Xe.buffers.depth.setMask(!0),Xe.buffers.color.setMask(!0),Xe.setPolygonOffset(!1)}function Nn(G,ge,Te,ve){if((Te.isScene===!0?Te.overrideMaterial:null)!==null)return;R.state.transmissionRenderTarget[ve.id]===void 0&&(R.state.transmissionRenderTarget[ve.id]=new Mc(1,1,{generateMipmaps:!0,type:re.has("EXT_color_buffer_half_float")||re.has("EXT_color_buffer_float")?Fh:qo,minFilter:pc,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Gn.workingColorSpace}));const it=R.state.transmissionRenderTarget[ve.id],lt=ve.viewport||ie;it.setSize(lt.z*U.transmissionResolutionScale,lt.w*U.transmissionResolutionScale);const yt=U.getRenderTarget(),ht=U.getActiveCubeFace(),Pt=U.getActiveMipmapLevel();U.setRenderTarget(it),U.getClearColor(V),X=U.getClearAlpha(),X<1&&U.setClearColor(16777215,.5),U.clear(),et&&je.render(Te);const jt=U.toneMapping;U.toneMapping=bc;const At=ve.viewport;if(ve.viewport!==void 0&&(ve.viewport=void 0),R.setupLightsView(ve),_e===!0&&ee.setGlobalState(U.clippingPlanes,ve),jn(G,Te,ve),ct.updateMultisampleRenderTarget(it),ct.updateRenderTargetMipmap(it),re.has("WEBGL_multisampled_render_to_texture")===!1){let on=!1;for(let On=0,Un=ge.length;On<Un;On++){const Mn=ge[On],{object:Kn,geometry:kt,material:si,group:Tn}=Mn;if(si.side===dc&&Kn.layers.test(ve.layers)){const Yi=si.side;si.side=fr,si.needsUpdate=!0,Ct(Kn,Te,ve,kt,si,Tn),si.side=Yi,si.needsUpdate=!0,on=!0}}on===!0&&(ct.updateMultisampleRenderTarget(it),ct.updateRenderTargetMipmap(it))}U.setRenderTarget(yt,ht,Pt),U.setClearColor(V,X),At!==void 0&&(ve.viewport=At),U.toneMapping=jt}function jn(G,ge,Te){const ve=ge.isScene===!0?ge.overrideMaterial:null;for(let me=0,it=G.length;me<it;me++){const lt=G[me],{object:yt,geometry:ht,group:Pt}=lt;let jt=lt.material;jt.allowOverride===!0&&ve!==null&&(jt=ve),yt.layers.test(Te.layers)&&Ct(yt,ge,Te,ht,jt,Pt)}}function Ct(G,ge,Te,ve,me,it){G.onBeforeRender(U,ge,Te,ve,me,it),G.modelViewMatrix.multiplyMatrices(Te.matrixWorldInverse,G.matrixWorld),G.normalMatrix.getNormalMatrix(G.modelViewMatrix),me.onBeforeRender(U,ge,Te,ve,G,it),me.transparent===!0&&me.side===dc&&me.forceSinglePass===!1?(me.side=fr,me.needsUpdate=!0,U.renderBufferDirect(Te,ge,ve,me,G,it),me.side=yu,me.needsUpdate=!0,U.renderBufferDirect(Te,ge,ve,me,G,it),me.side=dc):U.renderBufferDirect(Te,ge,ve,me,G,it),G.onAfterRender(U,ge,Te,ve,me,it)}function tn(G,ge,Te){ge.isScene!==!0&&(ge=Gt);const ve=Ye.get(G),me=R.state.lights,it=R.state.shadowsArray,lt=me.state.version,yt=Re.getParameters(G,me.state,it,ge,Te),ht=Re.getProgramCacheKey(yt);let Pt=ve.programs;ve.environment=G.isMeshStandardMaterial?ge.environment:null,ve.fog=ge.fog,ve.envMap=(G.isMeshStandardMaterial?k:$).get(G.envMap||ve.environment),ve.envMapRotation=ve.environment!==null&&G.envMap===null?ge.environmentRotation:G.envMapRotation,Pt===void 0&&(G.addEventListener("dispose",zt),Pt=new Map,ve.programs=Pt);let jt=Pt.get(ht);if(jt!==void 0){if(ve.currentProgram===jt&&ve.lightsStateVersion===lt)return ns(G,yt),jt}else yt.uniforms=Re.getUniforms(G),G.onBeforeCompile(yt,U),jt=Re.acquireProgram(yt,ht),Pt.set(ht,jt),ve.uniforms=yt.uniforms;const At=ve.uniforms;return(!G.isShaderMaterial&&!G.isRawShaderMaterial||G.clipping===!0)&&(At.clippingPlanes=ee.uniform),ns(G,yt),ve.needsLights=Ts(G),ve.lightsStateVersion=lt,ve.needsLights&&(At.ambientLightColor.value=me.state.ambient,At.lightProbe.value=me.state.probe,At.directionalLights.value=me.state.directional,At.directionalLightShadows.value=me.state.directionalShadow,At.spotLights.value=me.state.spot,At.spotLightShadows.value=me.state.spotShadow,At.rectAreaLights.value=me.state.rectArea,At.ltc_1.value=me.state.rectAreaLTC1,At.ltc_2.value=me.state.rectAreaLTC2,At.pointLights.value=me.state.point,At.pointLightShadows.value=me.state.pointShadow,At.hemisphereLights.value=me.state.hemi,At.directionalShadowMap.value=me.state.directionalShadowMap,At.directionalShadowMatrix.value=me.state.directionalShadowMatrix,At.spotShadowMap.value=me.state.spotShadowMap,At.spotLightMatrix.value=me.state.spotLightMatrix,At.spotLightMap.value=me.state.spotLightMap,At.pointShadowMap.value=me.state.pointShadowMap,At.pointShadowMatrix.value=me.state.pointShadowMatrix),ve.currentProgram=jt,ve.uniformsList=null,jt}function mn(G){if(G.uniformsList===null){const ge=G.currentProgram.getUniforms();G.uniformsList=Ib.seqWithValue(ge.seq,G.uniforms)}return G.uniformsList}function ns(G,ge){const Te=Ye.get(G);Te.outputColorSpace=ge.outputColorSpace,Te.batching=ge.batching,Te.batchingColor=ge.batchingColor,Te.instancing=ge.instancing,Te.instancingColor=ge.instancingColor,Te.instancingMorph=ge.instancingMorph,Te.skinning=ge.skinning,Te.morphTargets=ge.morphTargets,Te.morphNormals=ge.morphNormals,Te.morphColors=ge.morphColors,Te.morphTargetsCount=ge.morphTargetsCount,Te.numClippingPlanes=ge.numClippingPlanes,Te.numIntersection=ge.numClipIntersection,Te.vertexAlphas=ge.vertexAlphas,Te.vertexTangents=ge.vertexTangents,Te.toneMapping=ge.toneMapping}function ii(G,ge,Te,ve,me){ge.isScene!==!0&&(ge=Gt),ct.resetTextureUnits();const it=ge.fog,lt=ve.isMeshStandardMaterial?ge.environment:null,yt=B===null?U.outputColorSpace:B.isXRRenderTarget===!0?B.texture.colorSpace:zf,ht=(ve.isMeshStandardMaterial?k:$).get(ve.envMap||lt),Pt=ve.vertexColors===!0&&!!Te.attributes.color&&Te.attributes.color.itemSize===4,jt=!!Te.attributes.tangent&&(!!ve.normalMap||ve.anisotropy>0),At=!!Te.morphAttributes.position,on=!!Te.morphAttributes.normal,On=!!Te.morphAttributes.color;let Un=bc;ve.toneMapped&&(B===null||B.isXRRenderTarget===!0)&&(Un=U.toneMapping);const Mn=Te.morphAttributes.position||Te.morphAttributes.normal||Te.morphAttributes.color,Kn=Mn!==void 0?Mn.length:0,kt=Ye.get(ve),si=R.state.lights;if(_e===!0&&(We===!0||G!==Q)){const as=G===Q&&ve.id===H;ee.setState(ve,G,as)}let Tn=!1;ve.version===kt.__version?(kt.needsLights&&kt.lightsStateVersion!==si.state.version||kt.outputColorSpace!==yt||me.isBatchedMesh&&kt.batching===!1||!me.isBatchedMesh&&kt.batching===!0||me.isBatchedMesh&&kt.batchingColor===!0&&me.colorTexture===null||me.isBatchedMesh&&kt.batchingColor===!1&&me.colorTexture!==null||me.isInstancedMesh&&kt.instancing===!1||!me.isInstancedMesh&&kt.instancing===!0||me.isSkinnedMesh&&kt.skinning===!1||!me.isSkinnedMesh&&kt.skinning===!0||me.isInstancedMesh&&kt.instancingColor===!0&&me.instanceColor===null||me.isInstancedMesh&&kt.instancingColor===!1&&me.instanceColor!==null||me.isInstancedMesh&&kt.instancingMorph===!0&&me.morphTexture===null||me.isInstancedMesh&&kt.instancingMorph===!1&&me.morphTexture!==null||kt.envMap!==ht||ve.fog===!0&&kt.fog!==it||kt.numClippingPlanes!==void 0&&(kt.numClippingPlanes!==ee.numPlanes||kt.numIntersection!==ee.numIntersection)||kt.vertexAlphas!==Pt||kt.vertexTangents!==jt||kt.morphTargets!==At||kt.morphNormals!==on||kt.morphColors!==On||kt.toneMapping!==Un||kt.morphTargetsCount!==Kn)&&(Tn=!0):(Tn=!0,kt.__version=ve.version);let Yi=kt.currentProgram;Tn===!0&&(Yi=tn(ve,ge,me));let Yo=!1,ui=!1,mo=!1;const fi=Yi.getUniforms(),is=kt.uniforms;if(Xe.useProgram(Yi.program)&&(Yo=!0,ui=!0,mo=!0),ve.id!==H&&(H=ve.id,ui=!0),Yo||Q!==G){Xe.buffers.depth.getReversed()&&G.reversedDepth!==!0&&(G._reversedDepth=!0,G.updateProjectionMatrix()),fi.setValue(J,"projectionMatrix",G.projectionMatrix),fi.setValue(J,"viewMatrix",G.matrixWorldInverse);const Ni=fi.map.cameraPosition;Ni!==void 0&&Ni.setValue(J,pt.setFromMatrixPosition(G.matrixWorld)),Qe.logarithmicDepthBuffer&&fi.setValue(J,"logDepthBufFC",2/(Math.log(G.far+1)/Math.LN2)),(ve.isMeshPhongMaterial||ve.isMeshToonMaterial||ve.isMeshLambertMaterial||ve.isMeshBasicMaterial||ve.isMeshStandardMaterial||ve.isShaderMaterial)&&fi.setValue(J,"isOrthographic",G.isOrthographicCamera===!0),Q!==G&&(Q=G,ui=!0,mo=!0)}if(me.isSkinnedMesh){fi.setOptional(J,me,"bindMatrix"),fi.setOptional(J,me,"bindMatrixInverse");const as=me.skeleton;as&&(as.boneTexture===null&&as.computeBoneTexture(),fi.setValue(J,"boneTexture",as.boneTexture,ct))}me.isBatchedMesh&&(fi.setOptional(J,me,"batchingTexture"),fi.setValue(J,"batchingTexture",me._matricesTexture,ct),fi.setOptional(J,me,"batchingIdTexture"),fi.setValue(J,"batchingIdTexture",me._indirectTexture,ct),fi.setOptional(J,me,"batchingColorTexture"),me._colorsTexture!==null&&fi.setValue(J,"batchingColorTexture",me._colorsTexture,ct));const ss=Te.morphAttributes;if((ss.position!==void 0||ss.normal!==void 0||ss.color!==void 0)&&mt.update(me,Te,Yi),(ui||kt.receiveShadow!==me.receiveShadow)&&(kt.receiveShadow=me.receiveShadow,fi.setValue(J,"receiveShadow",me.receiveShadow)),ve.isMeshGouraudMaterial&&ve.envMap!==null&&(is.envMap.value=ht,is.flipEnvMap.value=ht.isCubeTexture&&ht.isRenderTargetTexture===!1?-1:1),ve.isMeshStandardMaterial&&ve.envMap===null&&ge.environment!==null&&(is.envMapIntensity.value=ge.environmentIntensity),is.dfgLUT!==void 0&&(is.dfgLUT.value=XW()),ui&&(fi.setValue(J,"toneMappingExposure",U.toneMappingExposure),kt.needsLights&&Ms(is,mo),it&&ve.fog===!0&&ft.refreshFogUniforms(is,it),ft.refreshMaterialUniforms(is,ve,Y,ce,R.state.transmissionRenderTarget[G.id]),Ib.upload(J,mn(kt),is,ct)),ve.isShaderMaterial&&ve.uniformsNeedUpdate===!0&&(Ib.upload(J,mn(kt),is,ct),ve.uniformsNeedUpdate=!1),ve.isSpriteMaterial&&fi.setValue(J,"center",me.center),fi.setValue(J,"modelViewMatrix",me.modelViewMatrix),fi.setValue(J,"normalMatrix",me.normalMatrix),fi.setValue(J,"modelMatrix",me.matrixWorld),ve.isShaderMaterial||ve.isRawShaderMaterial){const as=ve.uniformsGroups;for(let Ni=0,Fr=as.length;Ni<Fr;Ni++){const hr=as[Ni];st.update(hr,Yi),st.bind(hr,Yi)}}return Yi}function Ms(G,ge){G.ambientLightColor.needsUpdate=ge,G.lightProbe.needsUpdate=ge,G.directionalLights.needsUpdate=ge,G.directionalLightShadows.needsUpdate=ge,G.pointLights.needsUpdate=ge,G.pointLightShadows.needsUpdate=ge,G.spotLights.needsUpdate=ge,G.spotLightShadows.needsUpdate=ge,G.rectAreaLights.needsUpdate=ge,G.hemisphereLights.needsUpdate=ge}function Ts(G){return G.isMeshLambertMaterial||G.isMeshToonMaterial||G.isMeshPhongMaterial||G.isMeshStandardMaterial||G.isShadowMaterial||G.isShaderMaterial&&G.lights===!0}this.getActiveCubeFace=function(){return F},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return B},this.setRenderTargetTextures=function(G,ge,Te){const ve=Ye.get(G);ve.__autoAllocateDepthBuffer=G.resolveDepthBuffer===!1,ve.__autoAllocateDepthBuffer===!1&&(ve.__useRenderToTexture=!1),Ye.get(G.texture).__webglTexture=ge,Ye.get(G.depthTexture).__webglTexture=ve.__autoAllocateDepthBuffer?void 0:Te,ve.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(G,ge){const Te=Ye.get(G);Te.__webglFramebuffer=ge,Te.__useDefaultFramebuffer=ge===void 0};const ci=J.createFramebuffer();this.setRenderTarget=function(G,ge=0,Te=0){B=G,F=ge,P=Te;let ve=!0,me=null,it=!1,lt=!1;if(G){const ht=Ye.get(G);if(ht.__useDefaultFramebuffer!==void 0)Xe.bindFramebuffer(J.FRAMEBUFFER,null),ve=!1;else if(ht.__webglFramebuffer===void 0)ct.setupRenderTarget(G);else if(ht.__hasExternalTextures)ct.rebindTextures(G,Ye.get(G.texture).__webglTexture,Ye.get(G.depthTexture).__webglTexture);else if(G.depthBuffer){const At=G.depthTexture;if(ht.__boundDepthTexture!==At){if(At!==null&&Ye.has(At)&&(G.width!==At.image.width||G.height!==At.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ct.setupDepthRenderbuffer(G)}}const Pt=G.texture;(Pt.isData3DTexture||Pt.isDataArrayTexture||Pt.isCompressedArrayTexture)&&(lt=!0);const jt=Ye.get(G).__webglFramebuffer;G.isWebGLCubeRenderTarget?(Array.isArray(jt[ge])?me=jt[ge][Te]:me=jt[ge],it=!0):G.samples>0&&ct.useMultisampledRTT(G)===!1?me=Ye.get(G).__webglMultisampledFramebuffer:Array.isArray(jt)?me=jt[Te]:me=jt,ie.copy(G.viewport),ue.copy(G.scissor),fe=G.scissorTest}else ie.copy(he).multiplyScalar(Y).floor(),ue.copy(ye).multiplyScalar(Y).floor(),fe=Pe;if(Te!==0&&(me=ci),Xe.bindFramebuffer(J.FRAMEBUFFER,me)&&ve&&Xe.drawBuffers(G,me),Xe.viewport(ie),Xe.scissor(ue),Xe.setScissorTest(fe),it){const ht=Ye.get(G.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_CUBE_MAP_POSITIVE_X+ge,ht.__webglTexture,Te)}else if(lt){const ht=ge;for(let Pt=0;Pt<G.textures.length;Pt++){const jt=Ye.get(G.textures[Pt]);J.framebufferTextureLayer(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0+Pt,jt.__webglTexture,Te,ht)}}else if(G!==null&&Te!==0){const ht=Ye.get(G.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,ht.__webglTexture,Te)}H=-1},this.readRenderTargetPixels=function(G,ge,Te,ve,me,it,lt,yt=0){if(!(G&&G.isWebGLRenderTarget)){an("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ht=Ye.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&lt!==void 0&&(ht=ht[lt]),ht){Xe.bindFramebuffer(J.FRAMEBUFFER,ht);try{const Pt=G.textures[yt],jt=Pt.format,At=Pt.type;if(!Qe.textureFormatReadable(jt)){an("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Qe.textureTypeReadable(At)){an("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ge>=0&&ge<=G.width-ve&&Te>=0&&Te<=G.height-me&&(G.textures.length>1&&J.readBuffer(J.COLOR_ATTACHMENT0+yt),J.readPixels(ge,Te,ve,me,Dt.convert(jt),Dt.convert(At),it))}finally{const Pt=B!==null?Ye.get(B).__webglFramebuffer:null;Xe.bindFramebuffer(J.FRAMEBUFFER,Pt)}}},this.readRenderTargetPixelsAsync=async function(G,ge,Te,ve,me,it,lt,yt=0){if(!(G&&G.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ht=Ye.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&lt!==void 0&&(ht=ht[lt]),ht)if(ge>=0&&ge<=G.width-ve&&Te>=0&&Te<=G.height-me){Xe.bindFramebuffer(J.FRAMEBUFFER,ht);const Pt=G.textures[yt],jt=Pt.format,At=Pt.type;if(!Qe.textureFormatReadable(jt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Qe.textureTypeReadable(At))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const on=J.createBuffer();J.bindBuffer(J.PIXEL_PACK_BUFFER,on),J.bufferData(J.PIXEL_PACK_BUFFER,it.byteLength,J.STREAM_READ),G.textures.length>1&&J.readBuffer(J.COLOR_ATTACHMENT0+yt),J.readPixels(ge,Te,ve,me,Dt.convert(jt),Dt.convert(At),0);const On=B!==null?Ye.get(B).__webglFramebuffer:null;Xe.bindFramebuffer(J.FRAMEBUFFER,On);const Un=J.fenceSync(J.SYNC_GPU_COMMANDS_COMPLETE,0);return J.flush(),await cF(J,Un,4),J.bindBuffer(J.PIXEL_PACK_BUFFER,on),J.getBufferSubData(J.PIXEL_PACK_BUFFER,0,it),J.deleteBuffer(on),J.deleteSync(Un),it}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(G,ge=null,Te=0){const ve=Math.pow(2,-Te),me=Math.floor(G.image.width*ve),it=Math.floor(G.image.height*ve),lt=ge!==null?ge.x:0,yt=ge!==null?ge.y:0;ct.setTexture2D(G,0),J.copyTexSubImage2D(J.TEXTURE_2D,Te,0,0,lt,yt,me,it),Xe.unbindTexture()};const yi=J.createFramebuffer(),_n=J.createFramebuffer();this.copyTextureToTexture=function(G,ge,Te=null,ve=null,me=0,it=null){it===null&&(me!==0?(Jm("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),it=me,me=0):it=0);let lt,yt,ht,Pt,jt,At,on,On,Un;const Mn=G.isCompressedTexture?G.mipmaps[it]:G.image;if(Te!==null)lt=Te.max.x-Te.min.x,yt=Te.max.y-Te.min.y,ht=Te.isBox3?Te.max.z-Te.min.z:1,Pt=Te.min.x,jt=Te.min.y,At=Te.isBox3?Te.min.z:0;else{const ss=Math.pow(2,-me);lt=Math.floor(Mn.width*ss),yt=Math.floor(Mn.height*ss),G.isDataArrayTexture?ht=Mn.depth:G.isData3DTexture?ht=Math.floor(Mn.depth*ss):ht=1,Pt=0,jt=0,At=0}ve!==null?(on=ve.x,On=ve.y,Un=ve.z):(on=0,On=0,Un=0);const Kn=Dt.convert(ge.format),kt=Dt.convert(ge.type);let si;ge.isData3DTexture?(ct.setTexture3D(ge,0),si=J.TEXTURE_3D):ge.isDataArrayTexture||ge.isCompressedArrayTexture?(ct.setTexture2DArray(ge,0),si=J.TEXTURE_2D_ARRAY):(ct.setTexture2D(ge,0),si=J.TEXTURE_2D),J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,ge.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ge.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,ge.unpackAlignment);const Tn=J.getParameter(J.UNPACK_ROW_LENGTH),Yi=J.getParameter(J.UNPACK_IMAGE_HEIGHT),Yo=J.getParameter(J.UNPACK_SKIP_PIXELS),ui=J.getParameter(J.UNPACK_SKIP_ROWS),mo=J.getParameter(J.UNPACK_SKIP_IMAGES);J.pixelStorei(J.UNPACK_ROW_LENGTH,Mn.width),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,Mn.height),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Pt),J.pixelStorei(J.UNPACK_SKIP_ROWS,jt),J.pixelStorei(J.UNPACK_SKIP_IMAGES,At);const fi=G.isDataArrayTexture||G.isData3DTexture,is=ge.isDataArrayTexture||ge.isData3DTexture;if(G.isDepthTexture){const ss=Ye.get(G),as=Ye.get(ge),Ni=Ye.get(ss.__renderTarget),Fr=Ye.get(as.__renderTarget);Xe.bindFramebuffer(J.READ_FRAMEBUFFER,Ni.__webglFramebuffer),Xe.bindFramebuffer(J.DRAW_FRAMEBUFFER,Fr.__webglFramebuffer);for(let hr=0;hr<ht;hr++)fi&&(J.framebufferTextureLayer(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,Ye.get(G).__webglTexture,me,At+hr),J.framebufferTextureLayer(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,Ye.get(ge).__webglTexture,it,Un+hr)),J.blitFramebuffer(Pt,jt,lt,yt,on,On,lt,yt,J.DEPTH_BUFFER_BIT,J.NEAREST);Xe.bindFramebuffer(J.READ_FRAMEBUFFER,null),Xe.bindFramebuffer(J.DRAW_FRAMEBUFFER,null)}else if(me!==0||G.isRenderTargetTexture||Ye.has(G)){const ss=Ye.get(G),as=Ye.get(ge);Xe.bindFramebuffer(J.READ_FRAMEBUFFER,yi),Xe.bindFramebuffer(J.DRAW_FRAMEBUFFER,_n);for(let Ni=0;Ni<ht;Ni++)fi?J.framebufferTextureLayer(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,ss.__webglTexture,me,At+Ni):J.framebufferTexture2D(J.READ_FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,ss.__webglTexture,me),is?J.framebufferTextureLayer(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,as.__webglTexture,it,Un+Ni):J.framebufferTexture2D(J.DRAW_FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,as.__webglTexture,it),me!==0?J.blitFramebuffer(Pt,jt,lt,yt,on,On,lt,yt,J.COLOR_BUFFER_BIT,J.NEAREST):is?J.copyTexSubImage3D(si,it,on,On,Un+Ni,Pt,jt,lt,yt):J.copyTexSubImage2D(si,it,on,On,Pt,jt,lt,yt);Xe.bindFramebuffer(J.READ_FRAMEBUFFER,null),Xe.bindFramebuffer(J.DRAW_FRAMEBUFFER,null)}else is?G.isDataTexture||G.isData3DTexture?J.texSubImage3D(si,it,on,On,Un,lt,yt,ht,Kn,kt,Mn.data):ge.isCompressedArrayTexture?J.compressedTexSubImage3D(si,it,on,On,Un,lt,yt,ht,Kn,Mn.data):J.texSubImage3D(si,it,on,On,Un,lt,yt,ht,Kn,kt,Mn):G.isDataTexture?J.texSubImage2D(J.TEXTURE_2D,it,on,On,lt,yt,Kn,kt,Mn.data):G.isCompressedTexture?J.compressedTexSubImage2D(J.TEXTURE_2D,it,on,On,Mn.width,Mn.height,Kn,Mn.data):J.texSubImage2D(J.TEXTURE_2D,it,on,On,lt,yt,Kn,kt,Mn);J.pixelStorei(J.UNPACK_ROW_LENGTH,Tn),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,Yi),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Yo),J.pixelStorei(J.UNPACK_SKIP_ROWS,ui),J.pixelStorei(J.UNPACK_SKIP_IMAGES,mo),it===0&&ge.generateMipmaps&&J.generateMipmap(si),Xe.unbindTexture()},this.initRenderTarget=function(G){Ye.get(G).__webglFramebuffer===void 0&&ct.setupRenderTarget(G)},this.initTexture=function(G){G.isCubeTexture?ct.setTextureCube(G,0):G.isData3DTexture?ct.setTexture3D(G,0):G.isDataArrayTexture||G.isCompressedArrayTexture?ct.setTexture2DArray(G,0):ct.setTexture2D(G,0),Xe.unbindTexture()},this.resetState=function(){F=0,P=0,B=null,Xe.reset(),ne.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ro}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Gn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Gn._getUnpackColorSpace()}}const qW=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Pw,AddEquation:_f,AddOperation:zL,AdditiveAnimationBlendMode:Gw,AdditiveBlending:n1,AgXToneMapping:FL,AlphaFormat:kw,AlwaysCompare:tO,AlwaysDepth:r1,AlwaysStencilFunc:cT,AmbientLight:ZO,AnimationAction:sU,AnimationClip:yv,AnimationLoader:$V,AnimationMixer:Ck,AnimationObjectGroup:Ek,AnimationUtils:ZV,ArcCurve:_O,ArrayCamera:tU,ArrowHelper:$k,AttachedBindMode:lT,Audio:nU,AudioAnalyser:xk,AudioContext:mE,AudioListener:hk,AudioLoader:uk,AxesHelper:eH,BackSide:fr,BasicDepthPacking:qL,BasicShadowMap:mL,BatchedMesh:mO,Bone:Jw,BooleanKeyframeTrack:kh,Box2:Bk,Box3:Ua,Box3Helper:Qk,BoxGeometry:Vh,BoxHelper:Kk,BufferAttribute:vi,BufferGeometry:dn,BufferGeometryLoader:eU,ByteType:Iw,Cache:mc,Camera:CS,CameraHelper:Zk,CanvasTexture:vV,CapsuleGeometry:PS,CatmullRomCurve3:bO,CineonToneMapping:IL,CircleGeometry:BS,ClampToEdgeWrapping:Nr,Clock:xE,Color:Tt,ColorKeyframeTrack:dE,ColorManagement:Gn,CompressedArrayTexture:xV,CompressedCubeTexture:gV,CompressedTexture:zS,CompressedTextureLoader:ek,ConeGeometry:Gv,ConstantAlphaFactor:LL,ConstantColorFactor:RL,Controls:nH,CubeCamera:lO,CubeReflectionMapping:_u,CubeRefractionMapping:Uf,CubeTexture:kv,CubeTextureLoader:tk,CubeUVReflectionMapping:v0,CubicBezierCurve:nE,CubicBezierCurve3:SO,CubicInterpolant:VO,CullFaceBack:aT,CullFaceFront:pL,CullFaceFrontBack:T7,CullFaceNone:hL,Curve:Cl,CurvePath:TO,CustomBlending:xL,CustomToneMapping:jL,CylinderGeometry:Hv,Cylindrical:Pk,Data3DTexture:AS,DataArrayTexture:ES,DataTexture:El,DataTextureLoader:nk,DataUtils:VF,DecrementStencilOp:I7,DecrementWrapStencilOp:F7,DefaultLoadingManager:GO,DepthFormat:Zm,DepthStencilFormat:Km,DepthTexture:$w,DetachedBindMode:kL,DirectionalLight:YO,DirectionalLightHelper:Yk,DiscreteInterpolant:kO,DodecahedronGeometry:IS,DoubleSide:dc,DstAlphaFactor:wL,DstColorFactor:AL,DynamicCopyUsage:eF,DynamicDrawUsage:_h,DynamicReadUsage:Q7,EdgesGeometry:yO,EllipseCurve:jS,EqualCompare:QL,EqualDepth:l1,EqualStencilFunc:G7,EquirectangularReflectionMapping:sv,EquirectangularRefractionMapping:av,Euler:uo,EventDispatcher:wc,ExternalTexture:eE,ExtrudeGeometry:FS,FileLoader:Su,Float16BufferAttribute:YF,Float32BufferAttribute:Ot,FloatType:Rr,Fog:RS,FogExp2:NS,FramebufferTexture:mV,FrontSide:yu,Frustum:_0,FrustumArray:OS,GLBufferAttribute:Ok,GLSL1:nF,GLSL3:uT,GreaterCompare:JL,GreaterDepth:u1,GreaterEqualCompare:eO,GreaterEqualDepth:c1,GreaterEqualStencilFunc:Y7,GreaterStencilFunc:q7,GridHelper:qk,Group:Lm,HalfFloatType:Fh,HemisphereLight:XO,HemisphereLightHelper:Xk,IcosahedronGeometry:VS,ImageBitmapLoader:ck,ImageLoader:_v,ImageUtils:sO,IncrementStencilOp:B7,IncrementWrapStencilOp:j7,InstancedBufferAttribute:n0,InstancedBufferGeometry:$O,InstancedInterleavedBuffer:Lk,InstancedMesh:pO,Int16BufferAttribute:qF,Int32BufferAttribute:WF,Int8BufferAttribute:HF,IntType:vS,InterleavedBuffer:DS,InterleavedBufferAttribute:Lh,Interpolant:Wv,InterpolateDiscrete:lv,InterpolateLinear:F1,InterpolateSmooth:Pb,InterpolationSamplingMode:aF,InterpolationSamplingType:sF,InvertStencilOp:V7,KeepStencilOp:ih,KeyframeTrack:Wo,LOD:dO,LatheGeometry:kS,Layers:e0,LessCompare:KL,LessDepth:o1,LessEqualCompare:Xw,LessEqualDepth:Dh,LessEqualStencilFunc:X7,LessStencilFunc:H7,Light:Xf,LightProbe:JO,Line:Bf,Line3:Fk,LineBasicMaterial:dr,LineCurve:iE,LineCurve3:MO,LineDashedMaterial:IO,LineLoop:xO,LineSegments:Ec,LinearFilter:fs,LinearInterpolant:fE,LinearMipMapLinearFilter:C7,LinearMipMapNearestFilter:A7,LinearMipmapLinearFilter:pc,LinearMipmapNearestFilter:Dg,LinearSRGBColorSpace:zf,LinearToneMapping:PL,LinearTransfer:uv,Loader:jr,LoaderUtils:mT,LoadingManager:hE,LoopOnce:HL,LoopPingPong:XL,LoopRepeat:GL,MOUSE:S7,Material:Pa,MaterialLoader:ZS,MathUtils:EF,Matrix2:_E,Matrix3:fn,Matrix4:$t,MaxEquation:_L,Mesh:zs,MeshBasicMaterial:Hf,MeshDepthMaterial:lE,MeshDistanceMaterial:cE,MeshLambertMaterial:PO,MeshMatcapMaterial:BO,MeshNormalMaterial:zO,MeshPhongMaterial:OO,MeshPhysicalMaterial:LO,MeshStandardMaterial:oE,MeshToonMaterial:UO,MinEquation:yL,MirroredRepeatWrapping:ov,MixOperation:UL,MultiplyBlending:oT,MultiplyOperation:Fv,NearestFilter:la,NearestMipMapLinearFilter:E7,NearestMipMapNearestFilter:w7,NearestMipmapLinearFilter:Rm,NearestMipmapNearestFilter:Bw,NeutralToneMapping:VL,NeverCompare:ZL,NeverDepth:a1,NeverStencilFunc:k7,NoBlending:_c,NoColorSpace:fu,NoToneMapping:bc,NormalAnimationBlendMode:wS,NormalBlending:yh,NotEqualCompare:$L,NotEqualDepth:f1,NotEqualStencilFunc:W7,NumberKeyframeTrack:gv,Object3D:Zn,ObjectLoader:ok,ObjectSpaceNormalMap:YL,OctahedronGeometry:Xv,OneFactor:SL,OneMinusConstantAlphaFactor:OL,OneMinusConstantColorFactor:DL,OneMinusDstAlphaFactor:EL,OneMinusDstColorFactor:CL,OneMinusSrcAlphaFactor:s1,OneMinusSrcColorFactor:TL,OrthographicCamera:Zv,PCFShadowMap:xS,PCFSoftShadowMap:Rg,PMREMGenerator:vT,Path:G1,PerspectiveCamera:Ks,Plane:yf,PlaneGeometry:b0,PlaneHelper:Jk,PointLight:WO,PointLightHelper:Hk,Points:gO,PointsMaterial:US,PolarGridHelper:Wk,PolyhedronGeometry:Gf,PositionalAudio:mk,PropertyBinding:Wn,PropertyMixer:iU,QuadraticBezierCurve:sE,QuadraticBezierCurve3:aE,Quaternion:Or,QuaternionKeyframeTrack:Yv,QuaternionLinearInterpolant:HO,RED_GREEN_RGTC2_Format:I1,RED_RGTC1_Format:P1,REVISION:jv,RGBADepthPacking:WL,RGBAFormat:Oa,RGBAIntegerFormat:TS,RGBA_ASTC_10x10_Format:R1,RGBA_ASTC_10x5_Format:A1,RGBA_ASTC_10x6_Format:C1,RGBA_ASTC_10x8_Format:N1,RGBA_ASTC_12x10_Format:D1,RGBA_ASTC_12x12_Format:L1,RGBA_ASTC_4x4_Format:y1,RGBA_ASTC_5x4_Format:_1,RGBA_ASTC_5x5_Format:b1,RGBA_ASTC_6x5_Format:S1,RGBA_ASTC_6x6_Format:M1,RGBA_ASTC_8x5_Format:T1,RGBA_ASTC_8x6_Format:w1,RGBA_ASTC_8x8_Format:E1,RGBA_BPTC_Format:O1,RGBA_ETC2_EAC_Format:v1,RGBA_PVRTC_2BPPV1_Format:m1,RGBA_PVRTC_4BPPV1_Format:p1,RGBA_S3TC_DXT1_Format:Og,RGBA_S3TC_DXT3_Format:Ug,RGBA_S3TC_DXT5_Format:zg,RGBDepthPacking:O7,RGBFormat:Hw,RGBIntegerFormat:N7,RGB_BPTC_SIGNED_Format:U1,RGB_BPTC_UNSIGNED_Format:z1,RGB_ETC1_Format:x1,RGB_ETC2_Format:g1,RGB_PVRTC_2BPPV1_Format:h1,RGB_PVRTC_4BPPV1_Format:d1,RGB_S3TC_DXT1_Format:Lg,RGDepthPacking:U7,RGFormat:SS,RGIntegerFormat:MS,RawShaderMaterial:DO,Ray:y0,Raycaster:aU,RectAreaLight:KO,RedFormat:bS,RedIntegerFormat:Vv,ReinhardToneMapping:BL,RenderTarget:Ww,RenderTarget3D:Nk,RepeatWrapping:rv,ReplaceStencilOp:P7,ReverseSubtractEquation:vL,RingGeometry:HS,SIGNED_RED_GREEN_RGTC2_Format:j1,SIGNED_RED_RGTC1_Format:B1,SRGBColorSpace:Ca,SRGBTransfer:hi,Scene:Kw,ShaderChunk:vn,ShaderLib:Tl,ShaderMaterial:fo,ShadowMaterial:RO,Shape:Sh,ShapeGeometry:GS,ShapePath:tH,ShapeUtils:wl,ShortType:jw,Skeleton:LS,SkeletonHelper:kk,SkinnedMesh:hO,Source:Sf,Sphere:ca,SphereGeometry:qv,Spherical:rU,SphericalHarmonics3:QO,SplineCurve:rE,SpotLight:qO,SpotLightHelper:Vk,Sprite:fO,SpriteMaterial:Qw,SrcAlphaFactor:i1,SrcAlphaSaturateFactor:NL,SrcColorFactor:ML,StaticCopyUsage:$7,StaticDrawUsage:fv,StaticReadUsage:K7,StereoCamera:fk,StreamCopyUsage:tF,StreamDrawUsage:Z7,StreamReadUsage:J7,StringKeyframeTrack:Hh,SubtractEquation:gL,SubtractiveBlending:rT,TOUCH:M7,TangentSpaceNormalMap:kf,TetrahedronGeometry:XS,Texture:ts,TextureLoader:ik,TextureUtils:oH,Timer:Uk,TimestampQuery:iF,TorusGeometry:qS,TorusKnotGeometry:WS,Triangle:Ar,TriangleFanDrawMode:L7,TriangleStripDrawMode:D7,TrianglesDrawMode:R7,TubeGeometry:YS,UVMapping:gS,Uint16BufferAttribute:Yw,Uint32BufferAttribute:Zw,Uint8BufferAttribute:GF,Uint8ClampedBufferAttribute:XF,Uniform:yE,UniformsGroup:Dk,UniformsLib:bt,UniformsUtils:oO,UnsignedByteType:qo,UnsignedInt101111Type:Vw,UnsignedInt248Type:Ym,UnsignedInt5999Type:Fw,UnsignedIntType:bu,UnsignedShort4444Type:yS,UnsignedShort5551Type:_S,UnsignedShortType:Wm,VSMShadowMap:Ml,Vector2:Ke,Vector3:te,Vector4:Yn,VectorKeyframeTrack:vv,VideoFrameTexture:pV,VideoTexture:vO,WebGL3DRenderTarget:DF,WebGLArrayRenderTarget:RF,WebGLCoordinateSystem:ro,WebGLCubeRenderTarget:cO,WebGLRenderTarget:Mc,WebGLRenderer:pU,WebGLUtils:hU,WebGPUCoordinateSystem:Qm,WebXRController:Bb,WireframeGeometry:NO,WrapAroundEnding:cv,ZeroCurvatureEnding:fh,ZeroFactor:bL,ZeroSlopeEnding:dh,ZeroStencilOp:z7,createCanvasElement:iO,error:an,getConsoleFunction:lF,log:hv,setConsoleFunction:oF,warn:St,warnOnce:Jm},Symbol.toStringTag,{value:"Module"}));var $M={exports:{}},e3={},t3={exports:{}},n3={};var r4;function WW(){if(r4)return n3;r4=1;var i=d0();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var t=typeof Object.is=="function"?Object.is:e,n=i.useState,s=i.useEffect,r=i.useLayoutEffect,o=i.useDebugValue;function c(g,y){var b=y(),S=n({inst:{value:b,getSnapshot:y}}),E=S[0].inst,A=S[1];return r(function(){E.value=b,E.getSnapshot=y,d(E)&&A({inst:E})},[g,b,y]),s(function(){return d(E)&&A({inst:E}),g(function(){d(E)&&A({inst:E})})},[g]),o(b),b}function d(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!t(g,b)}catch{return!0}}function p(g,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return n3.useSyncExternalStore=i.useSyncExternalStore!==void 0?i.useSyncExternalStore:m,n3}var o4;function YW(){return o4||(o4=1,t3.exports=WW()),t3.exports}var l4;function ZW(){if(l4)return e3;l4=1;var i=d0(),e=YW();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:t,s=e.useSyncExternalStore,r=i.useRef,o=i.useEffect,c=i.useMemo,d=i.useDebugValue;return e3.useSyncExternalStoreWithSelector=function(p,m,g,y,b){var S=r(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=c(function(){function M(U){if(!D){if(D=!0,R=U,U=y(U),b!==void 0&&E.hasValue){var I=E.value;if(b(I,U))return L=I}return L=U}if(I=L,n(R,U))return I;var F=y(U);return b!==void 0&&b(I,F)?(R=U,I):(R=U,L=F)}var D=!1,R,L,z=g===void 0?null:g;return[function(){return M(m())},z===null?void 0:function(){return M(z())}]},[m,g,y,b]);var A=s(p,S[0],S[1]);return o(function(){E.hasValue=!0,E.value=A},[A]),d(A),A},e3}var c4;function KW(){return c4||(c4=1,$M.exports=ZW()),$M.exports}var QW=KW();const JW=QT(QW),u4=i=>{let e;const t=new Set,n=(p,m)=>{const g=typeof p=="function"?p(e):p;if(!Object.is(g,e)){const y=e;e=m??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(b=>b(e,y))}},s=()=>e,c={setState:n,getState:s,getInitialState:()=>d,subscribe:p=>(t.add(p),()=>t.delete(p))},d=e=i(n,s,c);return c},$W=(i=>i?u4(i):u4),{useSyncExternalStoreWithSelector:eY}=JW,tY=i=>i;function nY(i,e=tY,t){const n=eY(i.subscribe,i.getState,i.getInitialState,e,t);return u5.useDebugValue(n),n}const f4=(i,e)=>{const t=$W(i),n=(s,r=e)=>nY(t,s,r);return Object.assign(n,t),n},iY=((i,e)=>i?f4(i,e):f4);var i3={exports:{}},s3={exports:{}},a3={exports:{}},r3={};var d4;function sY(){return d4||(d4=1,(function(i){function e(V,X){var K=V.length;V.push(X);e:for(;0<K;){var ce=K-1>>>1,Y=V[ce];if(0<s(Y,X))V[ce]=X,V[K]=Y,K=ce;else break e}}function t(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var X=V[0],K=V.pop();if(K!==X){V[0]=K;e:for(var ce=0,Y=V.length,W=Y>>>1;ce<W;){var ae=2*(ce+1)-1,he=V[ae],ye=ae+1,Pe=V[ye];if(0>s(he,K))ye<Y&&0>s(Pe,he)?(V[ce]=Pe,V[ye]=K,ce=ye):(V[ce]=he,V[ae]=K,ce=ae);else if(ye<Y&&0>s(Pe,K))V[ce]=Pe,V[ye]=K,ce=ye;else break e}}return X}function s(V,X){var K=V.sortIndex-X.sortIndex;return K!==0?K:V.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();i.unstable_now=function(){return o.now()-c}}var d=[],p=[],m=1,g=null,y=3,b=!1,S=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function R(V){for(var X=t(p);X!==null;){if(X.callback===null)n(p);else if(X.startTime<=V)n(p),X.sortIndex=X.expirationTime,e(d,X);else break;X=t(p)}}function L(V){if(E=!1,R(V),!S)if(t(d)!==null)S=!0,ue();else{var X=t(p);X!==null&&fe(L,X.startTime-V)}}var z=!1,U=-1,I=5,F=-1;function P(){return!(i.unstable_now()-F<I)}function B(){if(z){var V=i.unstable_now();F=V;var X=!0;try{e:{S=!1,E&&(E=!1,M(U),U=-1),b=!0;var K=y;try{t:{for(R(V),g=t(d);g!==null&&!(g.expirationTime>V&&P());){var ce=g.callback;if(typeof ce=="function"){g.callback=null,y=g.priorityLevel;var Y=ce(g.expirationTime<=V);if(V=i.unstable_now(),typeof Y=="function"){g.callback=Y,R(V),X=!0;break t}g===t(d)&&n(d),R(V)}else n(d);g=t(d)}if(g!==null)X=!0;else{var W=t(p);W!==null&&fe(L,W.startTime-V),X=!1}}break e}finally{g=null,y=K,b=!1}X=void 0}}finally{X?H():z=!1}}}var H;if(typeof D=="function")H=function(){D(B)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ie=Q.port2;Q.port1.onmessage=B,H=function(){ie.postMessage(null)}}else H=function(){A(B,0)};function ue(){z||(z=!0,H())}function fe(V,X){U=A(function(){V(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_continueExecution=function(){S||b||(S=!0,ue())},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_getFirstCallbackNode=function(){return t(d)},i.unstable_next=function(V){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var K=y;y=X;try{return V()}finally{y=K}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=y;y=V;try{return X()}finally{y=K}},i.unstable_scheduleCallback=function(V,X,K){var ce=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ce+K:ce):K=ce,V){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=K+Y,V={id:m++,callback:X,priorityLevel:V,startTime:K,expirationTime:Y,sortIndex:-1},K>ce?(V.sortIndex=K,e(p,V),t(d)===null&&V===t(p)&&(E?(M(U),U=-1):E=!0,fe(L,K-ce))):(V.sortIndex=Y,e(d,V),S||b||(S=!0,ue())),V},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(V){var X=y;return function(){var K=y;y=X;try{return V.apply(this,arguments)}finally{y=K}}}})(r3)),r3}var h4;function aY(){return h4||(h4=1,a3.exports=sY()),a3.exports}var p4;function rY(){return p4||(p4=1,(function(i){i.exports=function(e){function t(u,f,v,w){return new Z0(u,f,v,w)}function n(){}function s(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(u){return u===null||typeof u!="object"?null:(u=nx&&u[nx]||u["@@iterator"],typeof u=="function"?u:null)}function o(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===Fc?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case Fu:return"Fragment";case Gr:return"Portal";case tx:return"Profiler";case ex:return"StrictMode";case xp:return"Suspense";case Wl:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case Mo:return(u.displayName||"Context")+".Provider";case ql:return(u._context.displayName||"Context")+".Consumer";case Vu:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case pd:return f=u.displayName||null,f!==null?f:o(u.type)||"Memo";case Xr:f=u._payload,u=u._init;try{return o(u(f))}catch{}}return null}function c(u){if(gp===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);gp=f&&f[1]||"",ix=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gp+u+ix}function d(u,f){if(!u||Yl)return"";Yl=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(f){var _t=function(){throw Error()};if(Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(sn){var Mt=sn}Reflect.construct(u,[],_t)}else{try{_t.call()}catch(sn){Mt=sn}u.call(_t.prototype)}}else{try{throw Error()}catch(sn){Mt=sn}(_t=u())&&typeof _t.catch=="function"&&_t.catch(function(){})}}catch(sn){if(sn&&Mt&&typeof sn.stack=="string")return[sn.stack,Mt.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=w.DetermineComponentFrameRoot(),Z=O[0],oe=O[1];if(Z&&oe){var Me=Z.split(`
`),ke=oe.split(`
`);for(N=w=0;w<Me.length&&!Me[w].includes("DetermineComponentFrameRoot");)w++;for(;N<ke.length&&!ke[N].includes("DetermineComponentFrameRoot");)N++;if(w===Me.length||N===ke.length)for(w=Me.length-1,N=ke.length-1;1<=w&&0<=N&&Me[w]!==ke[N];)N--;for(;1<=w&&0<=N;w--,N--)if(Me[w]!==ke[N]){if(w!==1||N!==1)do if(w--,N--,0>N||Me[w]!==ke[N]){var rt=`
`+Me[w].replace(" at new "," at ");return u.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",u.displayName)),rt}while(1<=w&&0<=N);break}}}finally{Yl=!1,Error.prepareStackTrace=v}return(v=u?u.displayName||u.name:"")?c(v):""}function p(u){switch(u.tag){case 26:case 27:case 5:return c(u.type);case 16:return c("Lazy");case 13:return c("Suspense");case 19:return c("SuspenseList");case 0:case 15:return u=d(u.type,!1),u;case 11:return u=d(u.type.render,!1),u;case 1:return u=d(u.type,!0),u;default:return""}}function m(u){try{var f="";do f+=p(u),u=u.return;while(u);return f}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function g(u){var f=u,v=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(v=f.return),u=f.return;while(u)}return f.tag===3?v:null}function y(u){if(g(u)!==u)throw Error(s(188))}function b(u){var f=u.alternate;if(!f){if(f=g(u),f===null)throw Error(s(188));return f!==u?null:u}for(var v=u,w=f;;){var N=v.return;if(N===null)break;var O=N.alternate;if(O===null){if(w=N.return,w!==null){v=w;continue}break}if(N.child===O.child){for(O=N.child;O;){if(O===v)return y(N),u;if(O===w)return y(N),f;O=O.sibling}throw Error(s(188))}if(v.return!==w.return)v=N,w=O;else{for(var Z=!1,oe=N.child;oe;){if(oe===v){Z=!0,v=N,w=O;break}if(oe===w){Z=!0,w=N,v=O;break}oe=oe.sibling}if(!Z){for(oe=O.child;oe;){if(oe===v){Z=!0,v=O,w=N;break}if(oe===w){Z=!0,w=O,v=N;break}oe=oe.sibling}if(!Z)throw Error(s(189))}}if(v.alternate!==w)throw Error(s(190))}if(v.tag!==3)throw Error(s(188));return v.stateNode.current===v?u:f}function S(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=S(u),f!==null)return f;u=u.sibling}return null}function E(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(u.tag!==4&&(f=E(u),f!==null))return f;u=u.sibling}return null}function A(u){return{current:u}}function M(u){0>ll||(u.current=Md[ll],Md[ll]=null,ll--)}function D(u,f){ll++,Md[ll]=u.current,u.current=f}function R(u){return u>>>=0,u===0?32:31-(Td(u)/Xy|0)|0}function L(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function z(u,f){var v=u.pendingLanes;if(v===0)return 0;var w=0,N=u.suspendedLanes,O=u.pingedLanes,Z=u.warmLanes;u=u.finishedLanes!==0;var oe=v&134217727;return oe!==0?(v=oe&~N,v!==0?w=L(v):(O&=oe,O!==0?w=L(O):u||(Z=oe&~Z,Z!==0&&(w=L(Z))))):(oe=v&~N,oe!==0?w=L(oe):O!==0?w=L(O):u||(Z=v&~Z,Z!==0&&(w=L(Z)))),w===0?0:f!==0&&f!==w&&(f&N)===0&&(N=w&-w,Z=f&-f,N>=Z||N===32&&(Z&4194176)!==0)?f:w}function U(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function I(u,f){switch(u){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var u=Xu;return Xu<<=1,(Xu&4194176)===0&&(Xu=128),u}function P(){var u=wd;return wd<<=1,(wd&62914560)===0&&(wd=4194304),u}function B(u){for(var f=[],v=0;31>v;v++)f.push(u);return f}function H(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Q(u,f,v,w,N,O){var Z=u.pendingLanes;u.pendingLanes=v,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=v,u.entangledLanes&=v,u.errorRecoveryDisabledLanes&=v,u.shellSuspendCounter=0;var oe=u.entanglements,Me=u.expirationTimes,ke=u.hiddenUpdates;for(v=Z&~v;0<v;){var rt=31-ma(v),_t=1<<rt;oe[rt]=0,Me[rt]=-1;var Mt=ke[rt];if(Mt!==null)for(ke[rt]=null,rt=0;rt<Mt.length;rt++){var sn=Mt[rt];sn!==null&&(sn.lane&=-536870913)}v&=~_t}w!==0&&ie(u,w,0),O!==0&&N===0&&u.tag!==0&&(u.suspendedLanes|=O&~(Z&~f))}function ie(u,f,v){u.pendingLanes|=f,u.suspendedLanes&=~f;var w=31-ma(f);u.entangledLanes|=f,u.entanglements[w]=u.entanglements[w]|1073741824|v&4194218}function ue(u,f){var v=u.entangledLanes|=f;for(u=u.entanglements;v;){var w=31-ma(v),N=1<<w;N&f|u[w]&f&&(u[w]|=f),v&=~N}}function fe(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function V(u){if(xa&&typeof xa.onCommitFiberRoot=="function")try{xa.onCommitFiberRoot(Wu,u,void 0,(u.current.flags&128)===128)}catch{}}function X(u){if(typeof Zy=="function"&&Ux(u),xa&&typeof xa.setStrictMode=="function")try{xa.setStrictMode(Wu,u)}catch{}}function K(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}function ce(u,f){if(typeof u=="object"&&u!==null){var v=Up.get(u);return v!==void 0?v:(f={value:u,source:f,stack:m(f)},Up.set(u,f),f)}return{value:u,source:f,stack:m(f)}}function Y(u,f){Si[Li++]=Cd,Si[Li++]=Ad,Ad=u,Cd=f}function W(u,f,v){Ga[Xa++]=Co,Ga[Xa++]=xr,Ga[Xa++]=qr,qr=u;var w=Co;u=xr;var N=32-ma(w)-1;w&=~(1<<N),v+=1;var O=32-ma(f)+N;if(30<O){var Z=N-N%5;O=(w&(1<<Z)-1).toString(32),w>>=Z,N-=Z,Co=1<<32-ma(f)+N|v<<N|w,xr=O+u}else Co=1<<O|v<<N|w,xr=u}function ae(u){u.return!==null&&(Y(u,1),W(u,1,0))}function he(u){for(;u===Ad;)Ad=Si[--Li],Si[Li]=null,Cd=Si[--Li],Si[Li]=null;for(;u===qr;)qr=Ga[--Xa],Ga[Xa]=null,xr=Ga[--Xa],Ga[Xa]=null,Co=Ga[--Xa],Ga[Xa]=null}function ye(u,f){D(Wr,f),D(Nd,u),D(gs,null),u=Vc(f),M(gs),D(gs,u)}function Pe(){M(gs),M(Nd),M(Wr)}function pe(u){u.memoizedState!==null&&D(Yu,u);var f=gs.current,v=Ty(f,u.type);f!==v&&(D(Nd,u),D(gs,v))}function _e(u){Nd.current===u&&(M(gs),M(Nd)),Yu.current===u&&(M(Yu),wo?Kt._currentValue=pa:Kt._currentValue2=pa)}function We(u){var f=Error(s(418,""));throw et(ce(f,u)),Rd}function tt(u,f){if(!ta)throw Error(s(175));l2(u.stateNode,u.type,u.memoizedProps,f,u)||We(u)}function pt(u){for(Hs=u.return;Hs;)switch(Hs.tag){case 3:case 27:gr=!0;return;case 5:case 13:gr=!1;return;default:Hs=Hs.return}}function vt(u){if(!ta||u!==Hs)return!1;if(!Fn)return pt(u),Fn=!0,!1;var f=!1;if(Ns?u.tag!==3&&u.tag!==27&&(u.tag!==5||Fy(u.type)&&!Ql(u.type,u.memoizedProps))&&(f=!0):u.tag!==3&&(u.tag!==5||Fy(u.type)&&!Ql(u.type,u.memoizedProps))&&(f=!0),f&&Ds&&We(u),pt(u),u.tag===13){if(!ta)throw Error(s(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));Ds=Iy(u)}else Ds=Hs?bx(u.stateNode):null;return!0}function Gt(){ta&&(Ds=Hs=null,Fn=!1)}function et(u){qa===null?qa=[u]:qa.push(u)}function Ce(){for(var u=$l,f=Zu=$l=0;f<u;){var v=Wa[f];Wa[f++]=null;var w=Wa[f];Wa[f++]=null;var N=Wa[f];Wa[f++]=null;var O=Wa[f];if(Wa[f++]=null,w!==null&&N!==null){var Z=w.pending;Z===null?N.next=N:(N.next=Z.next,Z.next=N),w.pending=N}O!==0&&Qe(v,N,O)}}function J(u,f,v,w){Wa[$l++]=u,Wa[$l++]=f,Wa[$l++]=v,Wa[$l++]=w,Zu|=w,u.lanes|=w,u=u.alternate,u!==null&&(u.lanes|=w)}function Ve(u,f,v,w){return J(u,f,v,w),Xe(u)}function re(u,f){return J(u,null,null,f),Xe(u)}function Qe(u,f,v){u.lanes|=v;var w=u.alternate;w!==null&&(w.lanes|=v);for(var N=!1,O=u.return;O!==null;)O.childLanes|=v,w=O.alternate,w!==null&&(w.childLanes|=v),O.tag===22&&(u=O.stateNode,u===null||u._visibility&1||(N=!0)),u=O,O=O.return;N&&f!==null&&u.tag===3&&(O=u.stateNode,N=31-ma(v),O=O.hiddenUpdates,u=O[N],u===null?O[N]=[f]:u.push(f),f.lane=v|536870912)}function Xe(u){if(50<Jc)throw Jc=0,sa=null,Error(s(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}function at(u){u!==Xc&&u.next===null&&(Xc===null?Ku=Xc=u:Xc=Xc.next=u),Ld=!0,Dd||(Dd=!0,Ue(ct))}function Ye(u,f){if(!Yr&&Ld){Yr=!0;do for(var v=!1,w=Ku;w!==null;){if(u!==0){var N=w.pendingLanes;if(N===0)var O=0;else{var Z=w.suspendedLanes,oe=w.pingedLanes;O=(1<<31-ma(42|u)+1)-1,O&=N&~(Z&~oe),O=O&201326677?O&201326677|1:O?O|2:0}O!==0&&(v=!0,xe(w,O))}else O=xn,O=z(w,w===bn?O:0),(O&3)===0||U(w,O)||(v=!0,xe(w,O));w=w.next}while(v);Yr=!1}}function ct(){Ld=Dd=!1;var u=0;ec!==0&&(Jl()&&(u=ec),ec=0);for(var f=Rs(),v=null,w=Ku;w!==null;){var N=w.next,O=$(w,f);O===0?(w.next=null,v===null?Ku=N:v.next=N,N===null&&(Xc=v)):(v=w,(u!==0||(O&3)!==0)&&(Ld=!0)),w=N}Ye(u)}function $(u,f){for(var v=u.suspendedLanes,w=u.pingedLanes,N=u.expirationTimes,O=u.pendingLanes&-62914561;0<O;){var Z=31-ma(O),oe=1<<Z,Me=N[Z];Me===-1?((oe&v)===0||(oe&w)!==0)&&(N[Z]=I(oe,f)):Me<=f&&(u.expiredLanes|=oe),O&=~oe}if(f=bn,v=xn,v=z(u,u===f?v:0),w=u.callbackNode,v===0||u===f&&ri===2||u.cancelPendingCommit!==null)return w!==null&&w!==null&&Ed(w),u.callbackNode=null,u.callbackPriority=0;if((v&3)===0||U(u,v)){if(f=v&-v,f===u.callbackPriority)return f;switch(w!==null&&Ed(w),fe(v)){case 2:case 8:v=Yy;break;case 32:v=Lp;break;case 268435456:v=Op;break;default:v=Lp}return w=k.bind(null,u),v=qu(v,w),u.callbackPriority=f,u.callbackNode=v,f}return w!==null&&w!==null&&Ed(w),u.callbackPriority=2,u.callbackNode=null,2}function k(u,f){var v=u.callbackNode;if(ms()&&u.callbackNode!==v)return null;var w=xn;return w=z(u,u===bn?w:0),w===0?null:(cd(u,w,f),$(u,Rs()),u.callbackNode!=null&&u.callbackNode===v?k.bind(null,u):null)}function xe(u,f){if(ms())return null;cd(u,f,!0)}function Ue(u){Zi?bp(function(){(Vt&6)!==0?qu(Ox,u):u()}):qu(Ox,u)}function Be(){return ec===0&&(ec=F()),ec}function Re(u,f){if(Od===null){var v=Od=[];zp=0,ga=Be(),tc={status:"pending",value:void 0,then:function(w){v.push(w)}}}return zp++,f.then(ft,ft),f}function ft(){if(--zp===0&&Od!==null){tc!==null&&(tc.status="fulfilled");var u=Od;Od=null,ga=0,tc=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function nt(u,f){var v=[],w={status:"pending",value:null,reason:null,then:function(N){v.push(N)}};return u.then(function(){w.status="fulfilled",w.value=f;for(var N=0;N<v.length;N++)(0,v[N])(f)},function(N){for(w.status="rejected",w.reason=N,N=0;N<v.length;N++)(0,v[N])(void 0)}),w}function wt(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ee(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Ae(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function je(u,f,v){var w=u.updateQueue;if(w===null)return null;if(w=w.shared,(Vt&2)!==0){var N=w.pending;return N===null?f.next=f:(f.next=N.next,N.next=f),w.pending=f,f=Xe(u),Qe(u,null,v),f}return J(u,w,f,v),Xe(u)}function mt(u,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194176)!==0)){var w=f.lanes;w&=u.pendingLanes,v|=w,f.lanes=v,ue(u,v)}}function ut(u,f){var v=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,v===w)){var N=null,O=null;if(v=v.firstBaseUpdate,v!==null){do{var Z={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};O===null?N=O=Z:O=O.next=Z,v=v.next}while(v!==null);O===null?N=O=f:O=O.next=f}else N=O=f;v={baseState:w.baseState,firstBaseUpdate:N,lastBaseUpdate:O,shared:w.shared,callbacks:w.callbacks},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=f:u.next=f,v.lastBaseUpdate=f}function ot(){if(Qu){var u=tc;if(u!==null)throw u}}function Dt(u,f,v,w){Qu=!1;var N=u.updateQueue;cl=!1;var O=N.firstBaseUpdate,Z=N.lastBaseUpdate,oe=N.shared.pending;if(oe!==null){N.shared.pending=null;var Me=oe,ke=Me.next;Me.next=null,Z===null?O=ke:Z.next=ke,Z=Me;var rt=u.alternate;rt!==null&&(rt=rt.updateQueue,oe=rt.lastBaseUpdate,oe!==Z&&(oe===null?rt.firstBaseUpdate=ke:oe.next=ke,rt.lastBaseUpdate=Me))}if(O!==null){var _t=N.baseState;Z=0,rt=ke=Me=null,oe=O;do{var Mt=oe.lane&-536870913,sn=Mt!==oe.lane;if(sn?(xn&Mt)===Mt:(w&Mt)===Mt){Mt!==0&&Mt===ga&&(Qu=!0),rt!==null&&(rt=rt.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var ba=u,Bd=oe;Mt=f;var $c=v;switch(Bd.tag){case 1:if(ba=Bd.payload,typeof ba=="function"){_t=ba.call($c,_t,Mt);break e}_t=ba;break e;case 3:ba.flags=ba.flags&-65537|128;case 0:if(ba=Bd.payload,Mt=typeof ba=="function"?ba.call($c,_t,Mt):ba,Mt==null)break e;_t=jc({},_t,Mt);break e;case 2:cl=!0}}Mt=oe.callback,Mt!==null&&(u.flags|=64,sn&&(u.flags|=8192),sn=N.callbacks,sn===null?N.callbacks=[Mt]:sn.push(Mt))}else sn={lane:Mt,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},rt===null?(ke=rt=sn,Me=_t):rt=rt.next=sn,Z|=Mt;if(oe=oe.next,oe===null){if(oe=N.shared.pending,oe===null)break;sn=oe,oe=sn.next,sn.next=null,N.lastBaseUpdate=sn,N.shared.pending=null}}while(!0);rt===null&&(Me=_t),N.baseState=Me,N.firstBaseUpdate=ke,N.lastBaseUpdate=rt,O===null&&(N.shared.lanes=0),Qa|=Z,u.lanes=Z,u.memoizedState=_t}}function ne(u,f){if(typeof u!="function")throw Error(s(191,u));u.call(f)}function st(u,f){var v=u.callbacks;if(v!==null)for(u.callbacks=null,u=0;u<v.length;u++)ne(v[u],f)}function Je(u,f){if(Ha(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var v=Object.keys(u),w=Object.keys(f);if(v.length!==w.length)return!1;for(w=0;w<v.length;w++){var N=v[w];if(!Ud.call(f,N)||!Ha(u[N],f[N]))return!1}return!0}function Ze(u){return u=u.status,u==="fulfilled"||u==="rejected"}function He(){}function Ie(u,f,v){switch(v=u[v],v===void 0?u.push(f):v!==f&&(f.then(He,He),f=v),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===ni?Error(s(483)):u;default:if(typeof f.status=="string")f.then(He,He);else{if(u=bn,u!==null&&100<u.shellSuspendCounter)throw Error(s(482));u=f,u.status="pending",u.then(function(w){if(f.status==="pending"){var N=f;N.status="fulfilled",N.value=w}},function(w){if(f.status==="pending"){var N=f;N.status="rejected",N.reason=w}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===ni?Error(s(483)):u}throw qc=f,ni}}function xt(){if(qc===null)throw Error(s(459));var u=qc;return qc=null,u}function zt(u){var f=vr;return vr+=1,No===null&&(No=[]),Ie(No,u,f)}function yn(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function gt(u,f){throw f.$$typeof===$0?Error(s(525)):(u=Object.prototype.toString.call(f),Error(s(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function Et(u){var f=u._init;return f(u._payload)}function en(u){function f(Ne,be){if(u){var Le=Ne.deletions;Le===null?(Ne.deletions=[be],Ne.flags|=16):Le.push(be)}}function v(Ne,be){if(!u)return null;for(;be!==null;)f(Ne,be),be=be.sibling;return null}function w(Ne){for(var be=new Map;Ne!==null;)Ne.key!==null?be.set(Ne.key,Ne):be.set(Ne.index,Ne),Ne=Ne.sibling;return be}function N(Ne,be){return Ne=Vs(Ne,be),Ne.index=0,Ne.sibling=null,Ne}function O(Ne,be,Le){return Ne.index=Le,u?(Le=Ne.alternate,Le!==null?(Le=Le.index,Le<be?(Ne.flags|=33554434,be):Le):(Ne.flags|=33554434,be)):(Ne.flags|=1048576,be)}function Z(Ne){return u&&Ne.alternate===null&&(Ne.flags|=33554434),Ne}function oe(Ne,be,Le,$e){return be===null||be.tag!==6?(be=Xl(Le,Ne.mode,$e),be.return=Ne,be):(be=N(be,Le),be.return=Ne,be)}function Me(Ne,be,Le,$e){var It=Le.type;return It===Fu?rt(Ne,be,Le.props.children,$e,Le.key):be!==null&&(be.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Xr&&Et(It)===be.type)?(be=N(be,Le.props),yn(be,Le),be.return=Ne,be):(be=pr(Le.type,Le.key,Le.props,null,Ne.mode,$e),yn(be,Le),be.return=Ne,be)}function ke(Ne,be,Le,$e){return be===null||be.tag!==4||be.stateNode.containerInfo!==Le.containerInfo||be.stateNode.implementation!==Le.implementation?(be=ju(Le,Ne.mode,$e),be.return=Ne,be):(be=N(be,Le.children||[]),be.return=Ne,be)}function rt(Ne,be,Le,$e,It){return be===null||be.tag!==7?(be=il(Le,Ne.mode,$e,It),be.return=Ne,be):(be=N(be,Le),be.return=Ne,be)}function _t(Ne,be,Le){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return be=Xl(""+be,Ne.mode,Le),be.return=Ne,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case sl:return Le=pr(be.type,be.key,be.props,null,Ne.mode,Le),yn(Le,be),Le.return=Ne,Le;case Gr:return be=ju(be,Ne.mode,Le),be.return=Ne,be;case Xr:var $e=be._init;return be=$e(be._payload),_t(Ne,be,Le)}if(Zl(be)||r(be))return be=il(be,Ne.mode,Le,null),be.return=Ne,be;if(typeof be.then=="function")return _t(Ne,zt(be),Le);if(be.$$typeof===Mo)return _t(Ne,sd(Ne,be),Le);gt(Ne,be)}return null}function Mt(Ne,be,Le,$e){var It=be!==null?be.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return It!==null?null:oe(Ne,be,""+Le,$e);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case sl:return Le.key===It?Me(Ne,be,Le,$e):null;case Gr:return Le.key===It?ke(Ne,be,Le,$e):null;case Xr:return It=Le._init,Le=It(Le._payload),Mt(Ne,be,Le,$e)}if(Zl(Le)||r(Le))return It!==null?null:rt(Ne,be,Le,$e,null);if(typeof Le.then=="function")return Mt(Ne,be,zt(Le),$e);if(Le.$$typeof===Mo)return Mt(Ne,be,sd(Ne,Le),$e);gt(Ne,Le)}return null}function sn(Ne,be,Le,$e,It){if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return Ne=Ne.get(Le)||null,oe(be,Ne,""+$e,It);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case sl:return Ne=Ne.get($e.key===null?Le:$e.key)||null,Me(be,Ne,$e,It);case Gr:return Ne=Ne.get($e.key===null?Le:$e.key)||null,ke(be,Ne,$e,It);case Xr:var mi=$e._init;return $e=mi($e._payload),sn(Ne,be,Le,$e,It)}if(Zl($e)||r($e))return Ne=Ne.get(Le)||null,rt(be,Ne,$e,It,null);if(typeof $e.then=="function")return sn(Ne,be,Le,zt($e),It);if($e.$$typeof===Mo)return sn(Ne,be,Le,sd(be,$e),It);gt(be,$e)}return null}function ba(Ne,be,Le,$e){for(var It=null,mi=null,Qt=be,kn=be=0,ls=null;Qt!==null&&kn<Le.length;kn++){Qt.index>kn?(ls=Qt,Qt=null):ls=Qt.sibling;var Hn=Mt(Ne,Qt,Le[kn],$e);if(Hn===null){Qt===null&&(Qt=ls);break}u&&Qt&&Hn.alternate===null&&f(Ne,Qt),be=O(Hn,be,kn),mi===null?It=Hn:mi.sibling=Hn,mi=Hn,Qt=ls}if(kn===Le.length)return v(Ne,Qt),Fn&&Y(Ne,kn),It;if(Qt===null){for(;kn<Le.length;kn++)Qt=_t(Ne,Le[kn],$e),Qt!==null&&(be=O(Qt,be,kn),mi===null?It=Qt:mi.sibling=Qt,mi=Qt);return Fn&&Y(Ne,kn),It}for(Qt=w(Qt);kn<Le.length;kn++)ls=sn(Qt,Ne,kn,Le[kn],$e),ls!==null&&(u&&ls.alternate!==null&&Qt.delete(ls.key===null?kn:ls.key),be=O(ls,be,kn),mi===null?It=ls:mi.sibling=ls,mi=ls);return u&&Qt.forEach(function(xl){return f(Ne,xl)}),Fn&&Y(Ne,kn),It}function Bd(Ne,be,Le,$e){if(Le==null)throw Error(s(151));for(var It=null,mi=null,Qt=be,kn=be=0,ls=null,Hn=Le.next();Qt!==null&&!Hn.done;kn++,Hn=Le.next()){Qt.index>kn?(ls=Qt,Qt=null):ls=Qt.sibling;var xl=Mt(Ne,Qt,Hn.value,$e);if(xl===null){Qt===null&&(Qt=ls);break}u&&Qt&&xl.alternate===null&&f(Ne,Qt),be=O(xl,be,kn),mi===null?It=xl:mi.sibling=xl,mi=xl,Qt=ls}if(Hn.done)return v(Ne,Qt),Fn&&Y(Ne,kn),It;if(Qt===null){for(;!Hn.done;kn++,Hn=Le.next())Hn=_t(Ne,Hn.value,$e),Hn!==null&&(be=O(Hn,be,kn),mi===null?It=Hn:mi.sibling=Hn,mi=Hn);return Fn&&Y(Ne,kn),It}for(Qt=w(Qt);!Hn.done;kn++,Hn=Le.next())Hn=sn(Qt,Ne,kn,Hn.value,$e),Hn!==null&&(u&&Hn.alternate!==null&&Qt.delete(Hn.key===null?kn:Hn.key),be=O(Hn,be,kn),mi===null?It=Hn:mi.sibling=Hn,mi=Hn);return u&&Qt.forEach(function(Gp){return f(Ne,Gp)}),Fn&&Y(Ne,kn),It}function $c(Ne,be,Le,$e){if(typeof Le=="object"&&Le!==null&&Le.type===Fu&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case sl:e:{for(var It=Le.key;be!==null;){if(be.key===It){if(It=Le.type,It===Fu){if(be.tag===7){v(Ne,be.sibling),$e=N(be,Le.props.children),$e.return=Ne,Ne=$e;break e}}else if(be.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===Xr&&Et(It)===be.type){v(Ne,be.sibling),$e=N(be,Le.props),yn($e,Le),$e.return=Ne,Ne=$e;break e}v(Ne,be);break}else f(Ne,be);be=be.sibling}Le.type===Fu?($e=il(Le.props.children,Ne.mode,$e,Le.key),$e.return=Ne,Ne=$e):($e=pr(Le.type,Le.key,Le.props,null,Ne.mode,$e),yn($e,Le),$e.return=Ne,Ne=$e)}return Z(Ne);case Gr:e:{for(It=Le.key;be!==null;){if(be.key===It)if(be.tag===4&&be.stateNode.containerInfo===Le.containerInfo&&be.stateNode.implementation===Le.implementation){v(Ne,be.sibling),$e=N(be,Le.children||[]),$e.return=Ne,Ne=$e;break e}else{v(Ne,be);break}else f(Ne,be);be=be.sibling}$e=ju(Le,Ne.mode,$e),$e.return=Ne,Ne=$e}return Z(Ne);case Xr:return It=Le._init,Le=It(Le._payload),$c(Ne,be,Le,$e)}if(Zl(Le))return ba(Ne,be,Le,$e);if(r(Le)){if(It=r(Le),typeof It!="function")throw Error(s(150));return Le=It.call(Le),Bd(Ne,be,Le,$e)}if(typeof Le.then=="function")return $c(Ne,be,zt(Le),$e);if(Le.$$typeof===Mo)return $c(Ne,be,sd(Ne,Le),$e);gt(Ne,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,be!==null&&be.tag===6?(v(Ne,be.sibling),$e=N(be,Le),$e.return=Ne,Ne=$e):(v(Ne,be),$e=Xl(Le,Ne.mode,$e),$e.return=Ne,Ne=$e),Z(Ne)):v(Ne,be)}return function(Ne,be,Le,$e){try{vr=0;var It=$c(Ne,be,Le,$e);return No=null,It}catch(Qt){if(Qt===ni)throw Qt;var mi=t(29,Qt,null,Ne.mode);return mi.lanes=$e,mi.return=Ne,mi}finally{}}}function dt(u,f){u=Zr,D(Ya,u),D(Ro,f),Zr=u|f.baseLanes}function Xt(){D(Ya,Zr),D(Ro,Ro.current)}function Ut(){Zr=Ya.current,M(Ro),M(Ya)}function Lt(u){var f=u.alternate;D(Ki,Ki.current&1),D(Za,u),yr===null&&(f===null||Ro.current!==null||f.memoizedState!==null)&&(yr=u)}function li(u){if(u.tag===22){if(D(Ki,Ki.current),D(Za,u),yr===null){var f=u.alternate;f!==null&&f.memoizedState!==null&&(yr=u)}}else Zt()}function Zt(){D(Ki,Ki.current),D(Za,Za.current)}function Nn(u){M(Za),yr===u&&(yr=null),M(Ki)}function jn(u){for(var f=u;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||Ep(v)||Sd(v)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Ct(){throw Error(s(321))}function tn(u,f){if(f===null)return!1;for(var v=0;v<f.length&&v<u.length;v++)if(!Ha(u[v],f[v]))return!1;return!0}function mn(u,f,v,w,N,O){return Do=O,cn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,qt.H=u===null||u.memoizedState===null?Qi:Gs,ul=!1,O=v(w,N),ul=!1,Mi&&(O=ii(f,v,w,N)),ns(u),O}function ns(u){qt.H=Vn;var f=qn!==null&&qn.next!==null;if(Do=0,ji=qn=cn=null,_r=!1,Oi=0,Ju=null,f)throw Error(s(300));u===null||Fi||(u=u.dependencies,u!==null&&Ul(u)&&(Fi=!0))}function ii(u,f,v,w){cn=u;var N=0;do{if(Mi&&(Ju=null),Oi=0,Mi=!1,25<=N)throw Error(s(301));if(N+=1,ji=qn=null,u.updateQueue!=null){var O=u.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}qt.H=ic,O=f(v,w)}while(Mi);return O}function Ms(){var u=qt.H,f=u.useState()[0];return f=typeof f.then=="function"?ge(f):f,u=u.useState()[0],(qn!==null?qn.memoizedState:null)!==u&&(cn.flags|=1024),f}function Ts(){var u=zd!==0;return zd=0,u}function ci(u,f,v){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~v}function yi(u){if(_r){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}_r=!1}Do=0,ji=qn=cn=null,Mi=!1,Oi=zd=0,Ju=null}function _n(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ji===null?cn.memoizedState=ji=u:ji=ji.next=u,ji}function G(){if(qn===null){var u=cn.alternate;u=u!==null?u.memoizedState:null}else u=qn.next;var f=ji===null?cn.memoizedState:ji.next;if(f!==null)ji=f,qn=u;else{if(u===null)throw cn.alternate===null?Error(s(467)):Error(s(310));qn=u,u={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},ji===null?cn.memoizedState=ji=u:ji=ji.next=u}return ji}function ge(u){var f=Oi;return Oi+=1,Ju===null&&(Ju=[]),u=Ie(Ju,u,f),f=cn,(ji===null?f.memoizedState:ji.next)===null&&(f=f.alternate,qt.H=f===null||f.memoizedState===null?Qi:Gs),u}function Te(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return ge(u);if(u.$$typeof===Mo)return Es(u)}throw Error(s(438,String(u)))}function ve(u){var f=null,v=cn.updateQueue;if(v!==null&&(f=v.memoCache),f==null){var w=cn.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(f={data:w.data.map(function(N){return N.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),v===null&&(v=Bp(),cn.updateQueue=v),v.memoCache=f,v=f.data[f.index],v===void 0)for(v=f.data[f.index]=Array(u),w=0;w<u;w++)v[w]=My;return f.index++,v}function me(u,f){return typeof f=="function"?f(u):f}function it(u){var f=G();return lt(f,qn,u)}function lt(u,f,v){var w=u.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=v;var N=u.baseQueue,O=w.pending;if(O!==null){if(N!==null){var Z=N.next;N.next=O.next,O.next=Z}f.baseQueue=N=O,w.pending=null}if(O=u.baseState,N===null)u.memoizedState=O;else{f=N.next;var oe=Z=null,Me=null,ke=f,rt=!1;do{var _t=ke.lane&-536870913;if(_t!==ke.lane?(xn&_t)===_t:(Do&_t)===_t){var Mt=ke.revertLane;if(Mt===0)Me!==null&&(Me=Me.next={lane:0,revertLane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),_t===ga&&(rt=!0);else if((Do&Mt)===Mt){ke=ke.next,Mt===ga&&(rt=!0);continue}else _t={lane:0,revertLane:ke.revertLane,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},Me===null?(oe=Me=_t,Z=O):Me=Me.next=_t,cn.lanes|=Mt,Qa|=Mt;_t=ke.action,ul&&v(O,_t),O=ke.hasEagerState?ke.eagerState:v(O,_t)}else Mt={lane:_t,revertLane:ke.revertLane,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},Me===null?(oe=Me=Mt,Z=O):Me=Me.next=Mt,cn.lanes|=_t,Qa|=_t;ke=ke.next}while(ke!==null&&ke!==f);if(Me===null?Z=O:Me.next=oe,!Ha(O,u.memoizedState)&&(Fi=!0,rt&&(v=tc,v!==null)))throw v;u.memoizedState=O,u.baseState=Z,u.baseQueue=Me,w.lastRenderedState=O}return N===null&&(w.lanes=0),[u.memoizedState,w.dispatch]}function yt(u){var f=G(),v=f.queue;if(v===null)throw Error(s(311));v.lastRenderedReducer=u;var w=v.dispatch,N=v.pending,O=f.memoizedState;if(N!==null){v.pending=null;var Z=N=N.next;do O=u(O,Z.action),Z=Z.next;while(Z!==N);Ha(O,f.memoizedState)||(Fi=!0),f.memoizedState=O,f.baseQueue===null&&(f.baseState=O),v.lastRenderedState=O}return[O,w]}function ht(u,f,v){var w=cn,N=G(),O=Fn;if(O){if(v===void 0)throw Error(s(407));v=v()}else v=f();var Z=!Ha((qn||N).memoizedState,v);if(Z&&(N.memoizedState=v,Fi=!0),N=N.queue,Yf(At.bind(null,w,N,u),[u]),N.getSnapshot!==f||Z||ji!==null&&ji.memoizedState.tag&1){if(w.flags|=2048,Ni(9,jt.bind(null,w,N,v,f),{destroy:void 0},null),bn===null)throw Error(s(349));O||(Do&60)!==0||Pt(w,f,v)}return v}function Pt(u,f,v){u.flags|=16384,u={getSnapshot:f,value:v},f=cn.updateQueue,f===null?(f=Bp(),cn.updateQueue=f,f.stores=[u]):(v=f.stores,v===null?f.stores=[u]:v.push(u))}function jt(u,f,v,w){f.value=v,f.getSnapshot=w,on(f)&&On(u)}function At(u,f,v){return v(function(){on(f)&&On(u)})}function on(u){var f=u.getSnapshot;u=u.value;try{var v=f();return!Ha(u,v)}catch{return!0}}function On(u){var f=re(u,2);f!==null&&Fs(f,u,2)}function Un(u){var f=_n();if(typeof u=="function"){var v=u;if(u=v(),ul){X(!0);try{v()}finally{X(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:me,lastRenderedState:u},f}function Mn(u,f,v,w){return u.baseState=v,lt(u,qn,typeof w=="function"?w:me)}function Kn(u,f,v,w,N){if(Nc(u))throw Error(s(485));if(u=f.action,u!==null){var O={payload:N,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){O.listeners.push(Z)}};qt.T!==null?v(!0):O.isTransition=!1,w(O),v=f.pending,v===null?(O.next=f.pending=O,kt(f,O)):(O.next=v.next,f.pending=v.next=O)}}function kt(u,f){var v=f.action,w=f.payload,N=u.state;if(f.isTransition){var O=qt.T,Z={};qt.T=Z;try{var oe=v(N,w),Me=qt.S;Me!==null&&Me(Z,oe),si(u,f,oe)}catch(ke){Yi(u,f,ke)}finally{qt.T=O}}else try{O=v(N,w),si(u,f,O)}catch(ke){Yi(u,f,ke)}}function si(u,f,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(w){Tn(u,f,w)},function(w){return Yi(u,f,w)}):Tn(u,f,v)}function Tn(u,f,v){f.status="fulfilled",f.value=v,Yo(f),u.state=v,f=u.pending,f!==null&&(v=f.next,v===f?u.pending=null:(v=v.next,f.next=v,kt(u,v)))}function Yi(u,f,v){var w=u.pending;if(u.pending=null,w!==null){w=w.next;do f.status="rejected",f.reason=v,Yo(f),f=f.next;while(f!==w)}u.action=null}function Yo(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function ui(u,f){return f}function mo(u,f){if(Fn){var v=bn.formState;if(v!==null){e:{var w=cn;if(Fn){if(Ds){var N=Ry(Ds,gr);if(N){Ds=bx(N),w=Dy(N);break e}}We(w)}w=!1}w&&(f=v[0])}}v=_n(),v.memoizedState=v.baseState=f,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:f},v.queue=w,v=Yh.bind(null,cn,w),w.dispatch=v,w=Un(!1);var O=Zh.bind(null,cn,!1,w.queue);return w=_n(),N={state:f,dispatch:null,action:u,pending:null},w.queue=N,v=Kn.bind(null,cn,N,O,v),N.dispatch=v,w.memoizedState=u,[f,v,!1]}function fi(u){var f=G();return is(f,qn,u)}function is(u,f,v){f=lt(u,f,ui)[0],u=it(me)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?ge(f):f;var w=G(),N=w.queue,O=N.dispatch;return v!==w.memoizedState&&(cn.flags|=2048,Ni(9,ss.bind(null,N,v),{destroy:void 0},null)),[f,O,u]}function ss(u,f){u.action=f}function as(u){var f=G(),v=qn;if(v!==null)return is(f,v,u);G(),f=f.memoizedState,v=G();var w=v.queue.dispatch;return v.memoizedState=u,[f,w,!1]}function Ni(u,f,v,w){return u={tag:u,create:f,inst:v,deps:w,next:null},f=cn.updateQueue,f===null&&(f=Bp(),cn.updateQueue=f),v=f.lastEffect,v===null?f.lastEffect=u.next=u:(w=v.next,v.next=u,u.next=w,f.lastEffect=u),u}function Fr(){return G().memoizedState}function hr(u,f,v,w){var N=_n();cn.flags|=u,N.memoizedState=Ni(1|f,v,{destroy:void 0},w===void 0?null:w)}function Wf(u,f,v,w){var N=G();w=w===void 0?null:w;var O=N.memoizedState.inst;qn!==null&&w!==null&&tn(w,qn.memoizedState.deps)?N.memoizedState=Ni(f,v,O,w):(cn.flags|=u,N.memoizedState=Ni(1|f,v,O,w))}function T0(u,f){hr(8390656,8,u,f)}function Yf(u,f){Wf(2048,8,u,f)}function Jv(u,f){return Wf(4,2,u,f)}function $v(u,f){return Wf(4,4,u,f)}function Zf(u,f){if(typeof f=="function"){u=u();var v=f(u);return function(){typeof v=="function"?v():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function xo(u,f,v){v=v!=null?v.concat([u]):null,Wf(4,4,Zf.bind(null,f,u),v)}function Kf(){}function Xh(u,f){var v=G();f=f===void 0?null:f;var w=v.memoizedState;return f!==null&&tn(f,w[1])?w[0]:(v.memoizedState=[u,f],u)}function Ac(u,f){var v=G();f=f===void 0?null:f;var w=v.memoizedState;if(f!==null&&tn(f,w[1]))return w[0];if(w=u(),ul){X(!0);try{u()}finally{X(!1)}}return v.memoizedState=[w,f],w}function Nl(u,f,v){return v===void 0||(Do&1073741824)!==0?u.memoizedState=f:(u.memoizedState=v,u=yo(),cn.lanes|=u,Qa|=u,v)}function w0(u,f,v,w){return Ha(v,f)?v:Ro.current!==null?(u=Nl(u,v,w),Ha(u,f)||(Fi=!0),u):(Do&42)===0?(Fi=!0,u.memoizedState=v):(u=yo(),cn.lanes|=u,Qa|=u,f)}function qh(u,f,v,w,N){var O=rs();ks(O!==0&&8>O?O:8);var Z=qt.T,oe={};qt.T=oe,Zh(u,!1,f,v);try{var Me=N(),ke=qt.S;if(ke!==null&&ke(oe,Me),Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var rt=nt(Me,w);Dl(u,f,rt,ea(u))}else Dl(u,f,w,ea(u))}catch(_t){Dl(u,f,{then:function(){},status:"rejected",reason:_t},ea())}finally{ks(O),qt.T=Z}}function E0(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:pa,baseState:pa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:me,lastRenderedState:pa},next:null};var v={};return f.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:me,lastRenderedState:v},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function Cc(){return Es(Kt)}function go(){return G().memoizedState}function Wh(){return G().memoizedState}function Qf(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var v=ea();u=Ae(v);var w=je(f,u,v);w!==null&&(Fs(w,f,v),mt(w,f,v)),f={cache:ep()},u.payload=f;return}f=f.return}}function Rl(u,f,v){var w=ea();v={lane:w,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},Nc(u)?Jf(f,v):(v=Ve(u,f,v,w),v!==null&&(Fs(v,u,w),A0(v,f,w)))}function Yh(u,f,v){var w=ea();Dl(u,f,v,w)}function Dl(u,f,v,w){var N={lane:w,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(Nc(u))Jf(f,N);else{var O=u.alternate;if(u.lanes===0&&(O===null||O.lanes===0)&&(O=f.lastRenderedReducer,O!==null))try{var Z=f.lastRenderedState,oe=O(Z,v);if(N.hasEagerState=!0,N.eagerState=oe,Ha(oe,Z))return J(u,f,N,0),bn===null&&Ce(),!1}catch{}finally{}if(v=Ve(u,f,N,w),v!==null)return Fs(v,u,w),A0(v,f,w),!0}return!1}function Zh(u,f,v,w){if(w={lane:2,revertLane:Be(),action:w,hasEagerState:!1,eagerState:null,next:null},Nc(u)){if(f)throw Error(s(479))}else f=Ve(u,v,w,2),f!==null&&Fs(f,u,2)}function Nc(u){var f=u.alternate;return u===cn||f!==null&&f===cn}function Jf(u,f){Mi=_r=!0;var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}function A0(u,f,v){if((v&4194176)!==0){var w=f.lanes;w&=u.pendingLanes,v|=w,f.lanes=v,ue(u,v)}}function Is(u,f,v,w){f=u.memoizedState,v=v(w,f),v=v==null?f:jc({},f,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}function Ll(u,f,v,w,N,O,Z){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,O,Z):f.prototype&&f.prototype.isPureReactComponent?!Je(v,w)||!Je(N,O):!0}function $f(u,f,v,w){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,w),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,w),f.state!==u&&Ip.enqueueReplaceState(f,f.state,null)}function Vr(u,f){var v=f;if("ref"in f){v={};for(var w in f)w!=="ref"&&(v[w]=f[w])}if(u=u.defaultProps){v===f&&(v=jc({},v));for(var N in u)v[N]===void 0&&(v[N]=u[N])}return v}function Kh(u,f){try{var v=u.onUncaughtError;v(f.value,{componentStack:f.stack})}catch(w){setTimeout(function(){throw w})}}function Qh(u,f,v){try{var w=u.onCaughtError;w(v.value,{componentStack:v.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function ed(u,f,v){return v=Ae(v),v.tag=3,v.payload={element:null},v.callback=function(){Kh(u,f)},v}function wu(u){return u=Ae(u),u.tag=3,u}function td(u,f,v,w){var N=v.type.getDerivedStateFromError;if(typeof N=="function"){var O=w.value;u.payload=function(){return N(O)},u.callback=function(){Qh(f,v,w)}}var Z=v.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(u.callback=function(){Qh(f,v,w),typeof N!="function"&&($a===null?$a=new Set([this]):$a.add(this));var oe=w.stack;this.componentDidCatch(w.value,{componentStack:oe!==null?oe:""})})}function ey(u,f,v,w,N){if(v.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(f=v.alternate,f!==null&&Rc(f,v,N,!0),v=Za.current,v!==null){switch(v.tag){case 13:return yr===null?ha():v.alternate===null&&Pn===0&&(Pn=3),v.flags&=-257,v.flags|=65536,v.lanes=N,w===Pp?v.flags|=16384:(f=v.updateQueue,f===null?v.updateQueue=new Set([w]):f.add(w),pp(u,w,N)),!1;case 22:return v.flags|=65536,w===Pp?v.flags|=16384:(f=v.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([w])},v.updateQueue=f):(v=f.retryQueue,v===null?f.retryQueue=new Set([w]):v.add(w)),pp(u,w,N)),!1}throw Error(s(435,v.tag))}return pp(u,w,N),ha(),!1}if(Fn)return f=Za.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=N,w!==Rd&&(u=Error(s(422),{cause:w}),et(ce(u,v)))):(w!==Rd&&(f=Error(s(423),{cause:w}),et(ce(f,v))),u=u.current.alternate,u.flags|=65536,N&=-N,u.lanes|=N,w=ce(w,v),N=ed(u.stateNode,w,N),ut(u,N),Pn!==4&&(Pn=2)),!1;var O=Error(s(520),{cause:w});if(O=ce(O,v),ef===null?ef=[O]:ef.push(O),Pn!==4&&(Pn=2),f===null)return!0;w=ce(w,v),v=f;do{switch(v.tag){case 3:return v.flags|=65536,u=N&-N,v.lanes|=u,u=ed(v.stateNode,w,u),ut(v,u),!1;case 1:if(f=v.type,O=v.stateNode,(v.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&($a===null||!$a.has(O))))return v.flags|=65536,N&=-N,v.lanes|=N,N=wu(N),td(N,u,v,w),ut(v,N),!1}v=v.return}while(v!==null);return!1}function ws(u,f,v,w){f.child=u===null?Px(f,null,v,w):nc(f,u.child,v,w)}function ty(u,f,v,w,N){v=v.render;var O=f.ref;if("ref"in w){var Z={};for(var oe in w)oe!=="ref"&&(Z[oe]=w[oe])}else Z=w;return Dc(f),w=mn(u,f,v,Z,O,N),oe=Ts(),u!==null&&!Fi?(ci(u,f,N),Zo(u,f,N)):(Fn&&oe&&ae(f),f.flags|=1,ws(u,f,w,N),f.child)}function ny(u,f,v,w,N){if(u===null){var O=v.type;return typeof O=="function"&&!tl(O)&&O.defaultProps===void 0&&v.compare===null?(f.tag=15,f.type=O,Jh(u,f,O,w,N)):(u=pr(v.type,null,w,f,f.mode,N),u.ref=f.ref,u.return=f,f.child=u)}if(O=u.child,!U0(u,N)){var Z=O.memoizedProps;if(v=v.compare,v=v!==null?v:Je,v(Z,w)&&u.ref===f.ref)return Zo(u,f,N)}return f.flags|=1,u=Vs(O,w),u.ref=f.ref,u.return=f,f.child=u}function Jh(u,f,v,w,N){if(u!==null){var O=u.memoizedProps;if(Je(O,w)&&u.ref===f.ref)if(Fi=!1,f.pendingProps=w=O,U0(u,N))(u.flags&131072)!==0&&(Fi=!0);else return f.lanes=u.lanes,Zo(u,f,N)}return C0(u,f,v,w,N)}function iy(u,f,v){var w=f.pendingProps,N=w.children,O=(f.stateNode._pendingVisibility&2)!==0,Z=u!==null?u.memoizedState:null;if(nd(u,f),w.mode==="hidden"||O){if((f.flags&128)!==0){if(w=Z!==null?Z.baseLanes|v:v,u!==null){for(N=f.child=u.child,O=0;N!==null;)O=O|N.lanes|N.childLanes,N=N.sibling;f.childLanes=O&~w}else f.childLanes=0,f.child=null;return sy(u,f,w,v)}if((v&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&tp(f,Z!==null?Z.cachePool:null),Z!==null?dt(f,Z):Xt(),li(f);else return f.lanes=f.childLanes=536870912,sy(u,f,Z!==null?Z.baseLanes|v:v,v)}else Z!==null?(tp(f,Z.cachePool),dt(f,Z),Zt(),f.memoizedState=null):(u!==null&&tp(f,null),Xt(),Zt());return ws(u,f,N,v),f.child}function sy(u,f,v,w){var N=zl();return N=N===null?null:{parent:wo?Qn._currentValue:Qn._currentValue2,pool:N},f.memoizedState={baseLanes:v,cachePool:N},u!==null&&tp(f,null),Xt(),li(f),u!==null&&Rc(u,f,w,!0),null}function nd(u,f){var v=f.ref;if(v===null)u!==null&&u.ref!==null&&(f.flags|=2097664);else{if(typeof v!="function"&&typeof v!="object")throw Error(s(284));(u===null||u.ref!==v)&&(f.flags|=2097664)}}function C0(u,f,v,w,N){return Dc(f),v=mn(u,f,v,w,void 0,N),w=Ts(),u!==null&&!Fi?(ci(u,f,N),Zo(u,f,N)):(Fn&&w&&ae(f),f.flags|=1,ws(u,f,v,N),f.child)}function ay(u,f,v,w,N,O){return Dc(f),f.updateQueue=null,v=ii(f,w,v,N),ns(u),w=Ts(),u!==null&&!Fi?(ci(u,f,O),Zo(u,f,O)):(Fn&&w&&ae(f),f.flags|=1,ws(u,f,v,O),f.child)}function N0(u,f,v,w,N){if(Dc(f),f.stateNode===null){var O=Gc,Z=v.contextType;typeof Z=="object"&&Z!==null&&(O=Es(Z)),O=new v(w,O),f.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=Ip,f.stateNode=O,O._reactInternals=f,O=f.stateNode,O.props=w,O.state=f.memoizedState,O.refs={},wt(f),Z=v.contextType,O.context=typeof Z=="object"&&Z!==null?Es(Z):Gc,O.state=f.memoizedState,Z=v.getDerivedStateFromProps,typeof Z=="function"&&(Is(f,v,Z,w),O.state=f.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(Z=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),Z!==O.state&&Ip.enqueueReplaceState(O,O.state,null),Dt(f,w,O,N),ot(),O.state=f.memoizedState),typeof O.componentDidMount=="function"&&(f.flags|=4194308),w=!0}else if(u===null){O=f.stateNode;var oe=f.memoizedProps,Me=Vr(v,oe);O.props=Me;var ke=O.context,rt=v.contextType;Z=Gc,typeof rt=="object"&&rt!==null&&(Z=Es(rt));var _t=v.getDerivedStateFromProps;rt=typeof _t=="function"||typeof O.getSnapshotBeforeUpdate=="function",oe=f.pendingProps!==oe,rt||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(oe||ke!==Z)&&$f(f,O,w,Z),cl=!1;var Mt=f.memoizedState;O.state=Mt,Dt(f,w,O,N),ot(),ke=f.memoizedState,oe||Mt!==ke||cl?(typeof _t=="function"&&(Is(f,v,_t,w),ke=f.memoizedState),(Me=cl||Ll(f,v,Me,w,Mt,ke,Z))?(rt||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(f.flags|=4194308)):(typeof O.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=ke),O.props=w,O.state=ke,O.context=Z,w=Me):(typeof O.componentDidMount=="function"&&(f.flags|=4194308),w=!1)}else{O=f.stateNode,ee(u,f),Z=f.memoizedProps,rt=Vr(v,Z),O.props=rt,_t=f.pendingProps,Mt=O.context,ke=v.contextType,Me=Gc,typeof ke=="object"&&ke!==null&&(Me=Es(ke)),oe=v.getDerivedStateFromProps,(ke=typeof oe=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Z!==_t||Mt!==Me)&&$f(f,O,w,Me),cl=!1,Mt=f.memoizedState,O.state=Mt,Dt(f,w,O,N),ot();var sn=f.memoizedState;Z!==_t||Mt!==sn||cl||u!==null&&u.dependencies!==null&&Ul(u.dependencies)?(typeof oe=="function"&&(Is(f,v,oe,w),sn=f.memoizedState),(rt=cl||Ll(f,v,rt,w,Mt,sn,Me)||u!==null&&u.dependencies!==null&&Ul(u.dependencies))?(ke||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(w,sn,Me),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(w,sn,Me)),typeof O.componentDidUpdate=="function"&&(f.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof O.componentDidUpdate!="function"||Z===u.memoizedProps&&Mt===u.memoizedState||(f.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||Z===u.memoizedProps&&Mt===u.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=sn),O.props=w,O.state=sn,O.context=Me,w=rt):(typeof O.componentDidUpdate!="function"||Z===u.memoizedProps&&Mt===u.memoizedState||(f.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||Z===u.memoizedProps&&Mt===u.memoizedState||(f.flags|=1024),w=!1)}return O=w,nd(u,f),w=(f.flags&128)!==0,O||w?(O=f.stateNode,v=w&&typeof v.getDerivedStateFromError!="function"?null:O.render(),f.flags|=1,u!==null&&w?(f.child=nc(f,u.child,null,N),f.child=nc(f,null,v,N)):ws(u,f,v,N),f.memoizedState=O.state,u=f.child):u=Zo(u,f,N),u}function ry(u,f,v,w){return Gt(),f.flags|=256,ws(u,f,v,w),f.child}function R0(u){return{baseLanes:u,cachePool:fy()}}function D0(u,f,v){return u=u!==null?u.childLanes&~v:0,f&&(u|=_a),u}function oy(u,f,v){var w=f.pendingProps,N=!1,O=(f.flags&128)!==0,Z;if((Z=O)||(Z=u!==null&&u.memoizedState===null?!1:(Ki.current&2)!==0),Z&&(N=!0,f.flags&=-129),Z=(f.flags&32)!==0,f.flags&=-33,u===null){if(Fn){if(N?Lt(f):Zt(),Fn){var oe=Ds,Me;(Me=oe)&&(oe=Py(oe,gr),oe!==null?(f.memoizedState={dehydrated:oe,treeContext:qr!==null?{id:Co,overflow:xr}:null,retryLane:536870912},Me=t(18,null,null,0),Me.stateNode=oe,Me.return=f,f.child=Me,Hs=f,Ds=null,Me=!0):Me=!1),Me||We(f)}if(oe=f.memoizedState,oe!==null&&(oe=oe.dehydrated,oe!==null))return Sd(oe)?f.lanes=16:f.lanes=536870912,null;Nn(f)}return oe=w.children,w=w.fallback,N?(Zt(),N=f.mode,oe=L0({mode:"hidden",children:oe},N),w=il(w,N,v,null),oe.return=f,w.return=f,oe.sibling=w,f.child=oe,N=f.child,N.memoizedState=R0(v),N.childLanes=D0(u,Z,v),f.memoizedState=Xs,w):(Lt(f),id(f,oe))}if(Me=u.memoizedState,Me!==null&&(oe=Me.dehydrated,oe!==null)){if(O)f.flags&256?(Lt(f),f.flags&=-257,f=O0(u,f,v)):f.memoizedState!==null?(Zt(),f.child=u.child,f.flags|=128,f=null):(Zt(),N=w.fallback,oe=f.mode,w=L0({mode:"visible",children:w.children},oe),N=il(N,oe,v,null),N.flags|=2,w.return=f,N.return=f,w.sibling=N,f.child=w,nc(f,u.child,null,v),w=f.child,w.memoizedState=R0(v),w.childLanes=D0(u,Z,v),f.memoizedState=Xs,f=N);else if(Lt(f),Sd(oe))Z=Ny(oe).digest,w=Error(s(419)),w.stack="",w.digest=Z,et({value:w,source:null,stack:null}),f=O0(u,f,v);else if(Fi||Rc(u,f,v,!1),Z=(v&u.childLanes)!==0,Fi||Z){if(Z=bn,Z!==null){if(w=v&-v,(w&42)!==0)w=1;else switch(w){case 2:w=1;break;case 8:w=4;break;case 32:w=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:w=64;break;case 268435456:w=134217728;break;default:w=0}if(w=(w&(Z.suspendedLanes|v))!==0?0:w,w!==0&&w!==Me.retryLane)throw Me.retryLane=w,re(u,w),Fs(Z,u,w),Qy}Ep(oe)||ha(),f=O0(u,f,v)}else Ep(oe)?(f.flags|=128,f.child=u.child,f=Bc.bind(null,u),o2(oe,f),f=null):(u=Me.treeContext,ta&&(Ds=Oy(oe),Hs=f,Fn=!0,qa=null,gr=!1,u!==null&&(Ga[Xa++]=Co,Ga[Xa++]=xr,Ga[Xa++]=qr,Co=u.id,xr=u.overflow,qr=f)),f=id(f,w.children),f.flags|=4096);return f}return N?(Zt(),N=w.fallback,oe=f.mode,Me=u.child,O=Me.sibling,w=Vs(Me,{mode:"hidden",children:w.children}),w.subtreeFlags=Me.subtreeFlags&31457280,O!==null?N=Vs(O,N):(N=il(N,oe,v,null),N.flags|=2),N.return=f,w.return=f,w.sibling=N,f.child=w,w=N,N=f.child,oe=u.child.memoizedState,oe===null?oe=R0(v):(Me=oe.cachePool,Me!==null?(O=wo?Qn._currentValue:Qn._currentValue2,Me=Me.parent!==O?{parent:O,pool:O}:Me):Me=fy(),oe={baseLanes:oe.baseLanes|v,cachePool:Me}),N.memoizedState=oe,N.childLanes=D0(u,Z,v),f.memoizedState=Xs,w):(Lt(f),v=u.child,u=v.sibling,v=Vs(v,{mode:"visible",children:w.children}),v.return=f,v.sibling=null,u!==null&&(Z=f.deletions,Z===null?(f.deletions=[u],f.flags|=16):Z.push(u)),f.child=v,f.memoizedState=null,v)}function id(u,f){return f=L0({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function L0(u,f){return mp(u,f,0,null)}function O0(u,f,v){return nc(f,u.child,null,v),u=id(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function ly(u,f,v){u.lanes|=f;var w=u.alternate;w!==null&&(w.lanes|=f),z0(u.return,f,v)}function $h(u,f,v,w,N){var O=u.memoizedState;O===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:v,tailMode:N}:(O.isBackwards=f,O.rendering=null,O.renderingStartTime=0,O.last=w,O.tail=v,O.tailMode=N)}function cy(u,f,v){var w=f.pendingProps,N=w.revealOrder,O=w.tail;if(ws(u,f,w.children,v),w=Ki.current,(w&2)!==0)w=w&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&ly(u,v,f);else if(u.tag===19)ly(u,v,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}w&=1}switch(D(Ki,w),N){case"forwards":for(v=f.child,N=null;v!==null;)u=v.alternate,u!==null&&jn(u)===null&&(N=v),v=v.sibling;v=N,v===null?(N=f.child,f.child=null):(N=v.sibling,v.sibling=null),$h(f,!1,N,v,O);break;case"backwards":for(v=null,N=f.child,f.child=null;N!==null;){if(u=N.alternate,u!==null&&jn(u)===null){f.child=N;break}u=N.sibling,N.sibling=v,v=N,N=u}$h(f,!0,v,null,O);break;case"together":$h(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Zo(u,f,v){if(u!==null&&(f.dependencies=u.dependencies),Qa|=f.lanes,(v&f.childLanes)===0)if(u!==null){if(Rc(u,f,v,!1),(v&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(s(153));if(f.child!==null){for(u=f.child,v=Vs(u,u.pendingProps),f.child=v,v.return=f;u.sibling!==null;)u=u.sibling,v=v.sibling=Vs(u,u.pendingProps),v.return=f;v.sibling=null}return f.child}function U0(u,f){return(u.lanes&f)!==0?!0:(u=u.dependencies,!!(u!==null&&Ul(u)))}function s2(u,f,v){switch(f.tag){case 3:ye(f,f.stateNode.containerInfo),Ol(f,Qn,u.memoizedState.cache),Gt();break;case 27:case 5:pe(f);break;case 4:ye(f,f.stateNode.containerInfo);break;case 10:Ol(f,f.type,f.memoizedProps.value);break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(Lt(f),f.flags|=128,null):(v&f.child.childLanes)!==0?oy(u,f,v):(Lt(f),u=Zo(u,f,v),u!==null?u.sibling:null);Lt(f);break;case 19:var N=(u.flags&128)!==0;if(w=(v&f.childLanes)!==0,w||(Rc(u,f,v,!1),w=(v&f.childLanes)!==0),N){if(w)return cy(u,f,v);f.flags|=128}if(N=f.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),D(Ki,Ki.current),w)break;return null;case 22:case 23:return f.lanes=0,iy(u,f,v);case 24:Ol(f,Qn,u.memoizedState.cache)}return Zo(u,f,v)}function uy(u,f,v){if(u!==null)if(u.memoizedProps!==f.pendingProps)Fi=!0;else{if(!U0(u,v)&&(f.flags&128)===0)return Fi=!1,s2(u,f,v);Fi=(u.flags&131072)!==0}else Fi=!1,Fn&&(f.flags&1048576)!==0&&W(f,Cd,f.index);switch(f.lanes=0,f.tag){case 16:e:{u=f.pendingProps;var w=f.elementType,N=w._init;if(w=N(w._payload),f.type=w,typeof w=="function")tl(w)?(u=Vr(w,u),f.tag=1,f=N0(null,f,w,u,v)):(f.tag=0,f=C0(null,f,w,u,v));else{if(w!=null){if(N=w.$$typeof,N===Vu){f.tag=11,f=ty(null,f,w,u,v);break e}else if(N===pd){f.tag=14,f=ny(null,f,w,u,v);break e}}throw f=o(w)||w,Error(s(306,f,""))}}return f;case 0:return C0(u,f,f.type,f.pendingProps,v);case 1:return w=f.type,N=Vr(w,f.pendingProps),N0(u,f,w,N,v);case 3:e:{if(ye(f,f.stateNode.containerInfo),u===null)throw Error(s(387));var O=f.pendingProps;N=f.memoizedState,w=N.element,ee(u,f),Dt(f,O,null,v);var Z=f.memoizedState;if(O=Z.cache,Ol(f,Qn,O),O!==N.cache&&P0(f,[Qn],v,!0),ot(),O=Z.element,ta&&N.isDehydrated)if(N={element:O,isDehydrated:!1,cache:Z.cache},f.updateQueue.baseState=N,f.memoizedState=N,f.flags&256){f=ry(u,f,O,v);break e}else if(O!==w){w=ce(Error(s(424)),f),et(w),f=ry(u,f,O,v);break e}else for(ta&&(Ds=Ly(f.stateNode.containerInfo),Hs=f,Fn=!0,qa=null,gr=!0),v=Px(f,null,O,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Gt(),O===w){f=Zo(u,f,v);break e}ws(u,f,O,v)}f=f.child}return f;case 26:if(ka)return nd(u,f),u===null?(v=Dp(f.type,null,f.pendingProps,null))?f.memoizedState=v:Fn||(f.stateNode=c2(f.type,f.pendingProps,Wr.current,f)):f.memoizedState=Dp(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:if(Ns)return pe(f),u===null&&Ns&&Fn&&(w=f.stateNode=Lx(f.type,f.pendingProps,Wr.current,gs.current,!1),Hs=f,gr=!0,Ds=Ap(w)),w=f.pendingProps.children,u!==null||Fn?ws(u,f,w,v):f.child=nc(f,null,w,v),nd(u,f),f.child;case 5:return u===null&&Fn&&(Vy(f.type,f.pendingProps,gs.current),(N=w=Ds)&&(w=Uy(w,f.type,f.pendingProps,gr),w!==null?(f.stateNode=w,Hs=f,Ds=Ap(w),gr=!1,N=!0):N=!1),N||We(f)),pe(f),N=f.type,O=f.pendingProps,Z=u!==null?u.memoizedProps:null,w=O.children,Ql(N,O)?w=null:Z!==null&&Ql(N,Z)&&(f.flags|=32),f.memoizedState!==null&&(N=mn(u,f,Ms,null,null,v),wo?Kt._currentValue=N:Kt._currentValue2=N),nd(u,f),ws(u,f,w,v),f.child;case 6:return u===null&&Fn&&(ky(f.pendingProps,gs.current),(u=v=Ds)&&(v=zy(v,f.pendingProps,gr),v!==null?(f.stateNode=v,Hs=f,Ds=null,u=!0):u=!1),u||We(f)),null;case 13:return oy(u,f,v);case 4:return ye(f,f.stateNode.containerInfo),w=f.pendingProps,u===null?f.child=nc(f,null,w,v):ws(u,f,w,v),f.child;case 11:return ty(u,f,f.type,f.pendingProps,v);case 7:return ws(u,f,f.pendingProps,v),f.child;case 8:return ws(u,f,f.pendingProps.children,v),f.child;case 12:return ws(u,f,f.pendingProps.children,v),f.child;case 10:return w=f.pendingProps,Ol(f,f.type,w.value),ws(u,f,w.children,v),f.child;case 9:return N=f.type._context,w=f.pendingProps.children,Dc(f),N=Es(N),w=w(N),f.flags|=1,ws(u,f,w,v),f.child;case 14:return ny(u,f,f.type,f.pendingProps,v);case 15:return Jh(u,f,f.type,f.pendingProps,v);case 19:return cy(u,f,v);case 22:return iy(u,f,v);case 24:return Dc(f),w=Es(Qn),u===null?(N=zl(),N===null&&(N=bn,O=ep(),N.pooledCache=O,O.refCount++,O!==null&&(N.pooledCacheLanes|=v),N=O),f.memoizedState={parent:w,cache:N},wt(f),Ol(f,Qn,N)):((u.lanes&v)!==0&&(ee(u,f),Dt(f,null,null,v),ot()),N=u.memoizedState,O=f.memoizedState,N.parent!==w?(N={parent:w,cache:w},f.memoizedState=N,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=N),Ol(f,Qn,w)):(w=O.cache,Ol(f,Qn,w),w!==N.cache&&P0(f,[Qn],v,!0))),ws(u,f,f.pendingProps.children,v),f.child;case 29:throw f.pendingProps}throw Error(s(156,f.tag))}function Ol(u,f,v){wo?(D(va,f._currentValue),f._currentValue=v):(D(va,f._currentValue2),f._currentValue2=v)}function Ko(u){var f=va.current;wo?u._currentValue=f:u._currentValue2=f,M(va)}function z0(u,f,v){for(;u!==null;){var w=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),u===v)break;u=u.return}}function P0(u,f,v,w){var N=u.child;for(N!==null&&(N.return=u);N!==null;){var O=N.dependencies;if(O!==null){var Z=N.child;O=O.firstContext;e:for(;O!==null;){var oe=O;O=N;for(var Me=0;Me<f.length;Me++)if(oe.context===f[Me]){O.lanes|=v,oe=O.alternate,oe!==null&&(oe.lanes|=v),z0(O.return,v,u),w||(Z=null);break e}O=oe.next}}else if(N.tag===18){if(Z=N.return,Z===null)throw Error(s(341));Z.lanes|=v,O=Z.alternate,O!==null&&(O.lanes|=v),z0(Z,v,u),Z=null}else Z=N.child;if(Z!==null)Z.return=N;else for(Z=N;Z!==null;){if(Z===u){Z=null;break}if(N=Z.sibling,N!==null){N.return=Z.return,Z=N;break}Z=Z.return}N=Z}}function Rc(u,f,v,w){u=null;for(var N=f,O=!1;N!==null;){if(!O){if((N.flags&524288)!==0)O=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var Z=N.alternate;if(Z===null)throw Error(s(387));if(Z=Z.memoizedProps,Z!==null){var oe=N.type;Ha(N.pendingProps.value,Z.value)||(u!==null?u.push(oe):u=[oe])}}else if(N===Yu.current){if(Z=N.alternate,Z===null)throw Error(s(387));Z.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(u!==null?u.push(Kt):u=[Kt])}N=N.return}u!==null&&P0(f,u,v,w),f.flags|=262144}function Ul(u){for(u=u.firstContext;u!==null;){var f=u.context;if(!Ha(wo?f._currentValue:f._currentValue2,u.memoizedValue))return!0;u=u.next}return!1}function Dc(u){sc=u,Ui=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Es(u){return B0(sc,u)}function sd(u,f){return sc===null&&Dc(u),B0(u,f)}function B0(u,f){var v=wo?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:v,next:null},Ui===null){if(u===null)throw Error(s(308));Ui=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else Ui=Ui.next=f;return v}function ep(){return{controller:new Jy,data:new Map,refCount:0}}function Eu(u){u.refCount--,u.refCount===0&&fl(Wc,function(){u.controller.abort()})}function zl(){var u=dl.current;return u!==null?u:bn.pooledCache}function tp(u,f){f===null?D(dl,dl.current):D(dl,f.pool)}function fy(){var u=zl();return u===null?null:{parent:wo?Qn._currentValue:Qn._currentValue2,pool:u}}function Ba(u){u.flags|=4}function I0(u,f){if(u!==null&&u.child===f.child)return!1;if((f.flags&16)!==0)return!0;for(u=f.child;u!==null;){if((u.flags&13878)!==0||(u.subtreeFlags&13878)!==0)return!0;u=u.sibling}return!1}function np(u,f,v,w){if(Cs)for(v=f.child;v!==null;){if(v.tag===5||v.tag===6)To(u,v.stateNode);else if(!(v.tag===4||Ns&&v.tag===27)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}else if(Fa)for(var N=f.child;N!==null;){if(N.tag===5){var O=N.stateNode;v&&w&&(O=yx(O,N.type,N.memoizedProps)),To(u,O)}else if(N.tag===6)O=N.stateNode,v&&w&&(O=_x(O,N.memoizedProps)),To(u,O);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)O=N.child,O!==null&&(O.return=N),np(u,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===f)break;for(;N.sibling===null;){if(N.return===null||N.return===f)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function Au(u,f,v,w){if(Fa)for(var N=f.child;N!==null;){if(N.tag===5){var O=N.stateNode;v&&w&&(O=yx(O,N.type,N.memoizedProps)),gx(u,O)}else if(N.tag===6)O=N.stateNode,v&&w&&(O=_x(O,N.memoizedProps)),gx(u,O);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)O=N.child,O!==null&&(O.return=N),Au(u,N,!(N.memoizedProps!==null&&N.memoizedProps.mode==="manual"),!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===f)break;for(;N.sibling===null;){if(N.return===null||N.return===f)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function Cu(u,f){if(Fa&&I0(u,f)){u=f.stateNode;var v=u.containerInfo,w=wp();Au(w,f,!1,!1),u.pendingChildren=w,Ba(f),Cy(v,w)}}function j0(u,f,v,w){if(Cs)u.memoizedProps!==w&&Ba(f);else if(Fa){var N=u.stateNode,O=u.memoizedProps;if((u=I0(u,f))||O!==w){var Z=gs.current;O=xx(N,v,O,w,!u,null),O===N?f.stateNode=N:(al(O,v,w,Z)&&Ba(f),f.stateNode=O,u?np(O,f,!1,!1):Ba(f))}else f.stateNode=N}}function Nu(u,f,v){if(wy(f,v)){if(u.flags|=16777216,!rl(f,v))if(ud())u.flags|=8192;else throw qc=Pp,zx}else u.flags&=-16777217}function F0(u,f){if(Hy(f)){if(u.flags|=16777216,!Rx(f))if(ud())u.flags|=8192;else throw qc=Pp,zx}else u.flags&=-16777217}function ad(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?P():536870912,u.lanes|=f,pl|=f)}function Lc(u,f){if(!Fn)switch(u.tailMode){case"hidden":f=u.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function _i(u){var f=u.alternate!==null&&u.alternate.child===u.child,v=0,w=0;if(f)for(var N=u.child;N!==null;)v|=N.lanes|N.childLanes,w|=N.subtreeFlags&31457280,w|=N.flags&31457280,N.return=u,N=N.sibling;else for(N=u.child;N!==null;)v|=N.lanes|N.childLanes,w|=N.subtreeFlags,w|=N.flags,N.return=u,N=N.sibling;return u.subtreeFlags|=w,u.childLanes=v,f}function dy(u,f,v){var w=f.pendingProps;switch(he(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _i(f),null;case 1:return _i(f),null;case 3:return v=f.stateNode,w=null,u!==null&&(w=u.memoizedState.cache),f.memoizedState.cache!==w&&(f.flags|=2048),Ko(Qn),Pe(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(u===null||u.child===null)&&(vt(f)?Ba(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,qa!==null&&(Jo(qa),qa=null))),Cu(u,f),_i(f),null;case 26:if(ka){v=f.type;var N=f.memoizedState;return u===null?(Ba(f),N!==null?(_i(f),F0(f,N)):(_i(f),Nu(f,v,w))):N?N!==u.memoizedState?(Ba(f),_i(f),F0(f,N)):(_i(f),f.flags&=-16777217):(Cs?u.memoizedProps!==w&&Ba(f):j0(u,f,v,w),_i(f),Nu(f,v,w)),null}case 27:if(Ns){if(_e(f),v=Wr.current,N=f.type,u!==null&&f.stateNode!=null)Cs?u.memoizedProps!==w&&Ba(f):j0(u,f,N,w);else{if(!w){if(f.stateNode===null)throw Error(s(166));return _i(f),null}u=gs.current,vt(f)?tt(f,u):(u=Lx(N,w,v,u,!0),f.stateNode=u,Ba(f))}return _i(f),null}case 5:if(_e(f),v=f.type,u!==null&&f.stateNode!=null)j0(u,f,v,w);else{if(!w){if(f.stateNode===null)throw Error(s(166));return _i(f),null}u=gs.current,vt(f)?tt(f,u):(N=ax(v,w,Wr.current,u,f),np(N,f,!1,!1),f.stateNode=N,al(N,v,w,u)&&Ba(f))}return _i(f),Nu(f,f.type,f.pendingProps),null;case 6:if(u&&f.stateNode!=null)v=u.memoizedProps,Cs?v!==w&&Ba(f):Fa&&(v!==w?(f.stateNode=yp(w,Wr.current,gs.current,f),Ba(f)):f.stateNode=u.stateNode);else{if(typeof w!="string"&&f.stateNode===null)throw Error(s(166));if(u=Wr.current,v=gs.current,vt(f)){if(!ta)throw Error(s(176));if(u=f.stateNode,v=f.memoizedProps,w=null,N=Hs,N!==null)switch(N.tag){case 27:case 5:w=N.memoizedProps}By(u,v,f,w)||We(f)}else f.stateNode=yp(w,u,v,f)}return _i(f),null;case 13:if(w=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(N=vt(f),w!==null&&w.dehydrated!==null){if(u===null){if(!N)throw Error(s(318));if(!ta)throw Error(s(344));if(N=f.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(s(317));Hu(N,f)}else Gt(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;_i(f),N=!1}else qa!==null&&(Jo(qa),qa=null),N=!0;if(!N)return f.flags&256?(Nn(f),f):(Nn(f),null)}if(Nn(f),(f.flags&128)!==0)return f.lanes=v,f;if(v=w!==null,u=u!==null&&u.memoizedState!==null,v){w=f.child,N=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(N=w.alternate.memoizedState.cachePool.pool);var O=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(O=w.memoizedState.cachePool.pool),O!==N&&(w.flags|=2048)}return v!==u&&v&&(f.child.flags|=8192),ad(f,f.updateQueue),_i(f),null;case 4:return Pe(),Cu(u,f),u===null&&lx(f.stateNode.containerInfo),_i(f),null;case 10:return Ko(f.type),_i(f),null;case 19:if(M(Ki),N=f.memoizedState,N===null)return _i(f),null;if(w=(f.flags&128)!==0,O=N.rendering,O===null)if(w)Lc(N,!1);else{if(Pn!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(O=jn(u),O!==null){for(f.flags|=128,Lc(N,!1),u=O.updateQueue,f.updateQueue=u,ad(f,u),f.subtreeFlags=0,u=v,v=f.child;v!==null;)nl(v,u),v=v.sibling;return D(Ki,Ki.current&1|2),f.child}u=u.sibling}N.tail!==null&&Rs()>Ci&&(f.flags|=128,w=!0,Lc(N,!1),f.lanes=4194304)}else{if(!w)if(u=jn(O),u!==null){if(f.flags|=128,w=!0,u=u.updateQueue,f.updateQueue=u,ad(f,u),Lc(N,!0),N.tail===null&&N.tailMode==="hidden"&&!O.alternate&&!Fn)return _i(f),null}else 2*Rs()-N.renderingStartTime>Ci&&v!==536870912&&(f.flags|=128,w=!0,Lc(N,!1),f.lanes=4194304);N.isBackwards?(O.sibling=f.child,f.child=O):(u=N.last,u!==null?u.sibling=O:f.child=O,N.last=O)}return N.tail!==null?(f=N.tail,N.rendering=f,N.tail=f.sibling,N.renderingStartTime=Rs(),f.sibling=null,u=Ki.current,D(Ki,w?u&1|2:u&1),f):(_i(f),null);case 22:case 23:return Nn(f),Ut(),w=f.memoizedState!==null,u!==null?u.memoizedState!==null!==w&&(f.flags|=8192):w&&(f.flags|=8192),w?(v&536870912)!==0&&(f.flags&128)===0&&(_i(f),f.subtreeFlags&6&&(f.flags|=8192)):_i(f),v=f.updateQueue,v!==null&&ad(f,v.retryQueue),v=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),w=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==v&&(f.flags|=2048),u!==null&&M(dl),null;case 24:return v=null,u!==null&&(v=u.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),Ko(Qn),_i(f),null;case 25:return null}throw Error(s(156,f.tag))}function hy(u,f){switch(he(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Ko(Qn),Pe(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return _e(f),null;case 13:if(Nn(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(s(340));Gt()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return M(Ki),null;case 4:return Pe(),null;case 10:return Ko(f.type),null;case 22:case 23:return Nn(f),Ut(),u!==null&&M(dl),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return Ko(Qn),null;case 25:return null;default:return null}}function V0(u,f){switch(he(f),f.tag){case 3:Ko(Qn),Pe();break;case 26:case 27:case 5:_e(f);break;case 4:Pe();break;case 13:Nn(f);break;case 19:M(Ki);break;case 10:Ko(f.type);break;case 22:case 23:Nn(f),Ut(),u!==null&&M(dl);break;case 24:Ko(Qn)}}function rd(u,f){try{var v=f.updateQueue,w=v!==null?v.lastEffect:null;if(w!==null){var N=w.next;v=N;do{if((v.tag&u)===u){w=void 0;var O=v.create,Z=v.inst;w=O(),Z.destroy=w}v=v.next}while(v!==N)}}catch(oe){wn(f,f.return,oe)}}function Pl(u,f,v){try{var w=f.updateQueue,N=w!==null?w.lastEffect:null;if(N!==null){var O=N.next;w=O;do{if((w.tag&u)===u){var Z=w.inst,oe=Z.destroy;if(oe!==void 0){Z.destroy=void 0,N=f;var Me=v;try{oe()}catch(ke){wn(N,Me,ke)}}}w=w.next}while(w!==O)}}catch(ke){wn(f,f.return,ke)}}function py(u){var f=u.updateQueue;if(f!==null){var v=u.stateNode;try{st(f,v)}catch(w){wn(u,u.return,w)}}}function my(u,f,v){v.props=Vr(u.type,u.memoizedProps),v.state=u.memoizedState;try{v.componentWillUnmount()}catch(w){wn(u,f,w)}}function Oc(u,f){try{var v=u.ref;if(v!==null){var w=u.stateNode;switch(u.tag){case 26:case 27:case 5:var N=ku(w);break;default:N=w}typeof v=="function"?u.refCleanup=v(N):v.current=N}}catch(O){wn(u,f,O)}}function bi(u,f){var v=u.ref,w=u.refCleanup;if(v!==null)if(typeof w=="function")try{w()}catch(N){wn(u,f,N)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(N){wn(u,f,N)}else v.current=null}function Ru(u){var f=u.type,v=u.memoizedProps,w=u.stateNode;try{r2(w,f,v,u)}catch(N){wn(u,u.return,N)}}function k0(u,f,v){try{dx(u.stateNode,u.type,v,f,u)}catch(w){wn(u,u.return,w)}}function H0(u){return u.tag===5||u.tag===3||(ka?u.tag===26:!1)||(Ns?u.tag===27:!1)||u.tag===4}function ip(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||H0(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&(!Ns||u.tag!==27)&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function sp(u,f,v){var w=u.tag;if(w===5||w===6)u=u.stateNode,f?px(v,u,f):Ey(v,u);else if(!(w===4||Ns&&w===27)&&(u=u.child,u!==null))for(sp(u,f,v),u=u.sibling;u!==null;)sp(u,f,v),u=u.sibling}function Du(u,f,v){var w=u.tag;if(w===5||w===6)u=u.stateNode,f?hx(v,u,f):fx(v,u);else if(!(w===4||Ns&&w===27)&&(u=u.child,u!==null))for(Du(u,f,v),u=u.sibling;u!==null;)Du(u,f,v),u=u.sibling}function xy(u,f,v){u=u.containerInfo;try{vx(u,v)}catch(w){wn(f,f.return,w)}}function Lu(u,f){for(Kl(u.containerInfo),zi=f;zi!==null;)if(u=zi,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,zi=f;else for(;zi!==null;){u=zi;var v=u.alternate;switch(f=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&v!==null){f=void 0;var w=u,N=v.memoizedProps;v=v.memoizedState;var O=w.stateNode;try{var Z=Vr(w.type,N,w.elementType===w.type);f=O.getSnapshotBeforeUpdate(Z,v),O.__reactInternalSnapshotBeforeUpdate=f}catch(oe){wn(w,w.return,oe)}}break;case 3:(f&1024)!==0&&Cs&&Tp(u.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(s(163))}if(f=u.sibling,f!==null){f.return=u.return,zi=f;break}zi=u.return}return Z=Yc,Yc=!1,Z}function ap(u,f,v){var w=v.flags;switch(v.tag){case 0:case 11:case 15:vo(u,v),w&4&&rd(5,v);break;case 1:if(vo(u,v),w&4)if(u=v.stateNode,f===null)try{u.componentDidMount()}catch(oe){wn(v,v.return,oe)}else{var N=Vr(v.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(N,f,u.__reactInternalSnapshotBeforeUpdate)}catch(oe){wn(v,v.return,oe)}}w&64&&py(v),w&512&&Oc(v,v.return);break;case 3:if(vo(u,v),w&64&&(w=v.updateQueue,w!==null)){if(u=null,v.child!==null)switch(v.child.tag){case 27:case 5:u=ku(v.child.stateNode);break;case 1:u=v.child.stateNode}try{st(w,u)}catch(oe){wn(v,v.return,oe)}}break;case 26:if(ka){vo(u,v),w&512&&Oc(v,v.return);break}case 27:case 5:vo(u,v),f===null&&w&4&&Ru(v),w&512&&Oc(v,v.return);break;case 12:vo(u,v);break;case 13:vo(u,v),w&4&&Bl(u,v);break;case 22:if(N=v.memoizedState!==null||os,!N){f=f!==null&&f.memoizedState!==null||Ai;var O=os,Z=Ai;os=N,(Ai=f)&&!Z?jl(u,v,(v.subtreeFlags&8772)!==0):vo(u,v),os=O,Ai=Z}w&512&&(v.memoizedProps.mode==="manual"?Oc(v,v.return):bi(v,v.return));break;default:vo(u,v)}}function Ou(u){var f=u.alternate;f!==null&&(u.alternate=null,Ou(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&cx(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function Ia(u,f,v){for(v=v.child;v!==null;)rp(u,f,v),v=v.sibling}function rp(u,f,v){if(xa&&typeof xa.onCommitFiberUnmount=="function")try{xa.onCommitFiberUnmount(Wu,v)}catch{}switch(v.tag){case 26:if(ka){Ai||bi(v,f),Ia(u,f,v),v.memoizedState?wx(v.memoizedState):v.stateNode&&Cx(v.stateNode);break}case 27:if(Ns){Ai||bi(v,f);var w=Vi,N=ya;Vi=v.stateNode,Ia(u,f,v),Gy(v.stateNode),Vi=w,ya=N;break}case 5:Ai||bi(v,f);case 6:if(Cs){if(w=Vi,N=ya,Vi=null,Ia(u,f,v),Vi=w,ya=N,Vi!==null)if(ya)try{Ii(Vi,v.stateNode)}catch(O){wn(v,f,O)}else try{na(Vi,v.stateNode)}catch(O){wn(v,f,O)}}else Ia(u,f,v);break;case 18:Cs&&Vi!==null&&(ya?Sx(Vi,v.stateNode):jy(Vi,v.stateNode));break;case 4:Cs?(w=Vi,N=ya,Vi=v.stateNode.containerInfo,ya=!0,Ia(u,f,v),Vi=w,ya=N):(Fa&&xy(v.stateNode,v,wp()),Ia(u,f,v));break;case 0:case 11:case 14:case 15:Ai||Pl(2,v,f),Ai||Pl(4,v,f),Ia(u,f,v);break;case 1:Ai||(bi(v,f),w=v.stateNode,typeof w.componentWillUnmount=="function"&&my(v,f,w)),Ia(u,f,v);break;case 21:Ia(u,f,v);break;case 22:Ai||bi(v,f),Ai=(w=Ai)||v.memoizedState!==null,Ia(u,f,v),Ai=w;break;default:Ia(u,f,v)}}function Bl(u,f){if(ta&&f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Np(u)}catch(v){wn(f,f.return,v)}}function Uu(u){switch(u.tag){case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new $u),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new $u),f;default:throw Error(s(435,u.tag))}}function od(u,f){var v=Uu(u);f.forEach(function(w){var N=Y0.bind(null,u,w);v.has(w)||(v.add(w),w.then(N,N))})}function Js(u,f){var v=f.deletions;if(v!==null)for(var w=0;w<v.length;w++){var N=v[w],O=u,Z=f;if(Cs){var oe=Z;e:for(;oe!==null;){switch(oe.tag){case 27:case 5:Vi=oe.stateNode,ya=!1;break e;case 3:Vi=oe.stateNode.containerInfo,ya=!0;break e;case 4:Vi=oe.stateNode.containerInfo,ya=!0;break e}oe=oe.return}if(Vi===null)throw Error(s(160));rp(O,Z,N),Vi=null,ya=!1}else rp(O,Z,N);O=N.alternate,O!==null&&(O.return=null),N.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)Il(f,u),f=f.sibling}function Il(u,f){var v=u.alternate,w=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Js(f,u),fa(u),w&4&&(Pl(3,u,u.return),rd(3,u),Pl(5,u,u.return));break;case 1:Js(f,u),fa(u),w&512&&(Ai||v===null||bi(v,v.return)),w&64&&os&&(u=u.updateQueue,u!==null&&(w=u.callbacks,w!==null&&(v=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=v===null?w:v.concat(w))));break;case 26:if(ka){var N=ia;Js(f,u),fa(u),w&512&&(Ai||v===null||bi(v,v.return)),w&4&&(w=v!==null?v.memoizedState:null,f=u.memoizedState,v===null?f===null?u.stateNode===null?u.stateNode=Ex(N,u.type,u.memoizedProps,u):Ax(N,u.type,u.stateNode):u.stateNode=Tx(N,f,u.memoizedProps):w!==f?(w===null?v.stateNode!==null&&Cx(v.stateNode):wx(w),f===null?Ax(N,u.type,u.stateNode):Tx(N,f,u.memoizedProps)):f===null&&u.stateNode!==null&&k0(u,u.memoizedProps,v.memoizedProps));break}case 27:if(Ns&&w&4&&u.alternate===null){N=u.stateNode;var O=u.memoizedProps;try{u2(N),f2(u.type,O,N,u)}catch(rt){wn(u,u.return,rt)}}case 5:if(Js(f,u),fa(u),w&512&&(Ai||v===null||bi(v,v.return)),Cs){if(u.flags&32){f=u.stateNode;try{_d(f)}catch(rt){wn(u,u.return,rt)}}w&4&&u.stateNode!=null&&(f=u.memoizedProps,k0(u,f,v!==null?v.memoizedProps:f)),w&1024&&(ac=!0)}break;case 6:if(Js(f,u),fa(u),w&4&&Cs){if(u.stateNode===null)throw Error(s(162));w=u.memoizedProps,v=v!==null?v.memoizedProps:w,f=u.stateNode;try{Ay(f,v,w)}catch(rt){wn(u,u.return,rt)}}break;case 3:if(ka?(Nx(),N=ia,ia=Rp(f.containerInfo),Js(f,u),ia=N):Js(f,u),fa(u),w&4){if(Cs&&ta&&v!==null&&v.memoizedState.isDehydrated)try{Cp(f.containerInfo)}catch(rt){wn(u,u.return,rt)}if(Fa){w=f.containerInfo,v=f.pendingChildren;try{vx(w,v)}catch(rt){wn(u,u.return,rt)}}}ac&&(ac=!1,G0(u));break;case 4:ka?(v=ia,ia=Rp(u.stateNode.containerInfo),Js(f,u),fa(u),ia=v):(Js(f,u),fa(u)),w&4&&Fa&&xy(u.stateNode,u,u.stateNode.pendingChildren);break;case 12:Js(f,u),fa(u);break;case 13:Js(f,u),fa(u),u.child.flags&8192&&u.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(Lo=Rs()),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,od(u,w)));break;case 22:w&512&&(Ai||v===null||bi(v,v.return)),N=u.memoizedState!==null;var Z=v!==null&&v.memoizedState!==null,oe=os,Me=Ai;if(os=oe||N,Ai=Me||Z,Js(f,u),Ai=Me,os=oe,fa(u),f=u.stateNode,f._current=u,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,w&8192&&(f._visibility=N?f._visibility&-2:f._visibility|1,N&&(f=os||Ai,v===null||Z||f||zu(u)),Cs&&(u.memoizedProps===null||u.memoizedProps.mode!=="manual"))){e:if(v=null,Cs)for(f=u;;){if(f.tag===5||ka&&f.tag===26||Ns&&f.tag===27){if(v===null){Z=v=f;try{O=Z.stateNode,N?bd(O):mx(Z.stateNode,Z.memoizedProps)}catch(rt){wn(Z,Z.return,rt)}}}else if(f.tag===6){if(v===null){Z=f;try{var ke=Z.stateNode;N?Mp(ke):ol(ke,Z.memoizedProps)}catch(rt){wn(Z,Z.return,rt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;v===f&&(v=null),f=f.return}v===f&&(v=null),f.sibling.return=f.return,f=f.sibling}}w&4&&(w=u.updateQueue,w!==null&&(v=w.retryQueue,v!==null&&(w.retryQueue=null,od(u,v))));break;case 19:Js(f,u),fa(u),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,od(u,w)));break;case 21:break;default:Js(f,u),fa(u)}}function fa(u){var f=u.flags;if(f&2){try{if(Cs&&(!Ns||u.tag!==27)){e:{for(var v=u.return;v!==null;){if(H0(v)){var w=v;break e}v=v.return}throw Error(s(160))}switch(w.tag){case 27:if(Ns){var N=w.stateNode,O=ip(u);Du(u,O,N);break}case 5:var Z=w.stateNode;w.flags&32&&(_d(Z),w.flags&=-33);var oe=ip(u);Du(u,oe,Z);break;case 3:case 4:var Me=w.stateNode.containerInfo,ke=ip(u);sp(u,ke,Me);break;default:throw Error(s(161))}}}catch(rt){wn(u,u.return,rt)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function G0(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;G0(f),f.tag===5&&f.flags&1024&&ai(f.stateNode),u=u.sibling}}function vo(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)ap(u,f.alternate,f),f=f.sibling}function zu(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:Pl(4,f,f.return),zu(f);break;case 1:bi(f,f.return);var v=f.stateNode;typeof v.componentWillUnmount=="function"&&my(f,f.return,v),zu(f);break;case 26:case 27:case 5:bi(f,f.return),zu(f);break;case 22:bi(f,f.return),f.memoizedState===null&&zu(f);break;default:zu(f)}u=u.sibling}}function jl(u,f,v){for(v=v&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var w=f.alternate,N=u,O=f,Z=O.flags;switch(O.tag){case 0:case 11:case 15:jl(N,O,v),rd(4,O);break;case 1:if(jl(N,O,v),w=O,N=w.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(ke){wn(w,w.return,ke)}if(w=O,N=w.updateQueue,N!==null){var oe=w.stateNode;try{var Me=N.shared.hiddenCallbacks;if(Me!==null)for(N.shared.hiddenCallbacks=null,N=0;N<Me.length;N++)ne(Me[N],oe)}catch(ke){wn(w,w.return,ke)}}v&&Z&64&&py(O),Oc(O,O.return);break;case 26:case 27:case 5:jl(N,O,v),v&&w===null&&Z&4&&Ru(O),Oc(O,O.return);break;case 12:jl(N,O,v);break;case 13:jl(N,O,v),v&&Z&4&&Bl(N,O);break;case 22:O.memoizedState===null&&jl(N,O,v),Oc(O,O.return);break;default:jl(N,O,v)}f=f.sibling}}function X0(u,f){var v=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==v&&(u!=null&&u.refCount++,v!=null&&Eu(v))}function op(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Eu(u))}function Qo(u,f,v,w){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)lp(u,f,v,w),f=f.sibling}function lp(u,f,v,w){var N=f.flags;switch(f.tag){case 0:case 11:case 15:Qo(u,f,v,w),N&2048&&rd(9,f);break;case 3:Qo(u,f,v,w),N&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Eu(u)));break;case 12:if(N&2048){Qo(u,f,v,w),u=f.stateNode;try{var O=f.memoizedProps,Z=O.id,oe=O.onPostCommit;typeof oe=="function"&&oe(Z,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Me){wn(f,f.return,Me)}}else Qo(u,f,v,w);break;case 23:break;case 22:O=f.stateNode,f.memoizedState!==null?O._visibility&4?Qo(u,f,v,w):Fl(u,f):O._visibility&4?Qo(u,f,v,w):(O._visibility|=4,js(u,f,v,w,(f.subtreeFlags&10256)!==0)),N&2048&&X0(f.alternate,f);break;case 24:Qo(u,f,v,w),N&2048&&op(f.alternate,f);break;default:Qo(u,f,v,w)}}function js(u,f,v,w,N){for(N=N&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var O=u,Z=f,oe=v,Me=w,ke=Z.flags;switch(Z.tag){case 0:case 11:case 15:js(O,Z,oe,Me,N),rd(8,Z);break;case 23:break;case 22:var rt=Z.stateNode;Z.memoizedState!==null?rt._visibility&4?js(O,Z,oe,Me,N):Fl(O,Z):(rt._visibility|=4,js(O,Z,oe,Me,N)),N&&ke&2048&&X0(Z.alternate,Z);break;case 24:js(O,Z,oe,Me,N),N&&ke&2048&&op(Z.alternate,Z);break;default:js(O,Z,oe,Me,N)}f=f.sibling}}function Fl(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var v=u,w=f,N=w.flags;switch(w.tag){case 22:Fl(v,w),N&2048&&X0(w.alternate,w);break;case 24:Fl(v,w),N&2048&&op(w.alternate,w);break;default:Fl(v,w)}f=f.sibling}}function hs(u){if(u.subtreeFlags&Zc)for(u=u.child;u!==null;)Uc(u),u=u.sibling}function Uc(u){switch(u.tag){case 26:hs(u),u.flags&Zc&&(u.memoizedState!==null?Dx(ia,u.memoizedState,u.memoizedProps):Ri(u.type,u.memoizedProps));break;case 5:hs(u),u.flags&Zc&&Ri(u.type,u.memoizedProps);break;case 3:case 4:if(ka){var f=ia;ia=Rp(u.stateNode.containerInfo),hs(u),ia=f}else hs(u);break;case 22:u.memoizedState===null&&(f=u.alternate,f!==null&&f.memoizedState!==null?(f=Zc,Zc=16777216,hs(u),Zc=f):hs(u));break;default:hs(u)}}function cp(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function Vl(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var w=f[v];zi=w,kl(w,u)}cp(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)ld(u),u=u.sibling}function ld(u){switch(u.tag){case 0:case 11:case 15:Vl(u),u.flags&2048&&Pl(9,u,u.return);break;case 3:Vl(u);break;case 12:Vl(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&4&&(u.return===null||u.return.tag!==13)?(f._visibility&=-5,Pu(u)):Vl(u);break;default:Vl(u)}}function Pu(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var w=f[v];zi=w,kl(w,u)}cp(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:Pl(8,f,f.return),Pu(f);break;case 22:v=f.stateNode,v._visibility&4&&(v._visibility&=-5,Pu(f));break;default:Pu(f)}u=u.sibling}}function kl(u,f){for(;zi!==null;){var v=zi;switch(v.tag){case 0:case 11:case 15:Pl(8,v,f);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var w=v.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Eu(v.memoizedState.cache)}if(w=v.child,w!==null)w.return=v,zi=w;else e:for(v=u;zi!==null;){w=zi;var N=w.sibling,O=w.return;if(Ou(w),w===v){zi=null;break e}if(N!==null){N.return=O,zi=N;break e}zi=O}}}function up(u){var f=ox(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(s(364));return f}if(u=Hc(u),u===null)throw Error(s(362));return u.stateNode.current}function Bu(u,f){var v=u.tag;switch(f.$$typeof){case Pd:if(u.type===f.value)return!0;break;case Vp:e:{for(f=f.value,u=[u,0],v=0;v<u.length;){var w=u[v++],N=w.tag,O=u[v++],Z=f[O];if(N!==5&&N!==26&&N!==27||!Ao(w)){for(;Z!=null&&Bu(w,Z);)O++,Z=f[O];if(O===f.length){f=!0;break e}else for(w=w.child;w!==null;)u.push(w,O),w=w.sibling}}f=!1}return f;case kp:if((v===5||v===26||v===27)&&a2(u.stateNode,f.value))return!0;break;case Jn:if((v===5||v===6||v===26||v===27)&&(u=yd(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case zn:if((v===5||v===26||v===27)&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Hl(u){switch(u.$$typeof){case Pd:return"<"+(o(u.value)||"Unknown")+">";case Vp:return":has("+(Hl(u)||"")+")";case kp:return'[role="'+u.value+'"]';case Jn:return'"'+u.value+'"';case zn:return'[data-testname="'+u.value+'"]';default:throw Error(s(365))}}function gy(u,f){var v=[];u=[u,0];for(var w=0;w<u.length;){var N=u[w++],O=N.tag,Z=u[w++],oe=f[Z];if(O!==5&&O!==26&&O!==27||!Ao(N)){for(;oe!=null&&Bu(N,oe);)Z++,oe=f[Z];if(Z===f.length)v.push(N);else for(N=N.child;N!==null;)u.push(N,Z),N=N.sibling}}return v}function $s(u,f){if(!Eo)throw Error(s(363));u=up(u),u=gy(u,f),f=[],u=Array.from(u);for(var v=0;v<u.length;){var w=u[v++],N=w.tag;if(N===5||N===26||N===27)Ao(w)||f.push(w.stateNode);else for(w=w.child;w!==null;)u.push(w),w=w.sibling}return f}function ea(){if((Vt&2)!==0&&xn!==0)return xn&-xn;if(qt.T!==null){var u=ga;return u!==0?u:Be()}return mr()}function yo(){_a===0&&(_a=(xn&536870912)===0||Fn?F():536870912);var u=Za.current;return u!==null&&(u.flags|=32),_a}function Fs(u,f,v){(u===bn&&ri===2||u.cancelPendingCommit!==null)&&(Hr(u,0),kr(u,xn,_a,!1)),H(u,v),((Vt&2)===0||u!==bn)&&(u===bn&&((Vt&2)===0&&(Kr|=v),Pn===4&&kr(u,xn,_a,!1)),at(u))}function cd(u,f,v){if((Vt&6)!==0)throw Error(s(327));var w=!v&&(f&60)===0&&(f&u.expiredLanes)===0||U(u,f),N=w?So(u,f):_o(u,f,!0),O=w;do{if(N===0){Ka&&!w&&kr(u,f,0,!1);break}else if(N===6)kr(u,f,0,!$n);else{if(v=u.current.alternate,O&&!vy(v)){N=_o(u,f,!1),O=!1;continue}if(N===2){if(O=f,u.errorRecoveryDisabledLanes&O)var Z=0;else Z=u.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){f=Z;e:{var oe=u;N=ef;var Me=ta&&oe.current.memoizedState.isDehydrated;if(Me&&(Hr(oe,Z).flags|=256),Z=_o(oe,Z,!1),Z!==2){if(hl&&!Me){oe.errorRecoveryDisabledLanes|=O,Kr|=O,N=4;break e}O=Ja,Ja=N,O!==null&&Jo(O)}N=Z}if(O=!1,N!==2)continue}}if(N===1){Hr(u,0),kr(u,f,0,!0);break}e:{switch(w=u,N){case 0:case 1:throw Error(s(345));case 4:if((f&4194176)===f){kr(w,f,_a,!$n);break e}break;case 2:Ja=null;break;case 3:case 5:break;default:throw Error(s(329))}if(w.finishedWork=v,w.finishedLanes=f,(f&62914560)===f&&(O=Lo+300-Rs(),10<O)){if(kr(w,f,_a,!$n),z(w,0)!==0)break e;w.timeoutHandle=rx(fp.bind(null,w,v,Ja,Qr,tf,f,_a,Kr,pl,$n,2,-0,0),O);break e}fp(w,v,Ja,Qr,tf,f,_a,Kr,pl,$n,0,-0,0)}}break}while(!0);at(u)}function Jo(u){Ja===null?Ja=u:Ja.push.apply(Ja,u)}function fp(u,f,v,w,N,O,Z,oe,Me,ke,rt,_t,Mt){var sn=f.subtreeFlags;if((sn&8192||(sn&16785408)===16785408)&&(Va(),Uc(f),f=_p(),f!==null)){u.cancelPendingCommit=f(pi.bind(null,u,v,w,N,Z,oe,Me,1,_t,Mt)),kr(u,O,Z,!ke);return}pi(u,v,w,N,Z,oe,Me,rt,_t,Mt)}function vy(u){for(var f=u;;){var v=f.tag;if((v===0||v===11||v===15)&&f.flags&16384&&(v=f.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var w=0;w<v.length;w++){var N=v[w],O=N.getSnapshot;N=N.value;try{if(!Ha(O(),N))return!1}catch{return!1}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function kr(u,f,v,w){f&=~qs,f&=~Kr,u.suspendedLanes|=f,u.pingedLanes&=~f,w&&(u.warmLanes|=f),w=u.expirationTimes;for(var N=f;0<N;){var O=31-ma(N),Z=1<<O;w[O]=-1,N&=~Z}v!==0&&ie(u,v,f)}function q0(){return(Vt&6)===0?(Ye(0),!1):!0}function da(){if(rn!==null){if(ri===0)var u=rn.return;else u=rn,Ui=sc=null,yi(u),No=null,vr=0,u=rn;for(;u!==null;)V0(u.alternate,u),u=u.return;rn=null}}function Hr(u,f){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;v!==kc&&(u.timeoutHandle=kc,vd(v)),v=u.cancelPendingCommit,v!==null&&(u.cancelPendingCommit=null,v()),da(),bn=u,rn=v=Vs(u.current,null),xn=f,ri=0,ki=null,$n=!1,Ka=U(u,f),hl=!1,pl=_a=qs=Kr=Qa=Pn=0,Ja=ef=null,tf=!1,(f&8)!==0&&(f|=f&32);var w=u.entangledLanes;if(w!==0)for(u=u.entanglements,w&=f;0<w;){var N=31-ma(w),O=1<<N;f|=u[N],w&=~O}return Zr=f,Ce(),v}function zc(u,f){cn=null,qt.H=Vn,f===ni?(f=xt(),ri=3):f===zx?(f=xt(),ri=4):ri=f===Qy?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,ki=f,rn===null&&(Pn=1,Kh(u,ce(f,u.current)))}function ud(){var u=Za.current;return u===null?!0:(xn&4194176)===xn?yr===null:(xn&62914560)===xn||(xn&536870912)!==0?u===yr:!1}function Iu(){var u=qt.H;return qt.H=Vn,u===null?Vn:u}function ja(){var u=qt.A;return qt.A=Fp,u}function ha(){Pn=4,$n||(xn&4194176)!==xn&&Za.current!==null||(Ka=!0),(Qa&134217727)===0&&(Kr&134217727)===0||bn===null||kr(bn,xn,_a,!1)}function _o(u,f,v){var w=Vt;Vt|=2;var N=Iu(),O=ja();(bn!==u||xn!==f)&&(Qr=null,Hr(u,f)),f=!1;var Z=Pn;e:do try{if(ri!==0&&rn!==null){var oe=rn,Me=ki;switch(ri){case 8:da(),Z=6;break e;case 3:case 2:case 6:Za.current===null&&(f=!0);var ke=ri;if(ri=0,ki=null,Gl(u,oe,Me,ke),v&&Ka){Z=0;break e}break;default:ke=ri,ri=0,ki=null,Gl(u,oe,Me,ke)}}bo(),Z=Pn;break}catch(rt){zc(u,rt)}while(!0);return f&&u.shellSuspendCounter++,Ui=sc=null,Vt=w,qt.H=N,qt.A=O,rn===null&&(bn=null,xn=0,Ce()),Z}function bo(){for(;rn!==null;)W0(rn)}function So(u,f){var v=Vt;Vt|=2;var w=Iu(),N=ja();bn!==u||xn!==f?(Qr=null,Ci=Rs()+500,Hr(u,f)):Ka=U(u,f);e:do try{if(ri!==0&&rn!==null){f=rn;var O=ki;t:switch(ri){case 1:ri=0,ki=null,Gl(u,f,O,1);break;case 2:if(Ze(O)){ri=0,ki=null,dp(f);break}f=function(){ri===2&&bn===u&&(ri=7),at(u)},O.then(f,f);break e;case 3:ri=7;break e;case 4:ri=5;break e;case 7:Ze(O)?(ri=0,ki=null,dp(f)):(ri=0,ki=null,Gl(u,f,O,7));break;case 5:var Z=null;switch(rn.tag){case 26:Z=rn.memoizedState;case 5:case 27:var oe=rn,Me=oe.type,ke=oe.pendingProps;if(Z?Rx(Z):rl(Me,ke)){ri=0,ki=null;var rt=oe.sibling;if(rt!==null)rn=rt;else{var _t=oe.return;_t!==null?(rn=_t,fd(_t)):rn=null}break t}}ri=0,ki=null,Gl(u,f,O,5);break;case 6:ri=0,ki=null,Gl(u,f,O,6);break;case 8:da(),Pn=6;break e;default:throw Error(s(462))}}$o();break}catch(Mt){zc(u,Mt)}while(!0);return Ui=sc=null,qt.H=w,qt.A=N,Vt=v,rn!==null?0:(bn=null,xn=0,Ce(),Pn)}function $o(){for(;rn!==null&&!qy();)W0(rn)}function W0(u){var f=uy(u.alternate,u,Zr);u.memoizedProps=u.pendingProps,f===null?fd(u):rn=f}function dp(u){var f=u,v=f.alternate;switch(f.tag){case 15:case 0:f=ay(v,f,f.pendingProps,f.type,void 0,xn);break;case 11:f=ay(v,f,f.pendingProps,f.type.render,f.ref,xn);break;case 5:yi(f);default:V0(v,f),f=rn=nl(f,Zr),f=uy(v,f,Zr)}u.memoizedProps=u.pendingProps,f===null?fd(u):rn=f}function Gl(u,f,v,w){Ui=sc=null,yi(f),No=null,vr=0;var N=f.return;try{if(ey(u,N,f,v,xn)){Pn=1,Kh(u,ce(v,u.current)),rn=null;return}}catch(O){if(N!==null)throw rn=N,O;Pn=1,Kh(u,ce(v,u.current)),rn=null;return}f.flags&32768?(Fn||w===1?u=!0:Ka||(xn&536870912)!==0?u=!1:($n=u=!0,(w===2||w===3||w===6)&&(w=Za.current,w!==null&&w.tag===13&&(w.flags|=16384))),ps(f,u)):fd(f)}function fd(u){var f=u;do{if((f.flags&32768)!==0){ps(f,$n);return}u=f.return;var v=dy(f.alternate,f,Zr);if(v!==null){rn=v;return}if(f=f.sibling,f!==null){rn=f;return}rn=f=u}while(f!==null);Pn===0&&(Pn=5)}function ps(u,f){do{var v=hy(u.alternate,u);if(v!==null){v.flags&=32767,rn=v;return}if(v=u.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!f&&(u=u.sibling,u!==null)){rn=u;return}rn=u=v}while(u!==null);Pn=6,rn=null}function pi(u,f,v,w,N,O,Z,oe,Me,ke){var rt=qt.T,_t=rs();try{ks(2),qt.T=null,Rn(u,f,v,w,_t,N,O,Z,oe,Me,ke)}finally{qt.T=rt,ks(_t)}}function Rn(u,f,v,w,N,O,Z,oe){do ms();while(ml!==null);if((Vt&6)!==0)throw Error(s(327));var Me=u.finishedWork;if(w=u.finishedLanes,Me===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Me===u.current)throw Error(s(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var ke=Me.lanes|Me.childLanes;if(ke|=Zu,Q(u,w,ke,O,Z,oe),u===bn&&(rn=bn=null,xn=0),(Me.subtreeFlags&10256)===0&&(Me.flags&10256)===0||br||(br=!0,Hp=ke,Qc=v,dd(Lp,function(){return ms(),null})),v=(Me.flags&15990)!==0,(Me.subtreeFlags&15990)!==0||v?(v=qt.T,qt.T=null,O=rs(),ks(2),Z=Vt,Vt|=4,Lu(u,Me),Il(Me,u),sx(u.containerInfo),u.current=Me,ap(u,Me.alternate,Me),Wy(),Vt=Z,ks(O),qt.T=v):u.current=Me,br?(br=!1,ml=u,Kc=w):el(u,ke),ke=u.pendingLanes,ke===0&&($a=null),V(Me.stateNode),at(u),f!==null)for(N=u.onRecoverableError,Me=0;Me<f.length;Me++)ke=f[Me],N(ke.value,{componentStack:ke.stack});return(Kc&3)!==0&&ms(),ke=u.pendingLanes,(w&4194218)!==0&&(ke&42)!==0?u===sa?Jc++:(Jc=0,sa=u):Jc=0,Ye(0),null}function el(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,Eu(f)))}function ms(){if(ml!==null){var u=ml,f=Hp;Hp=0;var v=fe(Kc),w=32>v?32:v;v=qt.T;var N=rs();try{if(ks(w),qt.T=null,ml===null)var O=!1;else{w=Qc,Qc=null;var Z=ml,oe=Kc;if(ml=null,Kc=0,(Vt&6)!==0)throw Error(s(331));var Me=Vt;if(Vt|=4,ld(Z.current),lp(Z,Z.current,oe,w),Vt=Me,Ye(0,!1),xa&&typeof xa.onPostCommitFiberRoot=="function")try{xa.onPostCommitFiberRoot(Wu,Z)}catch{}O=!0}return O}finally{ks(N),qt.T=v,el(u,f)}}return!1}function hp(u,f,v){f=ce(v,f),f=ed(u.stateNode,f,2),u=je(u,f,2),u!==null&&(H(u,2),at(u))}function wn(u,f,v){if(u.tag===3)hp(u,u,v);else for(;f!==null;){if(f.tag===3){hp(f,u,v);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&($a===null||!$a.has(w))){u=ce(v,u),v=wu(2),w=je(f,v,2),w!==null&&(td(v,w,f,u),H(w,2),at(w));break}}f=f.return}}function pp(u,f,v){var w=u.pingCache;if(w===null){w=u.pingCache=new En;var N=new Set;w.set(f,N)}else N=w.get(f),N===void 0&&(N=new Set,w.set(f,N));N.has(v)||(hl=!0,N.add(v),u=yy.bind(null,u,f,v),f.then(u,u))}function yy(u,f,v){var w=u.pingCache;w!==null&&w.delete(f),u.pingedLanes|=u.suspendedLanes&v,u.warmLanes&=~v,bn===u&&(xn&v)===v&&(Pn===4||Pn===3&&(xn&62914560)===xn&&300>Rs()-Lo?(Vt&2)===0&&Hr(u,0):qs|=v,pl===xn&&(pl=0)),at(u)}function Pc(u,f){f===0&&(f=P()),u=re(u,f),u!==null&&(H(u,f),at(u))}function Bc(u){var f=u.memoizedState,v=0;f!==null&&(v=f.retryLane),Pc(u,v)}function Y0(u,f){var v=0;switch(u.tag){case 13:var w=u.stateNode,N=u.memoizedState;N!==null&&(v=N.retryLane);break;case 19:w=u.stateNode;break;case 22:w=u.stateNode._retryCache;break;default:throw Error(s(314))}w!==null&&w.delete(f),Pc(u,v)}function dd(u,f){return qu(u,f)}function Z0(u,f,v,w){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tl(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Vs(u,f){var v=u.alternate;return v===null?(v=t(u.tag,f,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=f,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&31457280,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,f=u.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v.refCleanup=u.refCleanup,v}function nl(u,f){u.flags&=31457282;var v=u.alternate;return v===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=v.childLanes,u.lanes=v.lanes,u.child=v.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=v.memoizedProps,u.memoizedState=v.memoizedState,u.updateQueue=v.updateQueue,u.type=v.type,f=v.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function pr(u,f,v,w,N,O){var Z=0;if(w=u,typeof u=="function")tl(u)&&(Z=1);else if(typeof u=="string")Z=ka&&Ns?Mx(u,v,gs.current)?26:Gu(u)?27:5:ka?Mx(u,v,gs.current)?26:5:Ns&&Gu(u)?27:5;else e:switch(u){case Fu:return il(v.children,N,O,f);case ex:Z=8,N|=24;break;case tx:return u=t(12,v,f,N|2),u.elementType=tx,u.lanes=O,u;case xp:return u=t(13,v,f,N),u.elementType=xp,u.lanes=O,u;case Wl:return u=t(19,v,f,N),u.elementType=Wl,u.lanes=O,u;case md:return mp(v,N,O,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case Sy:case Mo:Z=10;break e;case ql:Z=9;break e;case Vu:Z=11;break e;case pd:Z=14;break e;case Xr:Z=16,w=null;break e}Z=29,v=Error(s(130,u===null?"null":typeof u,"")),w=null}return f=t(Z,v,f,N),f.elementType=u,f.type=w,f.lanes=O,f}function il(u,f,v,w){return u=t(7,u,w,f),u.lanes=v,u}function mp(u,f,v,w){u=t(22,u,w,f),u.elementType=md,u.lanes=v;var N={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var O=N._current;if(O===null)throw Error(s(456));if((N._pendingVisibility&2)===0){var Z=re(O,2);Z!==null&&(N._pendingVisibility|=2,Fs(Z,O,2))}},attach:function(){var O=N._current;if(O===null)throw Error(s(456));if((N._pendingVisibility&2)!==0){var Z=re(O,2);Z!==null&&(N._pendingVisibility&=-3,Fs(Z,O,2))}}};return u.stateNode=N,u}function Xl(u,f,v){return u=t(6,u,null,f),u.lanes=v,u}function ju(u,f,v){return f=t(4,u.children!==null?u.children:[],u.key,f),f.lanes=v,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function Ic(u,f,v,w,N,O,Z,oe){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=kc,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=B(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B(0),this.hiddenUpdates=B(null),this.identifierPrefix=w,this.onUncaughtError=N,this.onCaughtError=O,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=oe,this.incompleteTransitions=new Map}function xs(u,f,v,w,N,O,Z,oe,Me,ke,rt,_t){return u=new Ic(u,f,v,Z,oe,Me,ke,_t),f=1,O===!0&&(f|=24),O=t(3,null,null,f),u.current=O,O.stateNode=u,f=ep(),f.refCount++,u.pooledCache=f,f.refCount++,O.memoizedState={element:w,isDehydrated:v,cache:f},wt(O),u}function hd(u){return u?(u=Gc,u):Gc}function K0(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(s(188)):(u=Object.keys(u).join(","),Error(s(268,u)));return u=b(f),u=u!==null?S(u):null,u===null?null:ku(u.stateNode)}function _y(u,f,v,w,N,O){N=hd(N),w.context===null?w.context=N:w.pendingContext=N,w=Ae(f),w.payload={element:v},O=O===void 0?null:O,O!==null&&(w.callback=O),v=je(u,w,f),v!==null&&(Fs(v,u,f),mt(v,u,f))}function by(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<f?v:f}}function Q0(u,f){by(u,f),(u=u.alternate)&&by(u,f)}var Ft={},J0=d0(),As=aY(),jc=Object.assign,$0=Symbol.for("react.element"),sl=Symbol.for("react.transitional.element"),Gr=Symbol.for("react.portal"),Fu=Symbol.for("react.fragment"),ex=Symbol.for("react.strict_mode"),tx=Symbol.for("react.profiler"),Sy=Symbol.for("react.provider"),ql=Symbol.for("react.consumer"),Mo=Symbol.for("react.context"),Vu=Symbol.for("react.forward_ref"),xp=Symbol.for("react.suspense"),Wl=Symbol.for("react.suspense_list"),pd=Symbol.for("react.memo"),Xr=Symbol.for("react.lazy"),md=Symbol.for("react.offscreen"),My=Symbol.for("react.memo_cache_sentinel"),nx=Symbol.iterator,Fc=Symbol.for("react.client.reference"),qt=J0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gp,ix,Yl=!1,Zl=Array.isArray,vp=e.rendererVersion,xd=e.rendererPackageName,gd=e.extraDevToolsConfig,ku=e.getPublicInstance,Vc=e.getRootHostContext,Ty=e.getChildHostContext,Kl=e.prepareForCommit,sx=e.resetAfterCommit,ax=e.createInstance,To=e.appendInitialChild,al=e.finalizeInitialChildren,Ql=e.shouldSetTextContent,yp=e.createTextInstance,rx=e.scheduleTimeout,vd=e.cancelTimeout,kc=e.noTimeout,wo=e.isPrimaryRenderer;e.warnsIfNotActing;var Cs=e.supportsMutation,Fa=e.supportsPersistence,ta=e.supportsHydration,ox=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var lx=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var ks=e.setCurrentUpdatePriority,rs=e.getCurrentUpdatePriority,mr=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Jl=e.shouldAttemptEagerTransition,cx=e.detachDeletedInstance;e.requestPostPaintCallback;var wy=e.maySuspendCommit,rl=e.preloadInstance,Va=e.startSuspendingCommit,Ri=e.suspendInstance,_p=e.waitForCommitToBeReady,pa=e.NotPendingTransition,Kt=e.HostTransitionContext,ai=e.resetFormInstance;e.bindToConsole;var Zi=e.supportsMicrotasks,bp=e.scheduleMicrotask,Eo=e.supportsTestSelectors,Hc=e.findFiberRoot,Sp=e.getBoundingRect,yd=e.getTextContent,Ao=e.isHiddenSubtree,a2=e.matchAccessibilityRole,Di=e.setFocusIfFocusable,ux=e.setupIntersectionObserver,fx=e.appendChild,Ey=e.appendChildToContainer,Ay=e.commitTextUpdate,r2=e.commitMount,dx=e.commitUpdate,hx=e.insertBefore,px=e.insertInContainerBefore,na=e.removeChild,Ii=e.removeChildFromContainer,_d=e.resetTextContent,bd=e.hideInstance,Mp=e.hideTextInstance,mx=e.unhideInstance,ol=e.unhideTextInstance,Tp=e.clearContainer,xx=e.cloneInstance,wp=e.createContainerChildSet,gx=e.appendChildToContainerChildSet,Cy=e.finalizeContainerChildren,vx=e.replaceContainerChildren,yx=e.cloneHiddenInstance,_x=e.cloneHiddenTextInstance,Ep=e.isSuspenseInstancePending,Sd=e.isSuspenseInstanceFallback,Ny=e.getSuspenseInstanceFallbackErrorDetails,o2=e.registerSuspenseInstanceRetry,Ry=e.canHydrateFormStateMarker,Dy=e.isFormStateMarkerMatching,bx=e.getNextHydratableSibling,Ap=e.getFirstHydratableChild,Ly=e.getFirstHydratableChildWithinContainer,Oy=e.getFirstHydratableChildWithinSuspenseInstance,Uy=e.canHydrateInstance,zy=e.canHydrateTextInstance,Py=e.canHydrateSuspenseInstance,l2=e.hydrateInstance,By=e.hydrateTextInstance,Hu=e.hydrateSuspenseInstance,Iy=e.getNextHydratableInstanceAfterSuspenseInstance,Cp=e.commitHydratedContainer,Np=e.commitHydratedSuspenseInstance,jy=e.clearSuspenseBoundary,Sx=e.clearSuspenseBoundaryFromContainer,Fy=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Vy=e.validateHydratableInstance,ky=e.validateHydratableTextInstance,ka=e.supportsResources,Mx=e.isHostHoistableType,Rp=e.getHoistableRoot,Dp=e.getResource,Tx=e.acquireResource,wx=e.releaseResource,Ex=e.hydrateHoistable,Ax=e.mountHoistable,Cx=e.unmountHoistable,c2=e.createHoistableInstance,Nx=e.prepareToCommitHoistables,Hy=e.mayResourceSuspendCommit,Rx=e.preloadResource,Dx=e.suspendResource,Ns=e.supportsSingletons,Lx=e.resolveSingletonInstance,u2=e.clearSingleton,f2=e.acquireSingletonInstance,Gy=e.releaseSingletonInstance,Gu=e.isHostSingletonType,Md=[],ll=-1,Gc={},ma=Math.clz32?Math.clz32:R,Td=Math.log,Xy=Math.LN2,Xu=128,wd=4194304,qu=As.unstable_scheduleCallback,Ed=As.unstable_cancelCallback,qy=As.unstable_shouldYield,Wy=As.unstable_requestPaint,Rs=As.unstable_now,Ox=As.unstable_ImmediatePriority,Yy=As.unstable_UserBlockingPriority,Lp=As.unstable_NormalPriority,Op=As.unstable_IdlePriority,Zy=As.log,Ux=As.unstable_setDisableYieldValue,Wu=null,xa=null,Ha=typeof Object.is=="function"?Object.is:K,Up=new WeakMap,Si=[],Li=0,Ad=null,Cd=0,Ga=[],Xa=0,qr=null,Co=1,xr="",gs=A(null),Nd=A(null),Wr=A(null),Yu=A(null),Hs=null,Ds=null,Fn=!1,qa=null,gr=!1,Rd=Error(s(519)),Wa=[],$l=0,Zu=0,Ku=null,Xc=null,Dd=!1,Ld=!1,Yr=!1,ec=0,Od=null,zp=0,ga=0,tc=null,cl=!1,Qu=!1,Ud=Object.prototype.hasOwnProperty,ni=Error(s(460)),zx=Error(s(474)),Pp={then:function(){}},qc=null,No=null,vr=0,nc=en(!0),Px=en(!1),Ro=A(null),Ya=A(0),Za=A(null),yr=null,Ki=A(0),Do=0,cn=null,qn=null,ji=null,_r=!1,Mi=!1,ul=!1,zd=0,Oi=0,Ju=null,Ky=0,Bp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Vn={readContext:Es,use:Te,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct};Vn.useCacheRefresh=Ct,Vn.useMemoCache=Ct,Vn.useHostTransitionStatus=Ct,Vn.useFormState=Ct,Vn.useActionState=Ct,Vn.useOptimistic=Ct;var Qi={readContext:Es,use:Te,useCallback:function(u,f){return _n().memoizedState=[u,f===void 0?null:f],u},useContext:Es,useEffect:T0,useImperativeHandle:function(u,f,v){v=v!=null?v.concat([u]):null,hr(4194308,4,Zf.bind(null,f,u),v)},useLayoutEffect:function(u,f){return hr(4194308,4,u,f)},useInsertionEffect:function(u,f){hr(4,2,u,f)},useMemo:function(u,f){var v=_n();f=f===void 0?null:f;var w=u();if(ul){X(!0);try{u()}finally{X(!1)}}return v.memoizedState=[w,f],w},useReducer:function(u,f,v){var w=_n();if(v!==void 0){var N=v(f);if(ul){X(!0);try{v(f)}finally{X(!1)}}}else N=f;return w.memoizedState=w.baseState=N,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:N},w.queue=u,u=u.dispatch=Rl.bind(null,cn,u),[w.memoizedState,u]},useRef:function(u){var f=_n();return u={current:u},f.memoizedState=u},useState:function(u){u=Un(u);var f=u.queue,v=Yh.bind(null,cn,f);return f.dispatch=v,[u.memoizedState,v]},useDebugValue:Kf,useDeferredValue:function(u,f){var v=_n();return Nl(v,u,f)},useTransition:function(){var u=Un(!1);return u=qh.bind(null,cn,u.queue,!0,!1),_n().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,v){var w=cn,N=_n();if(Fn){if(v===void 0)throw Error(s(407));v=v()}else{if(v=f(),bn===null)throw Error(s(349));(xn&60)!==0||Pt(w,f,v)}N.memoizedState=v;var O={value:v,getSnapshot:f};return N.queue=O,T0(At.bind(null,w,O,u),[u]),w.flags|=2048,Ni(9,jt.bind(null,w,O,v,f),{destroy:void 0},null),v},useId:function(){var u=_n(),f=bn.identifierPrefix;if(Fn){var v=xr,w=Co;v=(w&~(1<<32-ma(w)-1)).toString(32)+v,f=":"+f+"R"+v,v=zd++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=Ky++,f=":"+f+"r"+v.toString(32)+":";return u.memoizedState=f},useCacheRefresh:function(){return _n().memoizedState=Qf.bind(null,cn)}};Qi.useMemoCache=ve,Qi.useHostTransitionStatus=Cc,Qi.useFormState=mo,Qi.useActionState=mo,Qi.useOptimistic=function(u){var f=_n();f.memoizedState=f.baseState=u;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=v,f=Zh.bind(null,cn,!0,v),v.dispatch=f,[u,f]};var Gs={readContext:Es,use:Te,useCallback:Xh,useContext:Es,useEffect:Yf,useImperativeHandle:xo,useInsertionEffect:Jv,useLayoutEffect:$v,useMemo:Ac,useReducer:it,useRef:Fr,useState:function(){return it(me)},useDebugValue:Kf,useDeferredValue:function(u,f){var v=G();return w0(v,qn.memoizedState,u,f)},useTransition:function(){var u=it(me)[0],f=G().memoizedState;return[typeof u=="boolean"?u:ge(u),f]},useSyncExternalStore:ht,useId:go};Gs.useCacheRefresh=Wh,Gs.useMemoCache=ve,Gs.useHostTransitionStatus=Cc,Gs.useFormState=fi,Gs.useActionState=fi,Gs.useOptimistic=function(u,f){var v=G();return Mn(v,qn,u,f)};var ic={readContext:Es,use:Te,useCallback:Xh,useContext:Es,useEffect:Yf,useImperativeHandle:xo,useInsertionEffect:Jv,useLayoutEffect:$v,useMemo:Ac,useReducer:yt,useRef:Fr,useState:function(){return yt(me)},useDebugValue:Kf,useDeferredValue:function(u,f){var v=G();return qn===null?Nl(v,u,f):w0(v,qn.memoizedState,u,f)},useTransition:function(){var u=yt(me)[0],f=G().memoizedState;return[typeof u=="boolean"?u:ge(u),f]},useSyncExternalStore:ht,useId:go};ic.useCacheRefresh=Wh,ic.useMemoCache=ve,ic.useHostTransitionStatus=Cc,ic.useFormState=as,ic.useActionState=as,ic.useOptimistic=function(u,f){var v=G();return qn!==null?Mn(v,qn,u,f):(v.baseState=u,[u,v.queue.dispatch])};var Ip={isMounted:function(u){return(u=u._reactInternals)?g(u)===u:!1},enqueueSetState:function(u,f,v){u=u._reactInternals;var w=ea(),N=Ae(w);N.payload=f,v!=null&&(N.callback=v),f=je(u,N,w),f!==null&&(Fs(f,u,w),mt(f,u,w))},enqueueReplaceState:function(u,f,v){u=u._reactInternals;var w=ea(),N=Ae(w);N.tag=1,N.payload=f,v!=null&&(N.callback=v),f=je(u,N,w),f!==null&&(Fs(f,u,w),mt(f,u,w))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var v=ea(),w=Ae(v);w.tag=2,f!=null&&(w.callback=f),f=je(u,w,v),f!==null&&(Fs(f,u,v),mt(f,u,v))}},Bx=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},Qy=Error(s(461)),Fi=!1,Xs={dehydrated:null,treeContext:null,retryLane:0},va=A(null),sc=null,Ui=null,Jy=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(v,w){u.push(w)}};this.abort=function(){f.aborted=!0,u.forEach(function(v){return v()})}},fl=As.unstable_scheduleCallback,Wc=As.unstable_NormalPriority,Qn={$$typeof:Mo,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},jp=qt.S;qt.S=function(u,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&Re(u,f),jp!==null&&jp(u,f)};var dl=A(null),os=!1,Ai=!1,ac=!1,$u=typeof WeakSet=="function"?WeakSet:Set,zi=null,Yc=!1,Vi=null,ya=!1,ia=null,Zc=8192,Fp={getCacheForType:function(u){var f=Es(Qn),v=f.data.get(u);return v===void 0&&(v=u(),f.data.set(u,v)),v}},Pd=0,Vp=1,kp=2,zn=3,Jn=4;if(typeof Symbol=="function"&&Symbol.for){var un=Symbol.for;Pd=un("selector.component"),Vp=un("selector.has_pseudo_class"),kp=un("selector.role"),zn=un("selector.test_id"),Jn=un("selector.text")}var En=typeof WeakMap=="function"?WeakMap:Map,Vt=0,bn=null,rn=null,xn=0,ri=0,ki=null,$n=!1,Ka=!1,hl=!1,Zr=0,Pn=0,Qa=0,Kr=0,qs=0,_a=0,pl=0,ef=null,Ja=null,tf=!1,Lo=0,Ci=1/0,Qr=null,$a=null,br=!1,ml=null,Kc=0,Hp=0,Qc=null,Jc=0,sa=null;return Ft.attemptContinuousHydration=function(u){if(u.tag===13){var f=re(u,67108864);f!==null&&Fs(f,u,67108864),Q0(u,67108864)}},Ft.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=ea(),v=re(u,f);v!==null&&Fs(v,u,f),Q0(u,f)}},Ft.attemptSynchronousHydration=function(u){switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=L(u.pendingLanes);if(f!==0){for(u.pendingLanes|=2,u.entangledLanes|=2;f;){var v=1<<31-ma(f);u.entanglements[1]|=v,f&=~v}at(u),(Vt&6)===0&&(Ci=Rs()+500,Ye(0))}}break;case 13:f=re(u,2),f!==null&&Fs(f,u,2),q0(),Q0(u,2)}},Ft.batchedUpdates=function(u,f){return u(f)},Ft.createComponentSelector=function(u){return{$$typeof:Pd,value:u}},Ft.createContainer=function(u,f,v,w,N,O,Z,oe,Me,ke){return xs(u,f,!1,null,v,w,O,Z,oe,Me,ke,null)},Ft.createHasPseudoClassSelector=function(u){return{$$typeof:Vp,value:u}},Ft.createHydrationContainer=function(u,f,v,w,N,O,Z,oe,Me,ke,rt,_t,Mt){return u=xs(v,w,!0,u,N,O,oe,Me,ke,rt,_t,Mt),u.context=hd(null),v=u.current,w=ea(),N=Ae(w),N.callback=f??null,je(v,N,w),u.current.lanes=w,H(u,w),at(u),u},Ft.createPortal=function(u,f,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gr,key:w==null?null:""+w,children:u,containerInfo:f,implementation:v}},Ft.createRoleSelector=function(u){return{$$typeof:kp,value:u}},Ft.createTestNameSelector=function(u){return{$$typeof:zn,value:u}},Ft.createTextSelector=function(u){return{$$typeof:Jn,value:u}},Ft.defaultOnCaughtError=function(u){console.error(u)},Ft.defaultOnRecoverableError=function(u){Bx(u)},Ft.defaultOnUncaughtError=function(u){Bx(u)},Ft.deferredUpdates=function(u){var f=qt.T,v=rs();try{return ks(32),qt.T=null,u()}finally{ks(v),qt.T=f}},Ft.discreteUpdates=function(u,f,v,w,N){var O=qt.T,Z=rs();try{return ks(2),qt.T=null,u(f,v,w,N)}finally{ks(Z),qt.T=O,Vt===0&&(Ci=Rs()+500)}},Ft.findAllNodes=$s,Ft.findBoundingRects=function(u,f){if(!Eo)throw Error(s(363));f=$s(u,f),u=[];for(var v=0;v<f.length;v++)u.push(Sp(f[v]));for(f=u.length-1;0<f;f--){v=u[f];for(var w=v.x,N=w+v.width,O=v.y,Z=O+v.height,oe=f-1;0<=oe;oe--)if(f!==oe){var Me=u[oe],ke=Me.x,rt=ke+Me.width,_t=Me.y,Mt=_t+Me.height;if(w>=ke&&O>=_t&&N<=rt&&Z<=Mt){u.splice(f,1);break}else if(w!==ke||v.width!==Me.width||Mt<O||_t>Z){if(!(O!==_t||v.height!==Me.height||rt<w||ke>N)){ke>w&&(Me.width+=ke-w,Me.x=w),rt<N&&(Me.width=N-ke),u.splice(f,1);break}}else{_t>O&&(Me.height+=_t-O,Me.y=O),Mt<Z&&(Me.height=Z-_t),u.splice(f,1);break}}}return u},Ft.findHostInstance=K0,Ft.findHostInstanceWithNoPortals=function(u){return u=b(u),u=u!==null?E(u):null,u===null?null:ku(u.stateNode)},Ft.findHostInstanceWithWarning=function(u){return K0(u)},Ft.flushPassiveEffects=ms,Ft.flushSyncFromReconciler=function(u){var f=Vt;Vt|=1;var v=qt.T,w=rs();try{if(ks(2),qt.T=null,u)return u()}finally{ks(w),qt.T=v,Vt=f,(Vt&6)===0&&Ye(0)}},Ft.flushSyncWork=q0,Ft.focusWithin=function(u,f){if(!Eo)throw Error(s(363));for(u=up(u),f=gy(u,f),f=Array.from(f),u=0;u<f.length;){var v=f[u++],w=v.tag;if(!Ao(v)){if((w===5||w===26||w===27)&&Di(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},Ft.getFindAllNodesFailureDescription=function(u,f){if(!Eo)throw Error(s(363));var v=0,w=[];u=[up(u),0];for(var N=0;N<u.length;){var O=u[N++],Z=O.tag,oe=u[N++],Me=f[oe];if((Z!==5&&Z!==26&&Z!==27||!Ao(O))&&(Bu(O,Me)&&(w.push(Hl(Me)),oe++,oe>v&&(v=oe)),oe<f.length))for(O=O.child;O!==null;)u.push(O,oe),O=O.sibling}if(v<f.length){for(u=[];v<f.length;v++)u.push(Hl(f[v]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},Ft.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 27:case 5:return ku(u.child.stateNode);default:return u.child.stateNode}},Ft.injectIntoDevTools=function(){var u={bundleType:0,version:vp,rendererPackageName:xd,currentDispatcherRef:qt,findFiberByHostInstance:ox,reconcilerVersion:"19.0.0"};if(gd!==null&&(u.rendererConfig=gd),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{Wu=f.inject(u),xa=f}catch{}u=!!f.checkDCE}}return u},Ft.isAlreadyRendering=function(){return!1},Ft.observeVisibleRects=function(u,f,v,w){if(!Eo)throw Error(s(363));u=$s(u,f);var N=ux(u,v,w).disconnect;return{disconnect:function(){N()}}},Ft.shouldError=function(){return null},Ft.shouldSuspend=function(){return!1},Ft.startHostTransition=function(u,f,v,w){if(u.tag!==5)throw Error(s(476));var N=E0(u).queue;qh(u,N,f,pa,v===null?n:function(){var O=E0(u).next.queue;return Dl(u,O,{},ea()),v(w)})},Ft.updateContainer=function(u,f,v,w){var N=f.current,O=ea();return _y(N,O,u,f,v,w),O},Ft.updateContainerSync=function(u,f,v,w){return f.tag===0&&ms(),_y(f.current,2,u,f,v,w),2},Ft},i.exports.default=i.exports,Object.defineProperty(i.exports,"__esModule",{value:!0})})(s3)),s3.exports}var m4;function oY(){return m4||(m4=1,i3.exports=rY()),i3.exports}var lY=oY();const cY=QT(lY);var o3={exports:{}},l3={};var x4;function uY(){return x4||(x4=1,(function(i){function e(V,X){var K=V.length;V.push(X);e:for(;0<K;){var ce=K-1>>>1,Y=V[ce];if(0<s(Y,X))V[ce]=X,V[K]=Y,K=ce;else break e}}function t(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var X=V[0],K=V.pop();if(K!==X){V[0]=K;e:for(var ce=0,Y=V.length,W=Y>>>1;ce<W;){var ae=2*(ce+1)-1,he=V[ae],ye=ae+1,Pe=V[ye];if(0>s(he,K))ye<Y&&0>s(Pe,he)?(V[ce]=Pe,V[ye]=K,ce=ye):(V[ce]=he,V[ae]=K,ce=ae);else if(ye<Y&&0>s(Pe,K))V[ce]=Pe,V[ye]=K,ce=ye;else break e}}return X}function s(V,X){var K=V.sortIndex-X.sortIndex;return K!==0?K:V.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();i.unstable_now=function(){return o.now()-c}}var d=[],p=[],m=1,g=null,y=3,b=!1,S=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function R(V){for(var X=t(p);X!==null;){if(X.callback===null)n(p);else if(X.startTime<=V)n(p),X.sortIndex=X.expirationTime,e(d,X);else break;X=t(p)}}function L(V){if(E=!1,R(V),!S)if(t(d)!==null)S=!0,ue();else{var X=t(p);X!==null&&fe(L,X.startTime-V)}}var z=!1,U=-1,I=5,F=-1;function P(){return!(i.unstable_now()-F<I)}function B(){if(z){var V=i.unstable_now();F=V;var X=!0;try{e:{S=!1,E&&(E=!1,M(U),U=-1),b=!0;var K=y;try{t:{for(R(V),g=t(d);g!==null&&!(g.expirationTime>V&&P());){var ce=g.callback;if(typeof ce=="function"){g.callback=null,y=g.priorityLevel;var Y=ce(g.expirationTime<=V);if(V=i.unstable_now(),typeof Y=="function"){g.callback=Y,R(V),X=!0;break t}g===t(d)&&n(d),R(V)}else n(d);g=t(d)}if(g!==null)X=!0;else{var W=t(p);W!==null&&fe(L,W.startTime-V),X=!1}}break e}finally{g=null,y=K,b=!1}X=void 0}}finally{X?H():z=!1}}}var H;if(typeof D=="function")H=function(){D(B)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ie=Q.port2;Q.port1.onmessage=B,H=function(){ie.postMessage(null)}}else H=function(){A(B,0)};function ue(){z||(z=!0,H())}function fe(V,X){U=A(function(){V(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(V){V.callback=null},i.unstable_continueExecution=function(){S||b||(S=!0,ue())},i.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},i.unstable_getCurrentPriorityLevel=function(){return y},i.unstable_getFirstCallbackNode=function(){return t(d)},i.unstable_next=function(V){switch(y){case 1:case 2:case 3:var X=3;break;default:X=y}var K=y;y=X;try{return V()}finally{y=K}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(V,X){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var K=y;y=V;try{return X()}finally{y=K}},i.unstable_scheduleCallback=function(V,X,K){var ce=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ce+K:ce):K=ce,V){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=K+Y,V={id:m++,callback:X,priorityLevel:V,startTime:K,expirationTime:Y,sortIndex:-1},K>ce?(V.sortIndex=K,e(p,V),t(d)===null&&V===t(p)&&(E?(M(U),U=-1):E=!0,fe(L,K-ce))):(V.sortIndex=Y,e(d,V),S||b||(S=!0,ue())),V},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(V){var X=y;return function(){var K=y;y=X;try{return V.apply(this,arguments)}finally{y=K}}}})(l3)),l3}var g4;function fY(){return g4||(g4=1,o3.exports=uY()),o3.exports}var v4=fY();function bE(i,e,t){if(!i)return;if(t(i)===!0)return i;let n=e?i.return:i.child;for(;n;){const s=bE(n,e,t);if(s)return s;n=e?null:n.sibling}}function mU(i){try{return Object.defineProperties(i,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return i}}const SE=mU(se.createContext(null));class xU extends se.Component{render(){return se.createElement(SE.Provider,{value:this._reactInternals},this.props.children)}}function gU(){const i=se.useContext(SE);if(i===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=se.useId();return se.useMemo(()=>{for(const t of[i,i?.alternate]){if(!t)continue;const n=bE(t,!1,s=>{let r=s.memoizedState;for(;r;){if(r.memoizedState===e)return!0;r=r.next}});if(n)return n}},[i,e])}const dY=Symbol.for("react.context"),hY=i=>i!==null&&typeof i=="object"&&"$$typeof"in i&&i.$$typeof===dY;function pY(){const i=gU(),[e]=se.useState(()=>new Map);e.clear();let t=i;for(;t;){const n=t.type;hY(n)&&n!==SE&&!e.has(n)&&e.set(n,se.use(mU(n))),t=t.return}return e}function mY(){const i=pY();return se.useMemo(()=>Array.from(i.keys()).reduce((e,t)=>n=>se.createElement(e,null,se.createElement(t.Provider,{...n,value:i.get(t)})),e=>se.createElement(xU,{...e})),[i])}function vU(i){let e=i.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const yU=i=>i&&i.isOrthographicCamera,xY=i=>i&&i.hasOwnProperty("current"),gY=i=>i!=null&&(typeof i=="string"||typeof i=="number"||i.isColor),Kv=((i,e)=>typeof window<"u"&&(((i=window.document)==null?void 0:i.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?se.useLayoutEffect:se.useEffect;function _U(i){const e=se.useRef(i);return Kv(()=>void(e.current=i),[i]),e}function vY(){const i=gU(),e=mY();return se.useMemo(()=>({children:t})=>{const s=!!bE(i,!0,r=>r.type===se.StrictMode)?se.StrictMode:se.Fragment;return _.jsx(s,{children:_.jsx(e,{children:t})})},[i,e])}function yY({set:i}){return Kv(()=>(i(new Promise(()=>null)),()=>i(!1)),[i]),null}const _Y=(i=>(i=class extends se.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},i.getDerivedStateFromError=()=>({error:!0}),i))();function bU(i){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(i)?Math.min(Math.max(i[0],t),i[1]):i}function gm(i){var e;return(e=i.__r3f)==null?void 0:e.root.getState()}const Hi={obj:i=>i===Object(i)&&!Hi.arr(i)&&typeof i!="function",fun:i=>typeof i=="function",str:i=>typeof i=="string",num:i=>typeof i=="number",boo:i=>typeof i=="boolean",und:i=>i===void 0,nul:i=>i===null,arr:i=>Array.isArray(i),equ(i,e,{arrays:t="shallow",objects:n="reference",strict:s=!0}={}){if(typeof i!=typeof e||!!i!=!!e)return!1;if(Hi.str(i)||Hi.num(i)||Hi.boo(i))return i===e;const r=Hi.obj(i);if(r&&n==="reference")return i===e;const o=Hi.arr(i);if(o&&t==="reference")return i===e;if((o||r)&&i===e)return!0;let c;for(c in i)if(!(c in e))return!1;if(r&&t==="shallow"&&n==="shallow"){for(c in s?e:i)if(!Hi.equ(i[c],e[c],{strict:s,objects:"reference"}))return!1}else for(c in s?e:i)if(i[c]!==e[c])return!1;if(Hi.und(c)){if(o&&i.length===0&&e.length===0||r&&Object.keys(i).length===0&&Object.keys(e).length===0)return!0;if(i!==e)return!1}return!0}};function bY(i){i.type!=="Scene"&&(i.dispose==null||i.dispose());for(const e in i){const t=i[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const SU=["children","key","ref"];function SY(i){const e={};for(const t in i)SU.includes(t)||(e[t]=i[t]);return e}function X1(i,e,t,n){const s=i;let r=s?.__r3f;return r||(r={root:e,type:t,parent:null,children:[],props:SY(n),object:s,eventCount:0,handlers:{},isHidden:!1},s&&(s.__r3f=r)),r}function bv(i,e){if(!e.includes("-"))return{root:i,key:e,target:i[e]};if(e in i)return{root:i,key:e,target:i[e]};let t=i;const n=e.split("-");for(const s of n){if(typeof t!="object"||t===null){if(t!==void 0){const r=n.slice(n.indexOf(s)).join("-");return{root:t,key:r,target:void 0}}return{root:i,key:e,target:void 0}}e=s,i=t,t=t[e]}return{root:i,key:e,target:t}}const y4=/-\d+$/;function q1(i,e){if(Hi.str(e.props.attach)){if(y4.test(e.props.attach)){const s=e.props.attach.replace(y4,""),{root:r,key:o}=bv(i.object,s);Array.isArray(r[o])||(r[o]=[])}const{root:t,key:n}=bv(i.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else Hi.fun(e.props.attach)&&(e.previousAttach=e.props.attach(i.object,e.object))}function W1(i,e){if(Hi.str(e.props.attach)){const{root:t,key:n}=bv(i.object,e.props.attach),s=e.previousAttach;s===void 0?delete t[n]:t[n]=s}else e.previousAttach==null||e.previousAttach(i.object,e.object);delete e.previousAttach}const _T=[...SU,"args","dispose","attach","object","onUpdate","dispose"],_4=new Map;function MY(i){let e=_4.get(i.constructor);try{e||(e=new i.constructor,_4.set(i.constructor,e))}catch{}return e}function TY(i,e){const t={};for(const n in e)if(!_T.includes(n)&&!Hi.equ(e[n],i.props[n])){t[n]=e[n];for(const s in e)s.startsWith(`${n}-`)&&(t[s]=e[s])}for(const n in i.props){if(_T.includes(n)||e.hasOwnProperty(n))continue;const{root:s,key:r}=bv(i.object,n);if(s.constructor&&s.constructor.length===0){const o=MY(s);Hi.und(o)||(t[r]=o[r])}else t[r]=0}return t}const wY=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],EY=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function bf(i,e){var t;const n=i.__r3f,s=n&&vU(n).getState(),r=n?.eventCount;for(const c in e){let d=e[c];if(_T.includes(c))continue;if(n&&EY.test(c)){typeof d=="function"?n.handlers[c]=d:delete n.handlers[c],n.eventCount=Object.keys(n.handlers).length;continue}if(d===void 0)continue;let{root:p,key:m,target:g}=bv(i,c);if(g===void 0&&(typeof p!="object"||p===null))throw Error(`R3F: Cannot set "${c}". Ensure it is an object before setting "${m}".`);if(g instanceof e0&&d instanceof e0)g.mask=d.mask;else if(g instanceof Tt&&gY(d))g.set(d);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&d!=null&&d.constructor&&g.constructor===d.constructor)g.copy(d);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(d))typeof g.fromArray=="function"?g.fromArray(d):g.set(...d);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof d=="number")typeof g.setScalar=="function"?g.setScalar(d):g.set(d);else{var o;p[m]=d,s&&!s.linear&&wY.includes(m)&&(o=p[m])!=null&&o.isTexture&&p[m].format===Oa&&p[m].type===qo&&(p[m].colorSpace=Ca)}}if(n!=null&&n.parent&&s!=null&&s.internal&&(t=n.object)!=null&&t.isObject3D&&r!==n.eventCount){const c=n.object,d=s.internal.interaction.indexOf(c);d>-1&&s.internal.interaction.splice(d,1),n.eventCount&&c.raycast!==null&&s.internal.interaction.push(c)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&M0(n),i}function M0(i){var e;if(!i.parent)return;i.props.onUpdate==null||i.props.onUpdate(i.object);const t=(e=i.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function AY(i,e){i.manual||(yU(i)?(i.left=e.width/-2,i.right=e.width/2,i.top=e.height/2,i.bottom=e.height/-2):i.aspect=e.width/e.height,i.updateProjectionMatrix())}const Er=i=>i?.isObject3D;function db(i){return(i.eventObject||i.object).uuid+"/"+i.index+i.instanceId}function MU(i,e,t,n){const s=t.get(e);s&&(t.delete(e),t.size===0&&(i.delete(n),s.target.releasePointerCapture(n)))}function CY(i,e){const{internal:t}=i.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,s)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(s)}),t.capturedMap.forEach((n,s)=>{MU(t.capturedMap,e,n,s)})}function NY(i){function e(d){const{internal:p}=i.getState(),m=d.offsetX-p.initialClick[0],g=d.offsetY-p.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function t(d){return d.filter(p=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=p.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function n(d,p){const m=i.getState(),g=new Set,y=[],b=p?p(m.internal.interaction):m.internal.interaction;for(let M=0;M<b.length;M++){const D=gm(b[M]);D&&(D.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(d,m);function S(M){const D=gm(M);if(!D||!D.events.enabled||D.raycaster.camera===null)return[];if(D.raycaster.camera===void 0){var R;D.events.compute==null||D.events.compute(d,D,(R=D.previousRoot)==null?void 0:R.getState()),D.raycaster.camera===void 0&&(D.raycaster.camera=null)}return D.raycaster.camera?D.raycaster.intersectObject(M,!0):[]}let E=b.flatMap(S).sort((M,D)=>{const R=gm(M.object),L=gm(D.object);return!R||!L?M.distance-D.distance:L.events.priority-R.events.priority||M.distance-D.distance}).filter(M=>{const D=db(M);return g.has(D)?!1:(g.add(D),!0)});m.events.filter&&(E=m.events.filter(E,m));for(const M of E){let D=M.object;for(;D;){var A;(A=D.__r3f)!=null&&A.eventCount&&y.push({...M,eventObject:D}),D=D.parent}}if("pointerId"in d&&m.internal.capturedMap.has(d.pointerId))for(let M of m.internal.capturedMap.get(d.pointerId).values())g.has(db(M.intersection))||y.push(M.intersection);return y}function s(d,p,m,g){if(d.length){const y={stopped:!1};for(const b of d){let S=gm(b.object);if(S||b.object.traverseAncestors(E=>{const A=gm(E);if(A)return S=A,!1}),S){const{raycaster:E,pointer:A,camera:M,internal:D}=S,R=new te(A.x,A.y,0).unproject(M),L=P=>{var B,H;return(B=(H=D.capturedMap.get(P))==null?void 0:H.has(b.eventObject))!=null?B:!1},z=P=>{const B={intersection:b,target:p.target};D.capturedMap.has(P)?D.capturedMap.get(P).set(b.eventObject,B):D.capturedMap.set(P,new Map([[b.eventObject,B]])),p.target.setPointerCapture(P)},U=P=>{const B=D.capturedMap.get(P);B&&MU(D.capturedMap,b.eventObject,B,P)};let I={};for(let P in p){let B=p[P];typeof B!="function"&&(I[P]=B)}let F={...b,...I,pointer:A,intersections:d,stopped:y.stopped,delta:m,unprojectedPoint:R,ray:E.ray,camera:M,stopPropagation(){const P="pointerId"in p&&D.capturedMap.get(p.pointerId);if((!P||P.has(b.eventObject))&&(F.stopped=y.stopped=!0,D.hovered.size&&Array.from(D.hovered.values()).find(B=>B.eventObject===b.eventObject))){const B=d.slice(0,d.indexOf(b));r([...B,b])}},target:{hasPointerCapture:L,setPointerCapture:z,releasePointerCapture:U},currentTarget:{hasPointerCapture:L,setPointerCapture:z,releasePointerCapture:U},nativeEvent:p};if(g(F),y.stopped===!0)break}}}return d}function r(d){const{internal:p}=i.getState();for(const m of p.hovered.values())if(!d.length||!d.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const y=m.eventObject.__r3f;if(p.hovered.delete(db(m)),y!=null&&y.eventCount){const b=y.handlers,S={...m,intersections:d};b.onPointerOut==null||b.onPointerOut(S),b.onPointerLeave==null||b.onPointerLeave(S)}}}function o(d,p){for(let m=0;m<p.length;m++){const g=p[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(d)}}function c(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return p=>{const{internal:m}=i.getState();"pointerId"in p&&m.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(p.pointerId)&&(m.capturedMap.delete(p.pointerId),r([]))})}}return function(m){const{onPointerMissed:g,internal:y}=i.getState();y.lastEvent.current=m;const b=d==="onPointerMove",S=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",A=n(m,b?t:void 0),M=S?e(m):0;d==="onPointerDown"&&(y.initialClick=[m.offsetX,m.offsetY],y.initialHits=A.map(R=>R.eventObject)),S&&!A.length&&M<=2&&(o(m,y.interaction),g&&g(m)),b&&r(A);function D(R){const L=R.eventObject,z=L.__r3f;if(!(z!=null&&z.eventCount))return;const U=z.handlers;if(b){if(U.onPointerOver||U.onPointerEnter||U.onPointerOut||U.onPointerLeave){const I=db(R),F=y.hovered.get(I);F?F.stopped&&R.stopPropagation():(y.hovered.set(I,R),U.onPointerOver==null||U.onPointerOver(R),U.onPointerEnter==null||U.onPointerEnter(R))}U.onPointerMove==null||U.onPointerMove(R)}else{const I=U[d];I?(!S||y.initialHits.includes(L))&&(o(m,y.interaction.filter(F=>!y.initialHits.includes(F))),I(R)):S&&y.initialHits.includes(L)&&o(m,y.interaction.filter(F=>!y.initialHits.includes(F)))}}s(A,m,M,D)}}return{handlePointer:c}}const b4=i=>!!(i!=null&&i.render),TU=se.createContext(null),RY=(i,e)=>{const t=iY((c,d)=>{const p=new te,m=new te,g=new te;function y(M=d().camera,D=m,R=d().size){const{width:L,height:z,top:U,left:I}=R,F=L/z;D.isVector3?g.copy(D):g.set(...D);const P=M.getWorldPosition(p).distanceTo(g);if(yU(M))return{width:L/M.zoom,height:z/M.zoom,top:U,left:I,factor:1,distance:P,aspect:F};{const B=M.fov*Math.PI/180,H=2*Math.tan(B/2)*P,Q=H*(L/z);return{width:Q,height:H,top:U,left:I,factor:L/Q,distance:P,aspect:F}}}let b;const S=M=>c(D=>({performance:{...D.performance,current:M}})),E=new Ke;return{set:c,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(M=1)=>i(d(),M),advance:(M,D)=>e(M,D,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new xE,pointer:E,mouse:E,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=d();b&&clearTimeout(b),M.performance.current!==M.performance.min&&S(M.performance.min),b=setTimeout(()=>S(d().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:y},setEvents:M=>c(D=>({...D,events:{...D.events,...M}})),setSize:(M,D,R=0,L=0)=>{const z=d().camera,U={width:M,height:D,top:R,left:L};c(I=>({size:U,viewport:{...I.viewport,...y(z,m,U)}}))},setDpr:M=>c(D=>{const R=bU(M);return{viewport:{...D.viewport,dpr:R,initialDpr:D.viewport.initialDpr||R}}}),setFrameloop:(M="always")=>{const D=d().clock;D.stop(),D.elapsedTime=0,M!=="never"&&(D.start(),D.elapsedTime=0),c(()=>({frameloop:M}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:se.createRef(),active:!1,frames:0,priority:0,subscribe:(M,D,R)=>{const L=d().internal;return L.priority=L.priority+(D>0?1:0),L.subscribers.push({ref:M,priority:D,store:R}),L.subscribers=L.subscribers.sort((z,U)=>z.priority-U.priority),()=>{const z=d().internal;z!=null&&z.subscribers&&(z.priority=z.priority-(D>0?1:0),z.subscribers=z.subscribers.filter(U=>U.ref!==M))}}}}}),n=t.getState();let s=n.size,r=n.viewport.dpr,o=n.camera;return t.subscribe(()=>{const{camera:c,size:d,viewport:p,gl:m,set:g}=t.getState();if(d.width!==s.width||d.height!==s.height||p.dpr!==r){s=d,r=p.dpr,AY(c,d),p.dpr>0&&m.setPixelRatio(p.dpr);const y=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(d.width,d.height,y)}c!==o&&(o=c,g(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(c)}})))}),t.subscribe(c=>i(c)),t};function DY(){const i=se.useContext(TU);if(!i)throw new Error("R3F: Hooks can only be used within the Canvas component!");return i}function JS(i,e=0){const t=DY(),n=t.getState().internal.subscribe,s=_U(i);return Kv(()=>n(s,e,t),[e,n,t]),null}var LY={version:"9.4.2"};function OY(i){const e=cY(i);return e.injectIntoDevTools(),e}const wU=0,s0={},UY=/^three(?=[A-Z])/,$S=i=>`${i[0].toUpperCase()}${i.slice(1)}`;let zY=0;const PY=i=>typeof i=="function";function BY(i){if(PY(i)){const e=`${zY++}`;return s0[e]=i,e}else Object.assign(s0,i)}function EU(i,e){const t=$S(i),n=s0[t];if(i!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(i==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function IY(i,e,t){var n;return i=$S(i)in s0?i:i.replace(UY,""),EU(i,e),i==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,X1(e.object,t,i,e)}function jY(i){if(!i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?W1(i.parent,i):Er(i.object)&&(i.object.visible=!1),i.isHidden=!0,M0(i)}}function AU(i){if(i.isHidden){var e;i.props.attach&&(e=i.parent)!=null&&e.object?q1(i.parent,i):Er(i.object)&&i.props.visible!==!1&&(i.object.visible=!0),i.isHidden=!1,M0(i)}}function ME(i,e,t){const n=e.root.getState();if(!(!i.parent&&i.object!==n.scene)){if(!e.object){var s,r;const o=s0[$S(e.type)];e.object=(s=e.props.object)!=null?s:new o(...(r=e.props.args)!=null?r:[]),e.object.__r3f=e}if(bf(e.object,e.props),e.props.attach)q1(i,e);else if(Er(e.object)&&Er(i.object)){const o=i.object.children.indexOf(t?.object);if(t&&o!==-1){const c=i.object.children.indexOf(e.object);if(c!==-1){i.object.children.splice(c,1);const d=c<o?o-1:o;i.object.children.splice(d,0,e.object)}else e.object.parent=i.object,i.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),i.object.dispatchEvent({type:"childadded",child:e.object})}else i.object.add(e.object)}for(const o of e.children)ME(e,o);M0(e)}}function c3(i,e){e&&(e.parent=i,i.children.push(e),ME(i,e))}function S4(i,e,t){if(!e||!t)return;e.parent=i;const n=i.children.indexOf(t);n!==-1?i.children.splice(n,0,e):i.children.push(e),ME(i,e,t)}function CU(i){if(typeof i.dispose=="function"){const e=()=>{try{i.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():v4.unstable_scheduleCallback(v4.unstable_IdlePriority,e)}}function bT(i,e,t){if(!e)return;e.parent=null;const n=i.children.indexOf(e);n!==-1&&i.children.splice(n,1),e.props.attach?W1(i,e):Er(e.object)&&Er(i.object)&&(i.object.remove(e.object),CY(vU(e),e.object));const s=e.props.dispose!==null&&t!==!1;for(let r=e.children.length-1;r>=0;r--){const o=e.children[r];bT(e,o,s)}e.children.length=0,delete e.object.__r3f,s&&e.type!=="primitive"&&e.object.type!=="Scene"&&CU(e.object),t===void 0&&M0(e)}function FY(i,e){for(const t of[i,i.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const jb=[];function VY(){for(const[t]of jb){const n=t.parent;if(n){t.props.attach?W1(n,t):Er(t.object)&&Er(n.object)&&n.object.remove(t.object);for(const s of t.children)s.props.attach?W1(t,s):Er(s.object)&&Er(t.object)&&t.object.remove(s.object)}t.isHidden&&AU(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&CU(t.object)}for(const[t,n,s]of jb){t.props=n;const r=t.parent;if(r){var i,e;const o=s0[$S(t.type)];t.object=(i=t.props.object)!=null?i:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,FY(s,t.object),bf(t.object,t.props),t.props.attach?q1(r,t):Er(t.object)&&Er(r.object)&&r.object.add(t.object);for(const c of t.children)c.props.attach?q1(t,c):Er(c.object)&&Er(t.object)&&t.object.add(c.object);M0(t)}}jb.length=0}const u3=()=>{},M4={};let hb=wU;const kY=0,HY=4,ST=OY({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:IY,removeChild:bT,appendChild:c3,appendInitialChild:c3,insertBefore:S4,appendChildToContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||c3(t,e)},removeChildFromContainer(i,e){const t=i.getState().scene.__r3f;!e||!t||bT(t,e)},insertInContainerBefore(i,e,t){const n=i.getState().scene.__r3f;!e||!t||!n||S4(n,e,t)},getRootHostContext:()=>M4,getChildHostContext:()=>M4,commitUpdate(i,e,t,n,s){var r,o,c;EU(e,n);let d=!1;if((i.type==="primitive"&&t.object!==n.object||((r=n.args)==null?void 0:r.length)!==((o=t.args)==null?void 0:o.length)||(c=n.args)!=null&&c.some((m,g)=>{var y;return m!==((y=t.args)==null?void 0:y[g])}))&&(d=!0),d)jb.push([i,{...n},s]);else{const m=TY(i,n);Object.keys(m).length&&(Object.assign(i.props,m),bf(i.object,m))}(s.sibling===null||(s.flags&HY)===kY)&&VY()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:i=>i?.object,prepareForCommit:()=>null,preparePortalMount:i=>X1(i.getState().scene,i,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:jY,unhideInstance:AU,createTextInstance:u3,hideTextInstance:u3,unhideTextInstance:u3,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:se.createContext(null),setCurrentUpdatePriority(i){hb=i},getCurrentUpdatePriority(){return hb},resolveUpdatePriority(){var i;if(hb!==wU)return hb;switch(typeof window<"u"&&((i=window.event)==null?void 0:i.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return zb.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return zb.ContinuousEventPriority;default:return zb.DefaultEventPriority}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:LY.version}),Uh=new Map,vm={objects:"shallow",strict:!1};function GY(i,e){if(!e&&typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&i.parentElement){const{width:t,height:n,top:s,left:r}=i.parentElement.getBoundingClientRect();return{width:t,height:n,top:s,left:r}}else if(!e&&typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas)return{width:i.width,height:i.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function XY(i){const e=Uh.get(i),t=e?.fiber,n=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const s=typeof reportError=="function"?reportError:console.error,r=n||RY(wT,w4),o=t||ST.createContainer(r,zb.ConcurrentRoot,null,!1,null,"",s,s,s,null);e||Uh.set(i,{fiber:o,store:r});let c,d,p=!1,m=null;return{async configure(g={}){let y;m=new Promise(W=>y=W);let{gl:b,size:S,scene:E,events:A,onCreated:M,shadows:D=!1,linear:R=!1,flat:L=!1,legacy:z=!1,orthographic:U=!1,frameloop:I="always",dpr:F=[1,2],performance:P,raycaster:B,camera:H,onPointerMissed:Q}=g,ie=r.getState(),ue=ie.gl;if(!ie.gl){const W={canvas:i,powerPreference:"high-performance",antialias:!0,alpha:!0},ae=typeof b=="function"?await b(W):b;b4(ae)?ue=ae:ue=new pU({...W,...b}),ie.set({gl:ue})}let fe=ie.raycaster;fe||ie.set({raycaster:fe=new aU});const{params:V,...X}=B||{};if(Hi.equ(X,fe,vm)||bf(fe,{...X}),Hi.equ(V,fe.params,vm)||bf(fe,{params:{...fe.params,...V}}),!ie.camera||ie.camera===d&&!Hi.equ(d,H,vm)){d=H;const W=H?.isCamera,ae=W?H:U?new Zv(0,0,0,0,.1,1e3):new Ks(75,0,.1,1e3);W||(ae.position.z=5,H&&(bf(ae,H),ae.manual||("aspect"in H||"left"in H||"right"in H||"bottom"in H||"top"in H)&&(ae.manual=!0,ae.updateProjectionMatrix())),!ie.camera&&!(H!=null&&H.rotation)&&ae.lookAt(0,0,0)),ie.set({camera:ae}),fe.camera=ae}if(!ie.scene){let W;E!=null&&E.isScene?(W=E,X1(W,r,"",{})):(W=new Kw,X1(W,r,"",{}),E&&bf(W,E)),ie.set({scene:W})}A&&!ie.events.handlers&&ie.set({events:A(r)});const K=GY(i,S);if(Hi.equ(K,ie.size,vm)||ie.setSize(K.width,K.height,K.top,K.left),F&&ie.viewport.dpr!==bU(F)&&ie.setDpr(F),ie.frameloop!==I&&ie.setFrameloop(I),ie.onPointerMissed||ie.set({onPointerMissed:Q}),P&&!Hi.equ(P,ie.performance,vm)&&ie.set(W=>({performance:{...W.performance,...P}})),!ie.xr){var ce;const W=(ye,Pe)=>{const pe=r.getState();pe.frameloop!=="never"&&w4(ye,!0,pe,Pe)},ae=()=>{const ye=r.getState();ye.gl.xr.enabled=ye.gl.xr.isPresenting,ye.gl.xr.setAnimationLoop(ye.gl.xr.isPresenting?W:null),ye.gl.xr.isPresenting||wT(ye)},he={connect(){const ye=r.getState().gl;ye.xr.addEventListener("sessionstart",ae),ye.xr.addEventListener("sessionend",ae)},disconnect(){const ye=r.getState().gl;ye.xr.removeEventListener("sessionstart",ae),ye.xr.removeEventListener("sessionend",ae)}};typeof((ce=ue.xr)==null?void 0:ce.addEventListener)=="function"&&he.connect(),ie.set({xr:he})}if(ue.shadowMap){const W=ue.shadowMap.enabled,ae=ue.shadowMap.type;if(ue.shadowMap.enabled=!!D,Hi.boo(D))ue.shadowMap.type=Rg;else if(Hi.str(D)){var Y;const he={basic:mL,percentage:xS,soft:Rg,variance:Ml};ue.shadowMap.type=(Y=he[D])!=null?Y:Rg}else Hi.obj(D)&&Object.assign(ue.shadowMap,D);(W!==ue.shadowMap.enabled||ae!==ue.shadowMap.type)&&(ue.shadowMap.needsUpdate=!0)}return Gn.enabled=!z,p||(ue.outputColorSpace=R?zf:Ca,ue.toneMapping=L?bc:Pw),ie.legacy!==z&&ie.set(()=>({legacy:z})),ie.linear!==R&&ie.set(()=>({linear:R})),ie.flat!==L&&ie.set(()=>({flat:L})),b&&!Hi.fun(b)&&!b4(b)&&!Hi.equ(b,ue,vm)&&bf(ue,b),c=M,p=!0,y(),this},render(g){return!p&&!m&&this.configure(),m.then(()=>{ST.updateContainer(_.jsx(qY,{store:r,children:g,onCreated:c,rootElement:i}),o,null,()=>{})}),r},unmount(){NU(i)}}}function qY({store:i,children:e,onCreated:t,rootElement:n}){return Kv(()=>{const s=i.getState();s.set(r=>({internal:{...r.internal,active:!0}})),t&&t(s),i.getState().events.connected||s.events.connect==null||s.events.connect(n)},[]),_.jsx(TU.Provider,{value:i,children:e})}function NU(i,e){const t=Uh.get(i),n=t?.fiber;if(n){const s=t?.store.getState();s&&(s.internal.active=!1),ST.updateContainer(null,n,null,()=>{s&&setTimeout(()=>{try{var r,o,c,d;s.events.disconnect==null||s.events.disconnect(),(r=s.gl)==null||(o=r.renderLists)==null||o.dispose==null||o.dispose(),(c=s.gl)==null||c.forceContextLoss==null||c.forceContextLoss(),(d=s.gl)!=null&&d.xr&&s.xr.disconnect(),bY(s.scene),Uh.delete(i)}catch{}},500)})}}const WY=new Set,YY=new Set,ZY=new Set;function f3(i,e){if(i.size)for(const{callback:t}of i.values())t(e)}function jg(i,e){switch(i){case"before":return f3(WY,e);case"after":return f3(YY,e);case"tail":return f3(ZY,e)}}let d3,h3;function MT(i,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof i=="number"&&(n=i-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=i),d3=e.internal.subscribers;for(let s=0;s<d3.length;s++)h3=d3[s],h3.ref.current(h3.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let Y1=!1,TT=!1,p3,T4,ym;function RU(i){T4=requestAnimationFrame(RU),Y1=!0,p3=0,jg("before",i),TT=!0;for(const t of Uh.values()){var e;ym=t.store.getState(),ym.internal.active&&(ym.frameloop==="always"||ym.internal.frames>0)&&!((e=ym.gl.xr)!=null&&e.isPresenting)&&(p3+=MT(i,ym))}if(TT=!1,jg("after",i),p3===0)return jg("tail",i),Y1=!1,cancelAnimationFrame(T4)}function wT(i,e=1){var t;if(!i)return Uh.forEach(n=>wT(n.store.getState(),e));(t=i.gl.xr)!=null&&t.isPresenting||!i.internal.active||i.frameloop==="never"||(e>1?i.internal.frames=Math.min(60,i.internal.frames+e):TT?i.internal.frames=2:i.internal.frames=1,Y1||(Y1=!0,requestAnimationFrame(RU)))}function w4(i,e=!0,t,n){if(e&&jg("before",i),t)MT(i,t,n);else for(const s of Uh.values())MT(i,s.store.getState());e&&jg("after",i)}const m3={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function KY(i){const{handlePointer:e}=NY(i);return{priority:1,enabled:!0,compute(t,n,s){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(m3).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:s}=i.getState();(t=s.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(s.lastEvent.current)},connect:t=>{const{set:n,events:s}=i.getState();if(s.disconnect==null||s.disconnect(),n(r=>({events:{...r.events,connected:t}})),s.handlers)for(const r in s.handlers){const o=s.handlers[r],[c,d]=m3[r];t.addEventListener(c,o,{passive:d})}},disconnect:()=>{const{set:t,events:n}=i.getState();if(n.connected){if(n.handlers)for(const s in n.handlers){const r=n.handlers[s],[o]=m3[s];n.connected.removeEventListener(o,r)}t(s=>({events:{...s.events,connected:void 0}}))}}}}function E4(i,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>i(...n),e)}}function QY({debounce:i,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const s=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[r,o]=se.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=se.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),d=i?typeof i=="number"?i:i.scroll:null,p=i?typeof i=="number"?i:i.resize:null,m=se.useRef(!1);se.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,y,b]=se.useMemo(()=>{const M=()=>{if(!c.current.element)return;const{left:D,top:R,width:L,height:z,bottom:U,right:I,x:F,y:P}=c.current.element.getBoundingClientRect(),B={left:D,top:R,width:L,height:z,bottom:U,right:I,x:F,y:P};c.current.element instanceof HTMLElement&&n&&(B.height=c.current.element.offsetHeight,B.width=c.current.element.offsetWidth),Object.freeze(B),m.current&&!tZ(c.current.lastBounds,B)&&o(c.current.lastBounds=B)};return[M,p?E4(M,p):M,d?E4(M,d):M]},[o,n,d,p]);function S(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",b,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function E(){c.current.element&&(c.current.resizeObserver=new s(b),c.current.resizeObserver.observe(c.current.element),e&&c.current.scrollContainers&&c.current.scrollContainers.forEach(M=>M.addEventListener("scroll",b,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}const A=M=>{!M||M===c.current.element||(S(),c.current.element=M,c.current.scrollContainers=DU(M),E())};return $Y(b,!!e),JY(y),se.useEffect(()=>{S(),E()},[e,b,y]),se.useEffect(()=>S,[]),[A,r,g]}function JY(i){se.useEffect(()=>{const e=i;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[i])}function $Y(i,e){se.useEffect(()=>{if(e){const t=i;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[i,e])}function DU(i){const e=[];if(!i||i===document.body)return e;const{overflow:t,overflowX:n,overflowY:s}=window.getComputedStyle(i);return[t,n,s].some(r=>r==="auto"||r==="scroll")&&e.push(i),[...e,...DU(i.parentElement)]}const eZ=["x","y","top","bottom","left","right","width","height"],tZ=(i,e)=>eZ.every(t=>i[t]===e[t]);function nZ({ref:i,children:e,fallback:t,resize:n,style:s,gl:r,events:o=KY,eventSource:c,eventPrefix:d,shadows:p,linear:m,flat:g,legacy:y,orthographic:b,frameloop:S,dpr:E,performance:A,raycaster:M,camera:D,scene:R,onPointerMissed:L,onCreated:z,...U}){se.useMemo(()=>BY(qW),[]);const I=vY(),[F,P]=QY({scroll:!0,debounce:{scroll:50,resize:0},...n}),B=se.useRef(null),H=se.useRef(null);se.useImperativeHandle(i,()=>B.current);const Q=_U(L),[ie,ue]=se.useState(!1),[fe,V]=se.useState(!1);if(ie)throw ie;if(fe)throw fe;const X=se.useRef(null);Kv(()=>{const ce=B.current;if(P.width>0&&P.height>0&&ce){X.current||(X.current=XY(ce));async function Y(){await X.current.configure({gl:r,scene:R,events:o,shadows:p,linear:m,flat:g,legacy:y,orthographic:b,frameloop:S,dpr:E,performance:A,raycaster:M,camera:D,size:P,onPointerMissed:(...W)=>Q.current==null?void 0:Q.current(...W),onCreated:W=>{W.events.connect==null||W.events.connect(c?xY(c)?c.current:c:H.current),d&&W.setEvents({compute:(ae,he)=>{const ye=ae[d+"X"],Pe=ae[d+"Y"];he.pointer.set(ye/he.size.width*2-1,-(Pe/he.size.height)*2+1),he.raycaster.setFromCamera(he.pointer,he.camera)}}),z?.(W)}}),X.current.render(_.jsx(I,{children:_.jsx(_Y,{set:V,children:_.jsx(se.Suspense,{fallback:_.jsx(yY,{set:ue}),children:e??null})})}))}Y()}}),se.useEffect(()=>{const ce=B.current;if(ce)return()=>NU(ce)},[]);const K=c?"none":"auto";return _.jsx("div",{ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:K,...s},...U,children:_.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:_.jsx("canvas",{ref:B,style:{display:"block"},children:t})})})}function iZ(i){return _.jsx(xU,{children:_.jsx(nZ,{...i})})}function zh(){return zh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},zh.apply(null,arguments)}const sZ=()=>parseInt(jv.replace(/\D+/g,"")),TE=sZ(),x3=TE>=154?"opaque_fragment":"output_fragment";class aZ extends US{constructor(e){super(e),this.onBeforeCompile=(t,n)=>{const{isWebGL2:s}=n.capabilities;t.fragmentShader=t.fragmentShader.replace(`#include <${x3}>`,`
        ${s?`#include <${x3}>`:`#extension GL_OES_standard_derivatives : enable
#include <${x3}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${TE>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const rZ=se.forwardRef((i,e)=>{const[t]=se.useState(()=>new aZ(null));return se.createElement("primitive",zh({},i,{object:t,ref:e,attach:"material"}))});class oZ extends fo{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${TE>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const lZ=i=>new te().setFromSpherical(new rU(i,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),cZ=se.forwardRef(({radius:i=100,depth:e=50,count:t=5e3,saturation:n=0,factor:s=4,fade:r=!1,speed:o=1},c)=>{const d=se.useRef(null),[p,m,g]=se.useMemo(()=>{const b=[],S=[],E=Array.from({length:t},()=>(.5+.5*Math.random())*s),A=new Tt;let M=i+e;const D=e/t;for(let R=0;R<t;R++)M-=D*Math.random(),b.push(...lZ(M).toArray()),A.setHSL(R/t,n,.9),S.push(A.r,A.g,A.b);return[new Float32Array(b),new Float32Array(S),new Float32Array(E)]},[t,e,s,i,n]);JS(b=>d.current&&(d.current.uniforms.time.value=b.clock.elapsedTime*o));const[y]=se.useState(()=>new oZ);return se.createElement("points",{ref:c},se.createElement("bufferGeometry",null,se.createElement("bufferAttribute",{attach:"attributes-position",args:[p,3]}),se.createElement("bufferAttribute",{attach:"attributes-color",args:[m,3]}),se.createElement("bufferAttribute",{attach:"attributes-size",args:[g,1]})),se.createElement("primitive",{ref:d,object:y,attach:"material",blending:n1,"uniforms-fade-value":r,depthWrite:!1,transparent:!0,vertexColors:!0}))});let $d,fg;const uZ=se.createContext(null),A4=new $t,C4=new te,fZ=se.forwardRef(({children:i,range:e,limit:t=1e3,...n},s)=>{const r=se.useRef(null);se.useImperativeHandle(s,()=>r.current,[]);const[o,c]=se.useState([]),[[d,p,m]]=se.useState(()=>[new Float32Array(t*3),Float32Array.from({length:t*3},()=>1),Float32Array.from({length:t},()=>1)]);se.useEffect(()=>{r.current.geometry.attributes.position.needsUpdate=!0}),JS(()=>{for(r.current.updateMatrix(),r.current.updateMatrixWorld(),A4.copy(r.current.matrixWorld).invert(),r.current.geometry.drawRange.count=Math.min(t,e!==void 0?e:t,o.length),$d=0;$d<o.length;$d++)fg=o[$d].current,fg.getWorldPosition(C4).applyMatrix4(A4),C4.toArray(d,$d*3),r.current.geometry.attributes.position.needsUpdate=!0,fg.matrixWorldNeedsUpdate=!0,fg.color.toArray(p,$d*3),r.current.geometry.attributes.color.needsUpdate=!0,m.set([fg.size],$d),r.current.geometry.attributes.size.needsUpdate=!0});const g=se.useMemo(()=>({getParent:()=>r,subscribe:y=>(c(b=>[...b,y]),()=>c(b=>b.filter(S=>S.current!==y.current)))}),[]);return se.createElement("points",zh({userData:{instances:o},matrixAutoUpdate:!1,ref:r,raycast:()=>null},n),se.createElement("bufferGeometry",null,se.createElement("bufferAttribute",{attach:"attributes-position",args:[d,3],usage:_h}),se.createElement("bufferAttribute",{attach:"attributes-color",args:[p,3],usage:_h}),se.createElement("bufferAttribute",{attach:"attributes-size",args:[m,1],usage:_h})),se.createElement(uZ.Provider,{value:g},i))}),dZ=se.forwardRef(({children:i,positions:e,colors:t,sizes:n,stride:s=3,...r},o)=>{const c=se.useRef(null);return se.useImperativeHandle(o,()=>c.current,[]),JS(()=>{const d=c.current.geometry.attributes;d.position.needsUpdate=!0,t&&(d.color.needsUpdate=!0),n&&(d.size.needsUpdate=!0)}),se.createElement("points",zh({ref:c},r),se.createElement("bufferGeometry",null,se.createElement("bufferAttribute",{attach:"attributes-position",args:[e,s],usage:_h}),t&&se.createElement("bufferAttribute",{attach:"attributes-color",args:[t,s],count:t.length/s,usage:_h}),n&&se.createElement("bufferAttribute",{attach:"attributes-size",args:[n,1],count:n.length/s,usage:_h})),i)}),hZ=se.forwardRef((i,e)=>i.positions instanceof Float32Array?se.createElement(dZ,zh({},i,{ref:e})):se.createElement(fZ,zh({},i,{ref:e})));function cu(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function LU(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}var co={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},a0={duration:.5,overwrite:!1,delay:0},wE,ua,Pi,Vo=1e8,wi=1/Vo,ET=Math.PI*2,pZ=ET/4,mZ=0,OU=Math.sqrt,xZ=Math.cos,gZ=Math.sin,Qs=function(e){return typeof e=="string"},es=function(e){return typeof e=="function"},Mu=function(e){return typeof e=="number"},EE=function(e){return typeof e>"u"},Tc=function(e){return typeof e=="object"},Ur=function(e){return e!==!1},AE=function(){return typeof window<"u"},pb=function(e){return es(e)||Qs(e)},UU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},za=Array.isArray,AT=/(?:-?\.?\d|\.)+/gi,zU=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Om=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,g3=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,PU=/[+-]=-?[.\d]+/,BU=/[^,'"\[\]\s]+/gi,vZ=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Gi,uc,CT,CE,ho={},Z1={},IU,jU=function(e){return(Z1=r0(e,ho))&&Ir},NE=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Sv=function(e,t){return!t&&console.warn(e)},FU=function(e,t){return e&&(ho[e]=t)&&Z1&&(Z1[e]=t)||ho},Mv=function(){return 0},yZ={suppressEvents:!0,isStart:!0,kill:!1},Fb={suppressEvents:!0,kill:!1},_Z={suppressEvents:!0},RE={},Nf=[],NT={},VU,no={},v3={},N4=30,Vb=[],DE="",LE=function(e){var t=e[0],n,s;if(Tc(t)||es(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(s=Vb.length;s--&&!Vb[s].targetTest(t););n=Vb[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new fz(e[s],n)))||e.splice(s,1);return e},Mh=function(e){return e._gsap||LE(ko(e))[0]._gsap},kU=function(e,t,n){return(n=e[t])&&es(n)?e[t]():EE(n)&&e.getAttribute&&e.getAttribute(t)||n},zr=function(e,t){return(e=e.split(",")).forEach(t)||e},us=function(e){return Math.round(e*1e5)/1e5||0},Ss=function(e){return Math.round(e*1e7)/1e7||0},Im=function(e,t){var n=t.charAt(0),s=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+s:n==="-"?e-s:n==="*"?e*s:e/s},bZ=function(e,t){for(var n=t.length,s=0;e.indexOf(t[s])<0&&++s<n;);return s<n},K1=function(){var e=Nf.length,t=Nf.slice(0),n,s;for(NT={},Nf.length=0,n=0;n<e;n++)s=t[n],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},OE=function(e){return!!(e._initted||e._startAt||e.add)},HU=function(e,t,n,s){Nf.length&&!ua&&K1(),e.render(t,n,!!(ua&&t<0&&OE(e))),Nf.length&&!ua&&K1()},GU=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(BU).length<2?t:Qs(e)?e.trim():e},XU=function(e){return e},po=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},SZ=function(e){return function(t,n){for(var s in n)s in t||s==="duration"&&e||s==="ease"||(t[s]=n[s])}},r0=function(e,t){for(var n in t)e[n]=t[n];return e},R4=function i(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Tc(t[n])?i(e[n]||(e[n]={}),t[n]):t[n]);return e},Q1=function(e,t){var n={},s;for(s in e)s in t||(n[s]=e[s]);return n},Fg=function(e){var t=e.parent||Gi,n=e.keyframes?SZ(za(e.keyframes)):po;if(Ur(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},MZ=function(e,t){for(var n=e.length,s=n===t.length;s&&n--&&e[n]===t[n];);return n<0},qU=function(e,t,n,s,r){var o=e[s],c;if(r)for(c=t[r];o&&o[r]>c;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[s]=t,t._prev=o,t.parent=t._dp=e,t},e2=function(e,t,n,s){n===void 0&&(n="_first"),s===void 0&&(s="_last");var r=t._prev,o=t._next;r?r._next=o:e[n]===t&&(e[n]=o),o?o._prev=r:e[s]===t&&(e[s]=r),t._next=t._prev=t.parent=null},If=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Th=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},TZ=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},RT=function(e,t,n,s){return e._startAt&&(ua?e._startAt.revert(Fb):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,s))},wZ=function i(e){return!e||e._ts&&i(e.parent)},D4=function(e){return e._repeat?o0(e._tTime,e=e.duration()+e._rDelay)*e:0},o0=function(e,t){var n=Math.floor(e=Ss(e/t));return e&&n===e?n-1:n},J1=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},t2=function(e){return e._end=Ss(e._start+(e._tDur/Math.abs(e._ts||e._rts||wi)||0))},n2=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Ss(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),t2(e),n._dirty||Th(n,e)),e},WU=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=J1(e.rawTime(),t),(!t._dur||Qv(0,t.totalDuration(),n)-t._tTime>wi)&&t.render(n,!0)),Th(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-wi}},hc=function(e,t,n,s){return t.parent&&If(t),t._start=Ss((Mu(n)?n:n||e!==Gi?Bo(e,n,t):e._time)+t._delay),t._end=Ss(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),qU(e,t,"_first","_last",e._sort?"_start":0),DT(t)||(e._recent=t),s||WU(e,t),e._ts<0&&n2(e,e._tTime),e},YU=function(e,t){return(ho.ScrollTrigger||NE("scrollTrigger",t))&&ho.ScrollTrigger.create(t,e)},ZU=function(e,t,n,s,r){if(zE(e,t,r),!e._initted)return 1;if(!n&&e._pt&&!ua&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&VU!==so.frame)return Nf.push(e),e._lazy=[r,s],1},EZ=function i(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||i(t))},DT=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},AZ=function(e,t,n,s){var r=e.ratio,o=t<0||!t&&(!e._start&&EZ(e)&&!(!e._initted&&DT(e))||(e._ts<0||e._dp._ts<0)&&!DT(e))?0:1,c=e._rDelay,d=0,p,m,g;if(c&&e._repeat&&(d=Qv(0,e._tDur,t),m=o0(d,c),e._yoyo&&m&1&&(o=1-o),m!==o0(e._tTime,c)&&(r=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==r||ua||s||e._zTime===wi||!t&&e._zTime){if(!e._initted&&ZU(e,t,s,n,d))return;for(g=e._zTime,e._zTime=t||(n?wi:0),n||(n=t&&!g),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=d,p=e._pt;p;)p.r(o,p.d),p=p._next;t<0&&RT(e,t,n,!0),e._onUpdate&&!n&&oo(e,"onUpdate"),d&&e._repeat&&!n&&e.parent&&oo(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&If(e,1),!n&&!ua&&(oo(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},CZ=function(e,t,n){var s;if(n>t)for(s=e._first;s&&s._start<=n;){if(s.data==="isPause"&&s._start>t)return s;s=s._next}else for(s=e._last;s&&s._start>=n;){if(s.data==="isPause"&&s._start<t)return s;s=s._prev}},l0=function(e,t,n,s){var r=e._repeat,o=Ss(t)||0,c=e._tTime/e._tDur;return c&&!s&&(e._time*=o/e._dur),e._dur=o,e._tDur=r?r<0?1e10:Ss(o*(r+1)+e._rDelay*r):o,c>0&&!s&&n2(e,e._tTime=e._tDur*c),e.parent&&t2(e),n||Th(e.parent,e),e},L4=function(e){return e instanceof lr?Th(e):l0(e,e._dur)},NZ={_start:0,endTime:Mv,totalDuration:Mv},Bo=function i(e,t,n){var s=e.labels,r=e._recent||NZ,o=e.duration()>=Vo?r.endTime(!1):e._dur,c,d,p;return Qs(t)&&(isNaN(t)||t in s)?(d=t.charAt(0),p=t.substr(-1)==="%",c=t.indexOf("="),d==="<"||d===">"?(c>=0&&(t=t.replace(/=/,"")),(d==="<"?r._start:r.endTime(r._repeat>=0))+(parseFloat(t.substr(1))||0)*(p?(c<0?r:n).totalDuration()/100:1)):c<0?(t in s||(s[t]=o),s[t]):(d=parseFloat(t.charAt(c-1)+t.substr(c+1)),p&&n&&(d=d/100*(za(n)?n[0]:n).totalDuration()),c>1?i(e,t.substr(0,c-1),n)+d:o+d)):t==null?o:+t},Vg=function(e,t,n){var s=Mu(t[1]),r=(s?2:1)+(e<2?0:1),o=t[r],c,d;if(s&&(o.duration=t[1]),o.parent=n,e){for(c=o,d=n;d&&!("immediateRender"in c);)c=d.vars.defaults||{},d=Ur(d.vars.inherit)&&d.parent;o.immediateRender=Ur(c.immediateRender),e<2?o.runBackwards=1:o.startAt=t[r-1]}return new bs(t[0],o,t[r+1])},qf=function(e,t){return e||e===0?t(e):t},Qv=function(e,t,n){return n<e?e:n>t?t:n},Ra=function(e,t){return!Qs(e)||!(t=vZ.exec(e))?"":t[1]},RZ=function(e,t,n){return qf(n,function(s){return Qv(e,t,s)})},LT=[].slice,KU=function(e,t){return e&&Tc(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Tc(e[0]))&&!e.nodeType&&e!==uc},DZ=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(s){var r;return Qs(s)&&!t||KU(s,1)?(r=n).push.apply(r,ko(s)):n.push(s)})||n},ko=function(e,t,n){return Pi&&!t&&Pi.selector?Pi.selector(e):Qs(e)&&!n&&(CT||!c0())?LT.call((t||CE).querySelectorAll(e),0):za(e)?DZ(e,n):KU(e)?LT.call(e,0):e?[e]:[]},OT=function(e){return e=ko(e)[0]||Sv("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return ko(t,n.querySelectorAll?n:n===e?Sv("Invalid scope")||CE.createElement("div"):e)}},QU=function(e){return e.sort(function(){return .5-Math.random()})},JU=function(e){if(es(e))return e;var t=Tc(e)?e:{each:e},n=wh(t.ease),s=t.from||0,r=parseFloat(t.base)||0,o={},c=s>0&&s<1,d=isNaN(s)||c,p=t.axis,m=s,g=s;return Qs(s)?m=g={center:.5,edges:.5,end:1}[s]||0:!c&&d&&(m=s[0],g=s[1]),function(y,b,S){var E=(S||t).length,A=o[E],M,D,R,L,z,U,I,F,P;if(!A){if(P=t.grid==="auto"?0:(t.grid||[1,Vo])[1],!P){for(I=-Vo;I<(I=S[P++].getBoundingClientRect().left)&&P<E;);P<E&&P--}for(A=o[E]=[],M=d?Math.min(P,E)*m-.5:s%P,D=P===Vo?0:d?E*g/P-.5:s/P|0,I=0,F=Vo,U=0;U<E;U++)R=U%P-M,L=D-(U/P|0),A[U]=z=p?Math.abs(p==="y"?L:R):OU(R*R+L*L),z>I&&(I=z),z<F&&(F=z);s==="random"&&QU(A),A.max=I-F,A.min=F,A.v=E=(parseFloat(t.amount)||parseFloat(t.each)*(P>E?E-1:p?p==="y"?E/P:P:Math.max(P,E/P))||0)*(s==="edges"?-1:1),A.b=E<0?r-E:r,A.u=Ra(t.amount||t.each)||0,n=n&&E<0?lz(n):n}return E=(A[y]-A.min)/A.max||0,Ss(A.b+(n?n(E):E)*A.v)+A.u}},UT=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var s=Ss(Math.round(parseFloat(n)/e)*e*t);return(s-s%1)/t+(Mu(n)?0:Ra(n))}},$U=function(e,t){var n=za(e),s,r;return!n&&Tc(e)&&(s=n=e.radius||Vo,e.values?(e=ko(e.values),(r=!Mu(e[0]))&&(s*=s)):e=UT(e.increment)),qf(t,n?es(e)?function(o){return r=e(o),Math.abs(r-o)<=s?r:o}:function(o){for(var c=parseFloat(r?o.x:o),d=parseFloat(r?o.y:0),p=Vo,m=0,g=e.length,y,b;g--;)r?(y=e[g].x-c,b=e[g].y-d,y=y*y+b*b):y=Math.abs(e[g]-c),y<p&&(p=y,m=g);return m=!s||p<=s?e[m]:o,r||m===o||Mu(o)?m:m+Ra(o)}:UT(e))},ez=function(e,t,n,s){return qf(za(e)?!t:n===!0?!!(n=0):!s,function(){return za(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(s=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*s)/s})},LZ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(s){return t.reduce(function(r,o){return o(r)},s)}},OZ=function(e,t){return function(n){return e(parseFloat(n))+(t||Ra(n))}},UZ=function(e,t,n){return nz(e,t,0,1,n)},tz=function(e,t,n){return qf(n,function(s){return e[~~t(s)]})},zZ=function i(e,t,n){var s=t-e;return za(e)?tz(e,i(0,e.length),t):qf(n,function(r){return(s+(r-e)%s)%s+e})},PZ=function i(e,t,n){var s=t-e,r=s*2;return za(e)?tz(e,i(0,e.length-1),t):qf(n,function(o){return o=(r+(o-e)%r)%r||0,e+(o>s?r-o:o)})},Tv=function(e){for(var t=0,n="",s,r,o,c;~(s=e.indexOf("random(",t));)o=e.indexOf(")",s),c=e.charAt(s+7)==="[",r=e.substr(s+7,o-s-7).match(c?BU:AT),n+=e.substr(t,s-t)+ez(c?r:+r[0],c?0:+r[1],+r[2]||1e-5),t=o+1;return n+e.substr(t,e.length-t)},nz=function(e,t,n,s,r){var o=t-e,c=s-n;return qf(r,function(d){return n+((d-e)/o*c||0)})},BZ=function i(e,t,n,s){var r=isNaN(e+t)?0:function(b){return(1-b)*e+b*t};if(!r){var o=Qs(e),c={},d,p,m,g,y;if(n===!0&&(s=1)&&(n=null),o)e={p:e},t={p:t};else if(za(e)&&!za(t)){for(m=[],g=e.length,y=g-2,p=1;p<g;p++)m.push(i(e[p-1],e[p]));g--,r=function(S){S*=g;var E=Math.min(y,~~S);return m[E](S-E)},n=t}else s||(e=r0(za(e)?[]:{},e));if(!m){for(d in t)UE.call(c,e,d,"get",t[d]);r=function(S){return IE(S,c)||(o?e.p:e)}}}return qf(n,r)},O4=function(e,t,n){var s=e.labels,r=Vo,o,c,d;for(o in s)c=s[o]-t,c<0==!!n&&c&&r>(c=Math.abs(c))&&(d=o,r=c);return d},oo=function(e,t,n){var s=e.vars,r=s[t],o=Pi,c=e._ctx,d,p,m;if(r)return d=s[t+"Params"],p=s.callbackScope||e,n&&Nf.length&&K1(),c&&(Pi=c),m=d?r.apply(p,d):r.call(p),Pi=o,m},yg=function(e){return If(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ua),e.progress()<1&&oo(e,"onInterrupt"),e},Um,iz=[],sz=function(e){if(e)if(e=!e.name&&e.default||e,AE()||e.headless){var t=e.name,n=es(e),s=t&&!n&&e.init?function(){this._props=[]}:e,r={init:Mv,render:IE,add:UE,kill:$Z,modifier:JZ,rawVars:0},o={targetTest:0,get:0,getSetter:BE,aliases:{},register:0};if(c0(),e!==s){if(no[t])return;po(s,po(Q1(e,r),o)),r0(s.prototype,r0(r,Q1(e,o))),no[s.prop=t]=s,e.targetTest&&(Vb.push(s),RE[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}FU(t,s),e.register&&e.register(Ir,s,Pr)}else iz.push(e)},Ti=255,_g={aqua:[0,Ti,Ti],lime:[0,Ti,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ti],navy:[0,0,128],white:[Ti,Ti,Ti],olive:[128,128,0],yellow:[Ti,Ti,0],orange:[Ti,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ti,0,0],pink:[Ti,192,203],cyan:[0,Ti,Ti],transparent:[Ti,Ti,Ti,0]},y3=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*Ti+.5|0},az=function(e,t,n){var s=e?Mu(e)?[e>>16,e>>8&Ti,e&Ti]:0:_g.black,r,o,c,d,p,m,g,y,b,S;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),_g[e])s=_g[e];else if(e.charAt(0)==="#"){if(e.length<6&&(r=e.charAt(1),o=e.charAt(2),c=e.charAt(3),e="#"+r+r+o+o+c+c+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&Ti,s&Ti,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&Ti,e&Ti]}else if(e.substr(0,3)==="hsl"){if(s=S=e.match(AT),!t)d=+s[0]%360/360,p=+s[1]/100,m=+s[2]/100,o=m<=.5?m*(p+1):m+p-m*p,r=m*2-o,s.length>3&&(s[3]*=1),s[0]=y3(d+1/3,r,o),s[1]=y3(d,r,o),s[2]=y3(d-1/3,r,o);else if(~e.indexOf("="))return s=e.match(zU),n&&s.length<4&&(s[3]=1),s}else s=e.match(AT)||_g.transparent;s=s.map(Number)}return t&&!S&&(r=s[0]/Ti,o=s[1]/Ti,c=s[2]/Ti,g=Math.max(r,o,c),y=Math.min(r,o,c),m=(g+y)/2,g===y?d=p=0:(b=g-y,p=m>.5?b/(2-g-y):b/(g+y),d=g===r?(o-c)/b+(o<c?6:0):g===o?(c-r)/b+2:(r-o)/b+4,d*=60),s[0]=~~(d+.5),s[1]=~~(p*100+.5),s[2]=~~(m*100+.5)),n&&s.length<4&&(s[3]=1),s},rz=function(e){var t=[],n=[],s=-1;return e.split(Rf).forEach(function(r){var o=r.match(Om)||[];t.push.apply(t,o),n.push(s+=o.length+1)}),t.c=n,t},U4=function(e,t,n){var s="",r=(e+s).match(Rf),o=t?"hsla(":"rgba(",c=0,d,p,m,g;if(!r)return e;if(r=r.map(function(y){return(y=az(y,t,1))&&o+(t?y[0]+","+y[1]+"%,"+y[2]+"%,"+y[3]:y.join(","))+")"}),n&&(m=rz(e),d=n.c,d.join(s)!==m.c.join(s)))for(p=e.replace(Rf,"1").split(Om),g=p.length-1;c<g;c++)s+=p[c]+(~d.indexOf(c)?r.shift()||o+"0,0,0,0)":(m.length?m:r.length?r:n).shift());if(!p)for(p=e.split(Rf),g=p.length-1;c<g;c++)s+=p[c]+r[c];return s+p[g]},Rf=(function(){var i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in _g)i+="|"+e+"\\b";return new RegExp(i+")","gi")})(),IZ=/hsl[a]?\(/,oz=function(e){var t=e.join(" "),n;if(Rf.lastIndex=0,Rf.test(t))return n=IZ.test(t),e[1]=U4(e[1],n),e[0]=U4(e[0],n,rz(e[1])),!0},wv,so=(function(){var i=Date.now,e=500,t=33,n=i(),s=n,r=1e3/240,o=r,c=[],d,p,m,g,y,b,S=function E(A){var M=i()-s,D=A===!0,R,L,z,U;if((M>e||M<0)&&(n+=M-t),s+=M,z=s-n,R=z-o,(R>0||D)&&(U=++g.frame,y=z-g.time*1e3,g.time=z=z/1e3,o+=R+(R>=r?4:r-R),L=1),D||(d=p(E)),L)for(b=0;b<c.length;b++)c[b](z,y,U,A)};return g={time:0,frame:0,tick:function(){S(!0)},deltaRatio:function(A){return y/(1e3/(A||60))},wake:function(){IU&&(!CT&&AE()&&(uc=CT=window,CE=uc.document||{},ho.gsap=Ir,(uc.gsapVersions||(uc.gsapVersions=[])).push(Ir.version),jU(Z1||uc.GreenSockGlobals||!uc.gsap&&uc||{}),iz.forEach(sz)),m=typeof requestAnimationFrame<"u"&&requestAnimationFrame,d&&g.sleep(),p=m||function(A){return setTimeout(A,o-g.time*1e3+1|0)},wv=1,S(2))},sleep:function(){(m?cancelAnimationFrame:clearTimeout)(d),wv=0,p=Mv},lagSmoothing:function(A,M){e=A||1/0,t=Math.min(M||33,e)},fps:function(A){r=1e3/(A||240),o=g.time*1e3+r},add:function(A,M,D){var R=M?function(L,z,U,I){A(L,z,U,I),g.remove(R)}:A;return g.remove(A),c[D?"unshift":"push"](R),c0(),R},remove:function(A,M){~(M=c.indexOf(A))&&c.splice(M,1)&&b>=M&&b--},_listeners:c},g})(),c0=function(){return!wv&&so.wake()},Xn={},jZ=/^[\d.\-M][\d.\-,\s]/,FZ=/["']/g,VZ=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),s=n[0],r=1,o=n.length,c,d,p;r<o;r++)d=n[r],c=r!==o-1?d.lastIndexOf(","):d.length,p=d.substr(0,c),t[s]=isNaN(p)?p.replace(FZ,"").trim():+p,s=d.substr(c+1).trim();return t},kZ=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),s=e.indexOf("(",t);return e.substring(t,~s&&s<n?e.indexOf(")",n+1):n)},HZ=function(e){var t=(e+"").split("("),n=Xn[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[VZ(t[1])]:kZ(e).split(",").map(GU)):Xn._CE&&jZ.test(e)?Xn._CE("",e):n},lz=function(e){return function(t){return 1-e(1-t)}},cz=function i(e,t){for(var n=e._first,s;n;)n instanceof lr?i(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?i(n.timeline,t):(s=n._ease,n._ease=n._yEase,n._yEase=s,n._yoyo=t)),n=n._next},wh=function(e,t){return e&&(es(e)?e:Xn[e]||HZ(e))||t},Gh=function(e,t,n,s){n===void 0&&(n=function(d){return 1-t(1-d)}),s===void 0&&(s=function(d){return d<.5?t(d*2)/2:1-t((1-d)*2)/2});var r={easeIn:t,easeOut:n,easeInOut:s},o;return zr(e,function(c){Xn[c]=ho[c]=r,Xn[o=c.toLowerCase()]=n;for(var d in r)Xn[o+(d==="easeIn"?".in":d==="easeOut"?".out":".inOut")]=Xn[c+"."+d]=r[d]}),r},uz=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},_3=function i(e,t,n){var s=t>=1?t:1,r=(n||(e?.3:.45))/(t<1?t:1),o=r/ET*(Math.asin(1/s)||0),c=function(m){return m===1?1:s*Math.pow(2,-10*m)*gZ((m-o)*r)+1},d=e==="out"?c:e==="in"?function(p){return 1-c(1-p)}:uz(c);return r=ET/r,d.config=function(p,m){return i(e,p,m)},d},b3=function i(e,t){t===void 0&&(t=1.70158);var n=function(o){return o?--o*o*((t+1)*o+t)+1:0},s=e==="out"?n:e==="in"?function(r){return 1-n(1-r)}:uz(n);return s.config=function(r){return i(e,r)},s};zr("Linear,Quad,Cubic,Quart,Quint,Strong",function(i,e){var t=e<5?e+1:e;Gh(i+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});Xn.Linear.easeNone=Xn.none=Xn.Linear.easeIn;Gh("Elastic",_3("in"),_3("out"),_3());(function(i,e){var t=1/e,n=2*t,s=2.5*t,r=function(c){return c<t?i*c*c:c<n?i*Math.pow(c-1.5/e,2)+.75:c<s?i*(c-=2.25/e)*c+.9375:i*Math.pow(c-2.625/e,2)+.984375};Gh("Bounce",function(o){return 1-r(1-o)},r)})(7.5625,2.75);Gh("Expo",function(i){return Math.pow(2,10*(i-1))*i+i*i*i*i*i*i*(1-i)});Gh("Circ",function(i){return-(OU(1-i*i)-1)});Gh("Sine",function(i){return i===1?1:-xZ(i*pZ)+1});Gh("Back",b3("in"),b3("out"),b3());Xn.SteppedEase=Xn.steps=ho.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,s=e+(t?0:1),r=t?1:0,o=1-wi;return function(c){return((s*Qv(0,o,c)|0)+r)*n}}};a0.ease=Xn["quad.out"];zr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(i){return DE+=i+","+i+"Params,"});var fz=function(e,t){this.id=mZ++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:kU,this.set=t?t.getSetter:BE},Ev=(function(){function i(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,l0(this,+t.duration,1,1),this.data=t.data,Pi&&(this._ctx=Pi,Pi.data.push(this)),wv||so.wake()}var e=i.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,l0(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,s){if(c0(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(n2(this,n),!r._dp||r.parent||WU(r,this);r&&r.parent;)r.parent._time!==r._start+(r._ts>=0?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&hc(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===wi||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),HU(this,n,s)),this},e.time=function(n,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+D4(this))%(this._dur+this._rDelay)||(n?this._dur:0),s):this._time},e.totalProgress=function(n,s){return arguments.length?this.totalTime(this.totalDuration()*n,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+D4(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,s){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*r,s):this._repeat?o0(this._tTime,r)+1:1},e.timeScale=function(n,s){if(!arguments.length)return this._rts===-wi?0:this._rts;if(this._rts===n)return this;var r=this.parent&&this._ts?J1(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-wi?0:this._rts,this.totalTime(Qv(-Math.abs(this._delay),this.totalDuration(),r),s!==!1),t2(this),TZ(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(c0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==wi&&(this._tTime-=wi)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&hc(s,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Ur(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var s=this.parent||this._dp;return s?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?J1(s.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=_Z);var s=ua;return ua=n,OE(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),ua=s,this},e.globalTime=function(n){for(var s=this,r=arguments.length?n:s.rawTime();s;)r=s._start+r/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(n):r},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,L4(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var s=this._time;return this._rDelay=n,L4(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,s){return this.totalTime(Bo(this,n),Ur(s))},e.restart=function(n,s){return this.play().totalTime(n?-this._delay:0,Ur(s)),this._dur||(this._zTime=-wi),this},e.play=function(n,s){return n!=null&&this.seek(n,s),this.reversed(!1).paused(!1)},e.reverse=function(n,s){return n!=null&&this.seek(n||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(n,s){return n!=null&&this.seek(n,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-wi:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-wi,this},e.isActive=function(){var n=this.parent||this._dp,s=this._start,r;return!!(!n||this._ts&&this._initted&&n.isActive()&&(r=n.rawTime(!0))>=s&&r<this.endTime(!0)-wi)},e.eventCallback=function(n,s,r){var o=this.vars;return arguments.length>1?(s?(o[n]=s,r&&(o[n+"Params"]=r),n==="onUpdate"&&(this._onUpdate=s)):delete o[n],this):o[n]},e.then=function(n){var s=this;return new Promise(function(r){var o=es(n)?n:XU,c=function(){var p=s.then;s.then=null,es(o)&&(o=o(s))&&(o.then||o===s)&&(s.then=p),r(o),s.then=p};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?c():s._prom=c})},e.kill=function(){yg(this)},i})();po(Ev.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-wi,_prom:0,_ps:!1,_rts:1});var lr=(function(i){LU(e,i);function e(n,s){var r;return n===void 0&&(n={}),r=i.call(this,n)||this,r.labels={},r.smoothChildTiming=!!n.smoothChildTiming,r.autoRemoveChildren=!!n.autoRemoveChildren,r._sort=Ur(n.sortChildren),Gi&&hc(n.parent||Gi,cu(r),s),n.reversed&&r.reverse(),n.paused&&r.paused(!0),n.scrollTrigger&&YU(cu(r),n.scrollTrigger),r}var t=e.prototype;return t.to=function(s,r,o){return Vg(0,arguments,this),this},t.from=function(s,r,o){return Vg(1,arguments,this),this},t.fromTo=function(s,r,o,c){return Vg(2,arguments,this),this},t.set=function(s,r,o){return r.duration=0,r.parent=this,Fg(r).repeatDelay||(r.repeat=0),r.immediateRender=!!r.immediateRender,new bs(s,r,Bo(this,o),1),this},t.call=function(s,r,o){return hc(this,bs.delayedCall(0,s,r),o)},t.staggerTo=function(s,r,o,c,d,p,m){return o.duration=r,o.stagger=o.stagger||c,o.onComplete=p,o.onCompleteParams=m,o.parent=this,new bs(s,o,Bo(this,d)),this},t.staggerFrom=function(s,r,o,c,d,p,m){return o.runBackwards=1,Fg(o).immediateRender=Ur(o.immediateRender),this.staggerTo(s,r,o,c,d,p,m)},t.staggerFromTo=function(s,r,o,c,d,p,m,g){return c.startAt=o,Fg(c).immediateRender=Ur(c.immediateRender),this.staggerTo(s,r,c,d,p,m,g)},t.render=function(s,r,o){var c=this._time,d=this._dirty?this.totalDuration():this._tDur,p=this._dur,m=s<=0?0:Ss(s),g=this._zTime<0!=s<0&&(this._initted||!p),y,b,S,E,A,M,D,R,L,z,U,I;if(this!==Gi&&m>d&&s>=0&&(m=d),m!==this._tTime||o||g){if(c!==this._time&&p&&(m+=this._time-c,s+=this._time-c),y=m,L=this._start,R=this._ts,M=!R,g&&(p||(c=this._zTime),(s||!r)&&(this._zTime=s)),this._repeat){if(U=this._yoyo,A=p+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(A*100+s,r,o);if(y=Ss(m%A),m===d?(E=this._repeat,y=p):(z=Ss(m/A),E=~~z,E&&E===z&&(y=p,E--),y>p&&(y=p)),z=o0(this._tTime,A),!c&&this._tTime&&z!==E&&this._tTime-z*A-this._dur<=0&&(z=E),U&&E&1&&(y=p-y,I=1),E!==z&&!this._lock){var F=U&&z&1,P=F===(U&&E&1);if(E<z&&(F=!F),c=F?0:m%p?p:m,this._lock=1,this.render(c||(I?0:Ss(E*A)),r,!p)._lock=0,this._tTime=m,!r&&this.parent&&oo(this,"onRepeat"),this.vars.repeatRefresh&&!I&&(this.invalidate()._lock=1),c&&c!==this._time||M!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(p=this._dur,d=this._tDur,P&&(this._lock=2,c=F?p:-1e-4,this.render(c,!0),this.vars.repeatRefresh&&!I&&this.invalidate()),this._lock=0,!this._ts&&!M)return this;cz(this,I)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(D=CZ(this,Ss(c),Ss(y)),D&&(m-=y-(y=D._start))),this._tTime=m,this._time=y,this._act=!R,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,c=0),!c&&m&&!r&&!z&&(oo(this,"onStart"),this._tTime!==m))return this;if(y>=c&&s>=0)for(b=this._first;b;){if(S=b._next,(b._act||y>=b._start)&&b._ts&&D!==b){if(b.parent!==this)return this.render(s,r,o);if(b.render(b._ts>0?(y-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(y-b._start)*b._ts,r,o),y!==this._time||!this._ts&&!M){D=0,S&&(m+=this._zTime=-wi);break}}b=S}else{b=this._last;for(var B=s<0?s:y;b;){if(S=b._prev,(b._act||B<=b._end)&&b._ts&&D!==b){if(b.parent!==this)return this.render(s,r,o);if(b.render(b._ts>0?(B-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(B-b._start)*b._ts,r,o||ua&&OE(b)),y!==this._time||!this._ts&&!M){D=0,S&&(m+=this._zTime=B?-wi:wi);break}}b=S}}if(D&&!r&&(this.pause(),D.render(y>=c?0:-wi)._zTime=y>=c?1:-1,this._ts))return this._start=L,t2(this),this.render(s,r,o);this._onUpdate&&!r&&oo(this,"onUpdate",!0),(m===d&&this._tTime>=this.totalDuration()||!m&&c)&&(L===this._start||Math.abs(R)!==Math.abs(this._ts))&&(this._lock||((s||!p)&&(m===d&&this._ts>0||!m&&this._ts<0)&&If(this,1),!r&&!(s<0&&!c)&&(m||c||!d)&&(oo(this,m===d&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<d&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(s,r){var o=this;if(Mu(r)||(r=Bo(this,r,s)),!(s instanceof Ev)){if(za(s))return s.forEach(function(c){return o.add(c,r)}),this;if(Qs(s))return this.addLabel(s,r);if(es(s))s=bs.delayedCall(0,s);else return this}return this!==s?hc(this,s,r):this},t.getChildren=function(s,r,o,c){s===void 0&&(s=!0),r===void 0&&(r=!0),o===void 0&&(o=!0),c===void 0&&(c=-Vo);for(var d=[],p=this._first;p;)p._start>=c&&(p instanceof bs?r&&d.push(p):(o&&d.push(p),s&&d.push.apply(d,p.getChildren(!0,r,o)))),p=p._next;return d},t.getById=function(s){for(var r=this.getChildren(1,1,1),o=r.length;o--;)if(r[o].vars.id===s)return r[o]},t.remove=function(s){return Qs(s)?this.removeLabel(s):es(s)?this.killTweensOf(s):(s.parent===this&&e2(this,s),s===this._recent&&(this._recent=this._last),Th(this))},t.totalTime=function(s,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ss(so.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),i.prototype.totalTime.call(this,s,r),this._forcing=0,this):this._tTime},t.addLabel=function(s,r){return this.labels[s]=Bo(this,r),this},t.removeLabel=function(s){return delete this.labels[s],this},t.addPause=function(s,r,o){var c=bs.delayedCall(0,r||Mv,o);return c.data="isPause",this._hasPause=1,hc(this,c,Bo(this,s))},t.removePause=function(s){var r=this._first;for(s=Bo(this,s);r;)r._start===s&&r.data==="isPause"&&If(r),r=r._next},t.killTweensOf=function(s,r,o){for(var c=this.getTweensOf(s,o),d=c.length;d--;)Tf!==c[d]&&c[d].kill(s,r);return this},t.getTweensOf=function(s,r){for(var o=[],c=ko(s),d=this._first,p=Mu(r),m;d;)d instanceof bs?bZ(d._targets,c)&&(p?(!Tf||d._initted&&d._ts)&&d.globalTime(0)<=r&&d.globalTime(d.totalDuration())>r:!r||d.isActive())&&o.push(d):(m=d.getTweensOf(c,r)).length&&o.push.apply(o,m),d=d._next;return o},t.tweenTo=function(s,r){r=r||{};var o=this,c=Bo(o,s),d=r,p=d.startAt,m=d.onStart,g=d.onStartParams,y=d.immediateRender,b,S=bs.to(o,po({ease:r.ease||"none",lazy:!1,immediateRender:!1,time:c,overwrite:"auto",duration:r.duration||Math.abs((c-(p&&"time"in p?p.time:o._time))/o.timeScale())||wi,onStart:function(){if(o.pause(),!b){var A=r.duration||Math.abs((c-(p&&"time"in p?p.time:o._time))/o.timeScale());S._dur!==A&&l0(S,A,0,1).render(S._time,!0,!0),b=1}m&&m.apply(S,g||[])}},r));return y?S.render(0):S},t.tweenFromTo=function(s,r,o){return this.tweenTo(r,po({startAt:{time:Bo(this,s)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(s){return s===void 0&&(s=this._time),O4(this,Bo(this,s))},t.previousLabel=function(s){return s===void 0&&(s=this._time),O4(this,Bo(this,s),1)},t.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+wi)},t.shiftChildren=function(s,r,o){o===void 0&&(o=0);for(var c=this._first,d=this.labels,p;c;)c._start>=o&&(c._start+=s,c._end+=s),c=c._next;if(r)for(p in d)d[p]>=o&&(d[p]+=s);return Th(this)},t.invalidate=function(s){var r=this._first;for(this._lock=0;r;)r.invalidate(s),r=r._next;return i.prototype.invalidate.call(this,s)},t.clear=function(s){s===void 0&&(s=!0);for(var r=this._first,o;r;)o=r._next,this.remove(r),r=o;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Th(this)},t.totalDuration=function(s){var r=0,o=this,c=o._last,d=Vo,p,m,g;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-s:s));if(o._dirty){for(g=o.parent;c;)p=c._prev,c._dirty&&c.totalDuration(),m=c._start,m>d&&o._sort&&c._ts&&!o._lock?(o._lock=1,hc(o,c,m-c._delay,1)._lock=0):d=m,m<0&&c._ts&&(r-=m,(!g&&!o._dp||g&&g.smoothChildTiming)&&(o._start+=m/o._ts,o._time-=m,o._tTime-=m),o.shiftChildren(-m,!1,-1/0),d=0),c._end>r&&c._ts&&(r=c._end),c=p;l0(o,o===Gi&&o._time>r?o._time:r,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(s){if(Gi._ts&&(HU(Gi,J1(s,Gi)),VU=so.frame),so.frame>=N4){N4+=co.autoSleep||120;var r=Gi._first;if((!r||!r._ts)&&co.autoSleep&&so._listeners.length<2){for(;r&&!r._ts;)r=r._next;r||so.sleep()}}},e})(Ev);po(lr.prototype,{_lock:0,_hasPause:0,_forcing:0});var GZ=function(e,t,n,s,r,o,c){var d=new Pr(this._pt,e,t,0,1,gz,null,r),p=0,m=0,g,y,b,S,E,A,M,D;for(d.b=n,d.e=s,n+="",s+="",(M=~s.indexOf("random("))&&(s=Tv(s)),o&&(D=[n,s],o(D,e,t),n=D[0],s=D[1]),y=n.match(g3)||[];g=g3.exec(s);)S=g[0],E=s.substring(p,g.index),b?b=(b+1)%5:E.substr(-5)==="rgba("&&(b=1),S!==y[m++]&&(A=parseFloat(y[m-1])||0,d._pt={_next:d._pt,p:E||m===1?E:",",s:A,c:S.charAt(1)==="="?Im(A,S)-A:parseFloat(S)-A,m:b&&b<4?Math.round:0},p=g3.lastIndex);return d.c=p<s.length?s.substring(p,s.length):"",d.fp=c,(PU.test(s)||M)&&(d.e=0),this._pt=d,d},UE=function(e,t,n,s,r,o,c,d,p,m){es(s)&&(s=s(r||0,e,o));var g=e[t],y=n!=="get"?n:es(g)?p?e[t.indexOf("set")||!es(e["get"+t.substr(3)])?t:"get"+t.substr(3)](p):e[t]():g,b=es(g)?p?ZZ:mz:PE,S;if(Qs(s)&&(~s.indexOf("random(")&&(s=Tv(s)),s.charAt(1)==="="&&(S=Im(y,s)+(Ra(y)||0),(S||S===0)&&(s=S))),!m||y!==s||zT)return!isNaN(y*s)&&s!==""?(S=new Pr(this._pt,e,t,+y||0,s-(y||0),typeof g=="boolean"?QZ:xz,0,b),p&&(S.fp=p),c&&S.modifier(c,this,e),this._pt=S):(!g&&!(t in e)&&NE(t,s),GZ.call(this,e,t,y,s,b,d||co.stringFilter,p))},XZ=function(e,t,n,s,r){if(es(e)&&(e=kg(e,r,t,n,s)),!Tc(e)||e.style&&e.nodeType||za(e)||UU(e))return Qs(e)?kg(e,r,t,n,s):e;var o={},c;for(c in e)o[c]=kg(e[c],r,t,n,s);return o},dz=function(e,t,n,s,r,o){var c,d,p,m;if(no[e]&&(c=new no[e]).init(r,c.rawVars?t[e]:XZ(t[e],s,r,o,n),n,s,o)!==!1&&(n._pt=d=new Pr(n._pt,r,e,0,1,c.render,c,0,c.priority),n!==Um))for(p=n._ptLookup[n._targets.indexOf(r)],m=c._props.length;m--;)p[c._props[m]]=d;return c},Tf,zT,zE=function i(e,t,n){var s=e.vars,r=s.ease,o=s.startAt,c=s.immediateRender,d=s.lazy,p=s.onUpdate,m=s.runBackwards,g=s.yoyoEase,y=s.keyframes,b=s.autoRevert,S=e._dur,E=e._startAt,A=e._targets,M=e.parent,D=M&&M.data==="nested"?M.vars.targets:A,R=e._overwrite==="auto"&&!wE,L=e.timeline,z,U,I,F,P,B,H,Q,ie,ue,fe,V,X;if(L&&(!y||!r)&&(r="none"),e._ease=wh(r,a0.ease),e._yEase=g?lz(wh(g===!0?r:g,a0.ease)):0,g&&e._yoyo&&!e._repeat&&(g=e._yEase,e._yEase=e._ease,e._ease=g),e._from=!L&&!!s.runBackwards,!L||y&&!s.stagger){if(Q=A[0]?Mh(A[0]).harness:0,V=Q&&s[Q.prop],z=Q1(s,RE),E&&(E._zTime<0&&E.progress(1),t<0&&m&&c&&!b?E.render(-1,!0):E.revert(m&&S?Fb:yZ),E._lazy=0),o){if(If(e._startAt=bs.set(A,po({data:"isStart",overwrite:!1,parent:M,immediateRender:!0,lazy:!E&&Ur(d),startAt:null,delay:0,onUpdate:p&&function(){return oo(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ua||!c&&!b)&&e._startAt.revert(Fb),c&&S&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(m&&S&&!E){if(t&&(c=!1),I=po({overwrite:!1,data:"isFromStart",lazy:c&&!E&&Ur(d),immediateRender:c,stagger:0,parent:M},z),V&&(I[Q.prop]=V),If(e._startAt=bs.set(A,I)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ua?e._startAt.revert(Fb):e._startAt.render(-1,!0)),e._zTime=t,!c)i(e._startAt,wi,wi);else if(!t)return}for(e._pt=e._ptCache=0,d=S&&Ur(d)||d&&!S,U=0;U<A.length;U++){if(P=A[U],H=P._gsap||LE(A)[U]._gsap,e._ptLookup[U]=ue={},NT[H.id]&&Nf.length&&K1(),fe=D===A?U:D.indexOf(P),Q&&(ie=new Q).init(P,V||z,e,fe,D)!==!1&&(e._pt=F=new Pr(e._pt,P,ie.name,0,1,ie.render,ie,0,ie.priority),ie._props.forEach(function(K){ue[K]=F}),ie.priority&&(B=1)),!Q||V)for(I in z)no[I]&&(ie=dz(I,z,e,fe,P,D))?ie.priority&&(B=1):ue[I]=F=UE.call(e,P,I,"get",z[I],fe,D,0,s.stringFilter);e._op&&e._op[U]&&e.kill(P,e._op[U]),R&&e._pt&&(Tf=e,Gi.killTweensOf(P,ue,e.globalTime(t)),X=!e.parent,Tf=0),e._pt&&d&&(NT[H.id]=1)}B&&vz(e),e._onInit&&e._onInit(e)}e._onUpdate=p,e._initted=(!e._op||e._pt)&&!X,y&&t<=0&&L.render(Vo,!0,!0)},qZ=function(e,t,n,s,r,o,c,d){var p=(e._pt&&e._ptCache||(e._ptCache={}))[t],m,g,y,b;if(!p)for(p=e._ptCache[t]=[],y=e._ptLookup,b=e._targets.length;b--;){if(m=y[b][t],m&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==t&&m.fp!==t;)m=m._next;if(!m)return zT=1,e.vars[t]="+=0",zE(e,c),zT=0,d?Sv(t+" not eligible for reset"):1;p.push(m)}for(b=p.length;b--;)g=p[b],m=g._pt||g,m.s=(s||s===0)&&!r?s:m.s+(s||0)+o*m.c,m.c=n-m.s,g.e&&(g.e=us(n)+Ra(g.e)),g.b&&(g.b=m.s+Ra(g.b))},WZ=function(e,t){var n=e[0]?Mh(e[0]).harness:0,s=n&&n.aliases,r,o,c,d;if(!s)return t;r=r0({},t);for(o in s)if(o in r)for(d=s[o].split(","),c=d.length;c--;)r[d[c]]=r[o];return r},YZ=function(e,t,n,s){var r=t.ease||s||"power1.inOut",o,c;if(za(t))c=n[e]||(n[e]=[]),t.forEach(function(d,p){return c.push({t:p/(t.length-1)*100,v:d,e:r})});else for(o in t)c=n[o]||(n[o]=[]),o==="ease"||c.push({t:parseFloat(e),v:t[o],e:r})},kg=function(e,t,n,s,r){return es(e)?e.call(t,n,s,r):Qs(e)&&~e.indexOf("random(")?Tv(e):e},hz=DE+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",pz={};zr(hz+",id,stagger,delay,duration,paused,scrollTrigger",function(i){return pz[i]=1});var bs=(function(i){LU(e,i);function e(n,s,r,o){var c;typeof s=="number"&&(r.duration=s,s=r,r=null),c=i.call(this,o?s:Fg(s))||this;var d=c.vars,p=d.duration,m=d.delay,g=d.immediateRender,y=d.stagger,b=d.overwrite,S=d.keyframes,E=d.defaults,A=d.scrollTrigger,M=d.yoyoEase,D=s.parent||Gi,R=(za(n)||UU(n)?Mu(n[0]):"length"in s)?[n]:ko(n),L,z,U,I,F,P,B,H;if(c._targets=R.length?LE(R):Sv("GSAP target "+n+" not found. https://gsap.com",!co.nullTargetWarn)||[],c._ptLookup=[],c._overwrite=b,S||y||pb(p)||pb(m)){if(s=c.vars,L=c.timeline=new lr({data:"nested",defaults:E||{},targets:D&&D.data==="nested"?D.vars.targets:R}),L.kill(),L.parent=L._dp=cu(c),L._start=0,y||pb(p)||pb(m)){if(I=R.length,B=y&&JU(y),Tc(y))for(F in y)~hz.indexOf(F)&&(H||(H={}),H[F]=y[F]);for(z=0;z<I;z++)U=Q1(s,pz),U.stagger=0,M&&(U.yoyoEase=M),H&&r0(U,H),P=R[z],U.duration=+kg(p,cu(c),z,P,R),U.delay=(+kg(m,cu(c),z,P,R)||0)-c._delay,!y&&I===1&&U.delay&&(c._delay=m=U.delay,c._start+=m,U.delay=0),L.to(P,U,B?B(z,P,R):0),L._ease=Xn.none;L.duration()?p=m=0:c.timeline=0}else if(S){Fg(po(L.vars.defaults,{ease:"none"})),L._ease=wh(S.ease||s.ease||"none");var Q=0,ie,ue,fe;if(za(S))S.forEach(function(V){return L.to(R,V,">")}),L.duration();else{U={};for(F in S)F==="ease"||F==="easeEach"||YZ(F,S[F],U,S.easeEach);for(F in U)for(ie=U[F].sort(function(V,X){return V.t-X.t}),Q=0,z=0;z<ie.length;z++)ue=ie[z],fe={ease:ue.e,duration:(ue.t-(z?ie[z-1].t:0))/100*p},fe[F]=ue.v,L.to(R,fe,Q),Q+=fe.duration;L.duration()<p&&L.to({},{duration:p-L.duration()})}}p||c.duration(p=L.duration())}else c.timeline=0;return b===!0&&!wE&&(Tf=cu(c),Gi.killTweensOf(R),Tf=0),hc(D,cu(c),r),s.reversed&&c.reverse(),s.paused&&c.paused(!0),(g||!p&&!S&&c._start===Ss(D._time)&&Ur(g)&&wZ(cu(c))&&D.data!=="nested")&&(c._tTime=-wi,c.render(Math.max(0,-m)||0)),A&&YU(cu(c),A),c}var t=e.prototype;return t.render=function(s,r,o){var c=this._time,d=this._tDur,p=this._dur,m=s<0,g=s>d-wi&&!m?d:s<wi?0:s,y,b,S,E,A,M,D,R,L;if(!p)AZ(this,s,r,o);else if(g!==this._tTime||!s||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(y=g,R=this.timeline,this._repeat){if(E=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(E*100+s,r,o);if(y=Ss(g%E),g===d?(S=this._repeat,y=p):(A=Ss(g/E),S=~~A,S&&S===A?(y=p,S--):y>p&&(y=p)),M=this._yoyo&&S&1,M&&(L=this._yEase,y=p-y),A=o0(this._tTime,E),y===c&&!o&&this._initted&&S===A)return this._tTime=g,this;S!==A&&(R&&this._yEase&&cz(R,M),this.vars.repeatRefresh&&!M&&!this._lock&&y!==E&&this._initted&&(this._lock=o=1,this.render(Ss(E*S),!0).invalidate()._lock=0))}if(!this._initted){if(ZU(this,m?s:y,o,r,g))return this._tTime=0,this;if(c!==this._time&&!(o&&this.vars.repeatRefresh&&S!==A))return this;if(p!==this._dur)return this.render(s,r,o)}if(this._tTime=g,this._time=y,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=D=(L||this._ease)(y/p),this._from&&(this.ratio=D=1-D),!c&&g&&!r&&!A&&(oo(this,"onStart"),this._tTime!==g))return this;for(b=this._pt;b;)b.r(D,b.d),b=b._next;R&&R.render(s<0?s:R._dur*R._ease(y/this._dur),r,o)||this._startAt&&(this._zTime=s),this._onUpdate&&!r&&(m&&RT(this,s,r,o),oo(this,"onUpdate")),this._repeat&&S!==A&&this.vars.onRepeat&&!r&&this.parent&&oo(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(m&&!this._onUpdate&&RT(this,s,!0,!0),(s||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&If(this,1),!r&&!(m&&!c)&&(g||c||M)&&(oo(this,g===d?"onComplete":"onReverseComplete",!0),this._prom&&!(g<d&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),i.prototype.invalidate.call(this,s)},t.resetTo=function(s,r,o,c,d){wv||so.wake(),this._ts||this.play();var p=Math.min(this._dur,(this._dp._time-this._start)*this._ts),m;return this._initted||zE(this,p),m=this._ease(p/this._dur),qZ(this,s,r,o,c,m,p,d)?this.resetTo(s,r,o,c,1):(n2(this,0),this.parent||qU(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(s,r){if(r===void 0&&(r="all"),!s&&(!r||r==="all"))return this._lazy=this._pt=0,this.parent?yg(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ua),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(s,r,Tf&&Tf.vars.overwrite!==!0)._first||yg(this),this.parent&&o!==this.timeline.totalDuration()&&l0(this,this._dur*this.timeline._tDur/o,0,1),this}var c=this._targets,d=s?ko(s):c,p=this._ptLookup,m=this._pt,g,y,b,S,E,A,M;if((!r||r==="all")&&MZ(c,d))return r==="all"&&(this._pt=0),yg(this);for(g=this._op=this._op||[],r!=="all"&&(Qs(r)&&(E={},zr(r,function(D){return E[D]=1}),r=E),r=WZ(c,r)),M=c.length;M--;)if(~d.indexOf(c[M])){y=p[M],r==="all"?(g[M]=r,S=y,b={}):(b=g[M]=g[M]||{},S=r);for(E in S)A=y&&y[E],A&&((!("kill"in A.d)||A.d.kill(E)===!0)&&e2(this,A,"_pt"),delete y[E]),b!=="all"&&(b[E]=1)}return this._initted&&!this._pt&&m&&yg(this),this},e.to=function(s,r){return new e(s,r,arguments[2])},e.from=function(s,r){return Vg(1,arguments)},e.delayedCall=function(s,r,o,c){return new e(r,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:r,onReverseComplete:r,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:c})},e.fromTo=function(s,r,o){return Vg(2,arguments)},e.set=function(s,r){return r.duration=0,r.repeatDelay||(r.repeat=0),new e(s,r)},e.killTweensOf=function(s,r,o){return Gi.killTweensOf(s,r,o)},e})(Ev);po(bs.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});zr("staggerTo,staggerFrom,staggerFromTo",function(i){bs[i]=function(){var e=new lr,t=LT.call(arguments,0);return t.splice(i==="staggerFromTo"?5:4,0,0),e[i].apply(e,t)}});var PE=function(e,t,n){return e[t]=n},mz=function(e,t,n){return e[t](n)},ZZ=function(e,t,n,s){return e[t](s.fp,n)},KZ=function(e,t,n){return e.setAttribute(t,n)},BE=function(e,t){return es(e[t])?mz:EE(e[t])&&e.setAttribute?KZ:PE},xz=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},QZ=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},gz=function(e,t){var n=t._pt,s="";if(!e&&t.b)s=t.b;else if(e===1&&t.e)s=t.e;else{for(;n;)s=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+s,n=n._next;s+=t.c}t.set(t.t,t.p,s,t)},IE=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},JZ=function(e,t,n,s){for(var r=this._pt,o;r;)o=r._next,r.p===s&&r.modifier(e,t,n),r=o},$Z=function(e){for(var t=this._pt,n,s;t;)s=t._next,t.p===e&&!t.op||t.op===e?e2(this,t,"_pt"):t.dep||(n=1),t=s;return!n},eK=function(e,t,n,s){s.mSet(e,t,s.m.call(s.tween,n,s.mt),s)},vz=function(e){for(var t=e._pt,n,s,r,o;t;){for(n=t._next,s=r;s&&s.pr>t.pr;)s=s._next;(t._prev=s?s._prev:o)?t._prev._next=t:r=t,(t._next=s)?s._prev=t:o=t,t=n}e._pt=r},Pr=(function(){function i(t,n,s,r,o,c,d,p,m){this.t=n,this.s=r,this.c=o,this.p=s,this.r=c||xz,this.d=d||this,this.set=p||PE,this.pr=m||0,this._next=t,t&&(t._prev=this)}var e=i.prototype;return e.modifier=function(n,s,r){this.mSet=this.mSet||this.set,this.set=eK,this.m=n,this.mt=r,this.tween=s},i})();zr(DE+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(i){return RE[i]=1});ho.TweenMax=ho.TweenLite=bs;ho.TimelineLite=ho.TimelineMax=lr;Gi=new lr({sortChildren:!1,defaults:a0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});co.stringFilter=oz;var Eh=[],kb={},tK=[],z4=0,nK=0,S3=function(e){return(kb[e]||tK).map(function(t){return t()})},PT=function(){var e=Date.now(),t=[];e-z4>2&&(S3("matchMediaInit"),Eh.forEach(function(n){var s=n.queries,r=n.conditions,o,c,d,p;for(c in s)o=uc.matchMedia(s[c]).matches,o&&(d=1),o!==r[c]&&(r[c]=o,p=1);p&&(n.revert(),d&&t.push(n))}),S3("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(s){return n.add(null,s)})}),z4=e,S3("matchMedia"))},yz=(function(){function i(t,n){this.selector=n&&OT(n),this.data=[],this._r=[],this.isReverted=!1,this.id=nK++,t&&this.add(t)}var e=i.prototype;return e.add=function(n,s,r){es(n)&&(r=s,s=n,n=es);var o=this,c=function(){var p=Pi,m=o.selector,g;return p&&p!==o&&p.data.push(o),r&&(o.selector=OT(r)),Pi=o,g=s.apply(o,arguments),es(g)&&o._r.push(g),Pi=p,o.selector=m,o.isReverted=!1,g};return o.last=c,n===es?c(o,function(d){return o.add(null,d)}):n?o[n]=c:c},e.ignore=function(n){var s=Pi;Pi=null,n(this),Pi=s},e.getTweens=function(){var n=[];return this.data.forEach(function(s){return s instanceof i?n.push.apply(n,s.getTweens()):s instanceof bs&&!(s.parent&&s.parent.data==="nested")&&n.push(s)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,s){var r=this;if(n?(function(){for(var c=r.getTweens(),d=r.data.length,p;d--;)p=r.data[d],p.data==="isFlip"&&(p.revert(),p.getChildren(!0,!0,!1).forEach(function(m){return c.splice(c.indexOf(m),1)}));for(c.map(function(m){return{g:m._dur||m._delay||m._sat&&!m._sat.vars.immediateRender?m.globalTime(0):-1/0,t:m}}).sort(function(m,g){return g.g-m.g||-1/0}).forEach(function(m){return m.t.revert(n)}),d=r.data.length;d--;)p=r.data[d],p instanceof lr?p.data!=="nested"&&(p.scrollTrigger&&p.scrollTrigger.revert(),p.kill()):!(p instanceof bs)&&p.revert&&p.revert(n);r._r.forEach(function(m){return m(n,r)}),r.isReverted=!0})():this.data.forEach(function(c){return c.kill&&c.kill()}),this.clear(),s)for(var o=Eh.length;o--;)Eh[o].id===this.id&&Eh.splice(o,1)},e.revert=function(n){this.kill(n||{})},i})(),iK=(function(){function i(t){this.contexts=[],this.scope=t,Pi&&Pi.data.push(this)}var e=i.prototype;return e.add=function(n,s,r){Tc(n)||(n={matches:n});var o=new yz(0,r||this.scope),c=o.conditions={},d,p,m;Pi&&!o.selector&&(o.selector=Pi.selector),this.contexts.push(o),s=o.add("onMatch",s),o.queries=n;for(p in n)p==="all"?m=1:(d=uc.matchMedia(n[p]),d&&(Eh.indexOf(o)<0&&Eh.push(o),(c[p]=d.matches)&&(m=1),d.addListener?d.addListener(PT):d.addEventListener("change",PT)));return m&&s(o,function(g){return o.add(null,g)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(s){return s.kill(n,!0)})},i})(),$1={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(s){return sz(s)})},timeline:function(e){return new lr(e)},getTweensOf:function(e,t){return Gi.getTweensOf(e,t)},getProperty:function(e,t,n,s){Qs(e)&&(e=ko(e)[0]);var r=Mh(e||{}).get,o=n?XU:GU;return n==="native"&&(n=""),e&&(t?o((no[t]&&no[t].get||r)(e,t,n,s)):function(c,d,p){return o((no[c]&&no[c].get||r)(e,c,d,p))})},quickSetter:function(e,t,n){if(e=ko(e),e.length>1){var s=e.map(function(m){return Ir.quickSetter(m,t,n)}),r=s.length;return function(m){for(var g=r;g--;)s[g](m)}}e=e[0]||{};var o=no[t],c=Mh(e),d=c.harness&&(c.harness.aliases||{})[t]||t,p=o?function(m){var g=new o;Um._pt=0,g.init(e,n?m+n:m,Um,0,[e]),g.render(1,g),Um._pt&&IE(1,Um)}:c.set(e,d);return o?p:function(m){return p(e,d,n?m+n:m,c,1)}},quickTo:function(e,t,n){var s,r=Ir.to(e,po((s={},s[t]="+=0.1",s.paused=!0,s.stagger=0,s),n||{})),o=function(d,p,m){return r.resetTo(t,d,p,m)};return o.tween=r,o},isTweening:function(e){return Gi.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=wh(e.ease,a0.ease)),R4(a0,e||{})},config:function(e){return R4(co,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,s=e.plugins,r=e.defaults,o=e.extendTimeline;(s||"").split(",").forEach(function(c){return c&&!no[c]&&!ho[c]&&Sv(t+" effect requires "+c+" plugin.")}),v3[t]=function(c,d,p){return n(ko(c),po(d||{},r),p)},o&&(lr.prototype[t]=function(c,d,p){return this.add(v3[t](c,Tc(d)?d:(p=d)&&{},this),p)})},registerEase:function(e,t){Xn[e]=wh(t)},parseEase:function(e,t){return arguments.length?wh(e,t):Xn},getById:function(e){return Gi.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new lr(e),s,r;for(n.smoothChildTiming=Ur(e.smoothChildTiming),Gi.remove(n),n._dp=0,n._time=n._tTime=Gi._time,s=Gi._first;s;)r=s._next,(t||!(!s._dur&&s instanceof bs&&s.vars.onComplete===s._targets[0]))&&hc(n,s,s._start-s._delay),s=r;return hc(Gi,n,0),n},context:function(e,t){return e?new yz(e,t):Pi},matchMedia:function(e){return new iK(e)},matchMediaRefresh:function(){return Eh.forEach(function(e){var t=e.conditions,n,s;for(s in t)t[s]&&(t[s]=!1,n=1);n&&e.revert()})||PT()},addEventListener:function(e,t){var n=kb[e]||(kb[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=kb[e],s=n&&n.indexOf(t);s>=0&&n.splice(s,1)},utils:{wrap:zZ,wrapYoyo:PZ,distribute:JU,random:ez,snap:$U,normalize:UZ,getUnit:Ra,clamp:RZ,splitColor:az,toArray:ko,selector:OT,mapRange:nz,pipe:LZ,unitize:OZ,interpolate:BZ,shuffle:QU},install:jU,effects:v3,ticker:so,updateRoot:lr.updateRoot,plugins:no,globalTimeline:Gi,core:{PropTween:Pr,globals:FU,Tween:bs,Timeline:lr,Animation:Ev,getCache:Mh,_removeLinkedListItem:e2,reverting:function(){return ua},context:function(e){return e&&Pi&&(Pi.data.push(e),e._ctx=Pi),Pi},suppressOverwrites:function(e){return wE=e}}};zr("to,from,fromTo,delayedCall,set,killTweensOf",function(i){return $1[i]=bs[i]});so.add(lr.updateRoot);Um=$1.to({},{duration:0});var sK=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},aK=function(e,t){var n=e._targets,s,r,o;for(s in t)for(r=n.length;r--;)o=e._ptLookup[r][s],o&&(o=o.d)&&(o._pt&&(o=sK(o,s)),o&&o.modifier&&o.modifier(t[s],e,n[r],s))},M3=function(e,t){return{name:e,headless:1,rawVars:1,init:function(s,r,o){o._onInit=function(c){var d,p;if(Qs(r)&&(d={},zr(r,function(m){return d[m]=1}),r=d),t){d={};for(p in r)d[p]=t(r[p]);r=d}aK(c,r)}}}},Ir=$1.registerPlugin({name:"attr",init:function(e,t,n,s,r){var o,c,d;this.tween=n;for(o in t)d=e.getAttribute(o)||"",c=this.add(e,"setAttribute",(d||0)+"",t[o],s,r,0,0,o),c.op=o,c.b=d,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)ua?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},M3("roundProps",UT),M3("modifiers"),M3("snap",$U))||$1;bs.version=lr.version=Ir.version="3.13.0";IU=1;AE()&&c0();Xn.Power0;Xn.Power1;Xn.Power2;Xn.Power3;Xn.Power4;Xn.Linear;Xn.Quad;Xn.Cubic;Xn.Quart;Xn.Quint;Xn.Strong;Xn.Elastic;Xn.Back;Xn.SteppedEase;Xn.Bounce;Xn.Sine;Xn.Expo;Xn.Circ;var P4,wf,jm,jE,ph,B4,FE,rK=function(){return typeof window<"u"},Tu={},sh=180/Math.PI,Fm=Math.PI/180,_m=Math.atan2,I4=1e8,VE=/([A-Z])/g,oK=/(left|right|width|margin|padding|x)/i,lK=/[\s,\(]\S/,xc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},BT=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},cK=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},uK=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},fK=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},_z=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},bz=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},dK=function(e,t,n){return e.style[t]=n},hK=function(e,t,n){return e.style.setProperty(t,n)},pK=function(e,t,n){return e._gsap[t]=n},mK=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},xK=function(e,t,n,s,r){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(r,o)},gK=function(e,t,n,s,r){var o=e._gsap;o[t]=n,o.renderTransform(r,o)},Wi="transform",Br=Wi+"Origin",vK=function i(e,t){var n=this,s=this.target,r=s.style,o=s._gsap;if(e in Tu&&r){if(this.tfm=this.tfm||{},e!=="transform")e=xc[e]||e,~e.indexOf(",")?e.split(",").forEach(function(c){return n.tfm[c]=uu(s,c)}):this.tfm[e]=o.x?o[e]:uu(s,e),e===Br&&(this.tfm.zOrigin=o.zOrigin);else return xc.transform.split(",").forEach(function(c){return i.call(n,c,t)});if(this.props.indexOf(Wi)>=0)return;o.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(Br,t,"")),e=Wi}(r||t)&&this.props.push(e,t,r[e])},Sz=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},yK=function(){var e=this.props,t=this.target,n=t.style,s=t._gsap,r,o;for(r=0;r<e.length;r+=3)e[r+1]?e[r+1]===2?t[e[r]](e[r+2]):t[e[r]]=e[r+2]:e[r+2]?n[e[r]]=e[r+2]:n.removeProperty(e[r].substr(0,2)==="--"?e[r]:e[r].replace(VE,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)s[o]=this.tfm[o];s.svg&&(s.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),r=FE(),(!r||!r.isStart)&&!n[Wi]&&(Sz(n),s.zOrigin&&n[Br]&&(n[Br]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},Mz=function(e,t){var n={target:e,props:[],revert:yK,save:vK};return e._gsap||Ir.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(s){return n.save(s)}),n},Tz,IT=function(e,t){var n=wf.createElementNS?wf.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):wf.createElement(e);return n&&n.style?n:wf.createElement(e)},Ho=function i(e,t,n){var s=getComputedStyle(e);return s[t]||s.getPropertyValue(t.replace(VE,"-$1").toLowerCase())||s.getPropertyValue(t)||!n&&i(e,u0(t)||t,1)||""},j4="O,Moz,ms,Ms,Webkit".split(","),u0=function(e,t,n){var s=t||ph,r=s.style,o=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(j4[o]+e in r););return o<0?null:(o===3?"ms":o>=0?j4[o]:"")+e},jT=function(){rK()&&window.document&&(P4=window,wf=P4.document,jm=wf.documentElement,ph=IT("div")||{style:{}},IT("div"),Wi=u0(Wi),Br=Wi+"Origin",ph.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Tz=!!u0("perspective"),FE=Ir.core.reverting,jE=1)},F4=function(e){var t=e.ownerSVGElement,n=IT("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),r;s.style.display="block",n.appendChild(s),jm.appendChild(n);try{r=s.getBBox()}catch{}return n.removeChild(s),jm.removeChild(n),r},V4=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},wz=function(e){var t,n;try{t=e.getBBox()}catch{t=F4(e),n=1}return t&&(t.width||t.height)||n||(t=F4(e)),t&&!t.width&&!t.x&&!t.y?{x:+V4(e,["x","cx","x1"])||0,y:+V4(e,["y","cy","y1"])||0,width:0,height:0}:t},Ez=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&wz(e))},Ph=function(e,t){if(t){var n=e.style,s;t in Tu&&t!==Br&&(t=Wi),n.removeProperty?(s=t.substr(0,2),(s==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(s==="--"?t:t.replace(VE,"-$1").toLowerCase())):n.removeAttribute(t)}},Ef=function(e,t,n,s,r,o){var c=new Pr(e._pt,t,n,0,1,o?bz:_z);return e._pt=c,c.b=s,c.e=r,e._props.push(n),c},k4={deg:1,rad:1,turn:1},_K={grid:1,flex:1},jf=function i(e,t,n,s){var r=parseFloat(n)||0,o=(n+"").trim().substr((r+"").length)||"px",c=ph.style,d=oK.test(t),p=e.tagName.toLowerCase()==="svg",m=(p?"client":"offset")+(d?"Width":"Height"),g=100,y=s==="px",b=s==="%",S,E,A,M;if(s===o||!r||k4[s]||k4[o])return r;if(o!=="px"&&!y&&(r=i(e,t,n,"px")),M=e.getCTM&&Ez(e),(b||o==="%")&&(Tu[t]||~t.indexOf("adius")))return S=M?e.getBBox()[d?"width":"height"]:e[m],us(b?r/S*g:r/100*S);if(c[d?"width":"height"]=g+(y?o:s),E=s!=="rem"&&~t.indexOf("adius")||s==="em"&&e.appendChild&&!p?e:e.parentNode,M&&(E=(e.ownerSVGElement||{}).parentNode),(!E||E===wf||!E.appendChild)&&(E=wf.body),A=E._gsap,A&&b&&A.width&&d&&A.time===so.time&&!A.uncache)return us(r/A.width*g);if(b&&(t==="height"||t==="width")){var D=e.style[t];e.style[t]=g+s,S=e[m],D?e.style[t]=D:Ph(e,t)}else(b||o==="%")&&!_K[Ho(E,"display")]&&(c.position=Ho(e,"position")),E===e&&(c.position="static"),E.appendChild(ph),S=ph[m],E.removeChild(ph),c.position="absolute";return d&&b&&(A=Mh(E),A.time=so.time,A.width=E[m]),us(y?S*r/g:S&&r?g/S*r:0)},uu=function(e,t,n,s){var r;return jE||jT(),t in xc&&t!=="transform"&&(t=xc[t],~t.indexOf(",")&&(t=t.split(",")[0])),Tu[t]&&t!=="transform"?(r=Cv(e,s),r=t!=="transformOrigin"?r[t]:r.svg?r.origin:tS(Ho(e,Br))+" "+r.zOrigin+"px"):(r=e.style[t],(!r||r==="auto"||s||~(r+"").indexOf("calc("))&&(r=eS[t]&&eS[t](e,t,n)||Ho(e,t)||kU(e,t)||(t==="opacity"?1:0))),n&&!~(r+"").trim().indexOf(" ")?jf(e,t,r,n)+n:r},bK=function(e,t,n,s){if(!n||n==="none"){var r=u0(t,e,1),o=r&&Ho(e,r,1);o&&o!==n?(t=r,n=o):t==="borderColor"&&(n=Ho(e,"borderTopColor"))}var c=new Pr(this._pt,e.style,t,0,1,gz),d=0,p=0,m,g,y,b,S,E,A,M,D,R,L,z;if(c.b=n,c.e=s,n+="",s+="",s.substring(0,6)==="var(--"&&(s=Ho(e,s.substring(4,s.indexOf(")")))),s==="auto"&&(E=e.style[t],e.style[t]=s,s=Ho(e,t)||s,E?e.style[t]=E:Ph(e,t)),m=[n,s],oz(m),n=m[0],s=m[1],y=n.match(Om)||[],z=s.match(Om)||[],z.length){for(;g=Om.exec(s);)A=g[0],D=s.substring(d,g.index),S?S=(S+1)%5:(D.substr(-5)==="rgba("||D.substr(-5)==="hsla(")&&(S=1),A!==(E=y[p++]||"")&&(b=parseFloat(E)||0,L=E.substr((b+"").length),A.charAt(1)==="="&&(A=Im(b,A)+L),M=parseFloat(A),R=A.substr((M+"").length),d=Om.lastIndex-R.length,R||(R=R||co.units[t]||L,d===s.length&&(s+=R,c.e+=R)),L!==R&&(b=jf(e,t,E,R)||0),c._pt={_next:c._pt,p:D||p===1?D:",",s:b,c:M-b,m:S&&S<4||t==="zIndex"?Math.round:0});c.c=d<s.length?s.substring(d,s.length):""}else c.r=t==="display"&&s==="none"?bz:_z;return PU.test(s)&&(c.e=0),this._pt=c,c},H4={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},SK=function(e){var t=e.split(" "),n=t[0],s=t[1]||"50%";return(n==="top"||n==="bottom"||s==="left"||s==="right")&&(e=n,n=s,s=e),t[0]=H4[n]||n,t[1]=H4[s]||s,t.join(" ")},MK=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,s=n.style,r=t.u,o=n._gsap,c,d,p;if(r==="all"||r===!0)s.cssText="",d=1;else for(r=r.split(","),p=r.length;--p>-1;)c=r[p],Tu[c]&&(d=1,c=c==="transformOrigin"?Br:Wi),Ph(n,c);d&&(Ph(n,Wi),o&&(o.svg&&n.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",Cv(n,1),o.uncache=1,Sz(s)))}},eS={clearProps:function(e,t,n,s,r){if(r.data!=="isFromStart"){var o=e._pt=new Pr(e._pt,t,n,0,0,MK);return o.u=s,o.pr=-10,o.tween=r,e._props.push(n),1}}},Av=[1,0,0,1,0,0],Az={},Cz=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},G4=function(e){var t=Ho(e,Wi);return Cz(t)?Av:t.substr(7).match(zU).map(us)},kE=function(e,t){var n=e._gsap||Mh(e),s=e.style,r=G4(e),o,c,d,p;return n.svg&&e.getAttribute("transform")?(d=e.transform.baseVal.consolidate().matrix,r=[d.a,d.b,d.c,d.d,d.e,d.f],r.join(",")==="1,0,0,1,0,0"?Av:r):(r===Av&&!e.offsetParent&&e!==jm&&!n.svg&&(d=s.display,s.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(p=1,c=e.nextElementSibling,jm.appendChild(e)),r=G4(e),d?s.display=d:Ph(e,"display"),p&&(c?o.insertBefore(e,c):o?o.appendChild(e):jm.removeChild(e))),t&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r)},FT=function(e,t,n,s,r,o){var c=e._gsap,d=r||kE(e,!0),p=c.xOrigin||0,m=c.yOrigin||0,g=c.xOffset||0,y=c.yOffset||0,b=d[0],S=d[1],E=d[2],A=d[3],M=d[4],D=d[5],R=t.split(" "),L=parseFloat(R[0])||0,z=parseFloat(R[1])||0,U,I,F,P;n?d!==Av&&(I=b*A-S*E)&&(F=L*(A/I)+z*(-E/I)+(E*D-A*M)/I,P=L*(-S/I)+z*(b/I)-(b*D-S*M)/I,L=F,z=P):(U=wz(e),L=U.x+(~R[0].indexOf("%")?L/100*U.width:L),z=U.y+(~(R[1]||R[0]).indexOf("%")?z/100*U.height:z)),s||s!==!1&&c.smooth?(M=L-p,D=z-m,c.xOffset=g+(M*b+D*E)-M,c.yOffset=y+(M*S+D*A)-D):c.xOffset=c.yOffset=0,c.xOrigin=L,c.yOrigin=z,c.smooth=!!s,c.origin=t,c.originIsAbsolute=!!n,e.style[Br]="0px 0px",o&&(Ef(o,c,"xOrigin",p,L),Ef(o,c,"yOrigin",m,z),Ef(o,c,"xOffset",g,c.xOffset),Ef(o,c,"yOffset",y,c.yOffset)),e.setAttribute("data-svg-origin",L+" "+z)},Cv=function(e,t){var n=e._gsap||new fz(e);if("x"in n&&!t&&!n.uncache)return n;var s=e.style,r=n.scaleX<0,o="px",c="deg",d=getComputedStyle(e),p=Ho(e,Br)||"0",m,g,y,b,S,E,A,M,D,R,L,z,U,I,F,P,B,H,Q,ie,ue,fe,V,X,K,ce,Y,W,ae,he,ye,Pe;return m=g=y=E=A=M=D=R=L=0,b=S=1,n.svg=!!(e.getCTM&&Ez(e)),d.translate&&((d.translate!=="none"||d.scale!=="none"||d.rotate!=="none")&&(s[Wi]=(d.translate!=="none"?"translate3d("+(d.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(d.rotate!=="none"?"rotate("+d.rotate+") ":"")+(d.scale!=="none"?"scale("+d.scale.split(" ").join(",")+") ":"")+(d[Wi]!=="none"?d[Wi]:"")),s.scale=s.rotate=s.translate="none"),I=kE(e,n.svg),n.svg&&(n.uncache?(K=e.getBBox(),p=n.xOrigin-K.x+"px "+(n.yOrigin-K.y)+"px",X=""):X=!t&&e.getAttribute("data-svg-origin"),FT(e,X||p,!!X||n.originIsAbsolute,n.smooth!==!1,I)),z=n.xOrigin||0,U=n.yOrigin||0,I!==Av&&(H=I[0],Q=I[1],ie=I[2],ue=I[3],m=fe=I[4],g=V=I[5],I.length===6?(b=Math.sqrt(H*H+Q*Q),S=Math.sqrt(ue*ue+ie*ie),E=H||Q?_m(Q,H)*sh:0,D=ie||ue?_m(ie,ue)*sh+E:0,D&&(S*=Math.abs(Math.cos(D*Fm))),n.svg&&(m-=z-(z*H+U*ie),g-=U-(z*Q+U*ue))):(Pe=I[6],he=I[7],Y=I[8],W=I[9],ae=I[10],ye=I[11],m=I[12],g=I[13],y=I[14],F=_m(Pe,ae),A=F*sh,F&&(P=Math.cos(-F),B=Math.sin(-F),X=fe*P+Y*B,K=V*P+W*B,ce=Pe*P+ae*B,Y=fe*-B+Y*P,W=V*-B+W*P,ae=Pe*-B+ae*P,ye=he*-B+ye*P,fe=X,V=K,Pe=ce),F=_m(-ie,ae),M=F*sh,F&&(P=Math.cos(-F),B=Math.sin(-F),X=H*P-Y*B,K=Q*P-W*B,ce=ie*P-ae*B,ye=ue*B+ye*P,H=X,Q=K,ie=ce),F=_m(Q,H),E=F*sh,F&&(P=Math.cos(F),B=Math.sin(F),X=H*P+Q*B,K=fe*P+V*B,Q=Q*P-H*B,V=V*P-fe*B,H=X,fe=K),A&&Math.abs(A)+Math.abs(E)>359.9&&(A=E=0,M=180-M),b=us(Math.sqrt(H*H+Q*Q+ie*ie)),S=us(Math.sqrt(V*V+Pe*Pe)),F=_m(fe,V),D=Math.abs(F)>2e-4?F*sh:0,L=ye?1/(ye<0?-ye:ye):0),n.svg&&(X=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!Cz(Ho(e,Wi)),X&&e.setAttribute("transform",X))),Math.abs(D)>90&&Math.abs(D)<270&&(r?(b*=-1,D+=E<=0?180:-180,E+=E<=0?180:-180):(S*=-1,D+=D<=0?180:-180)),t=t||n.uncache,n.x=m-((n.xPercent=m&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-m)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=g-((n.yPercent=g&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-g)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=y+o,n.scaleX=us(b),n.scaleY=us(S),n.rotation=us(E)+c,n.rotationX=us(A)+c,n.rotationY=us(M)+c,n.skewX=D+c,n.skewY=R+c,n.transformPerspective=L+o,(n.zOrigin=parseFloat(p.split(" ")[2])||!t&&n.zOrigin||0)&&(s[Br]=tS(p)),n.xOffset=n.yOffset=0,n.force3D=co.force3D,n.renderTransform=n.svg?wK:Tz?Nz:TK,n.uncache=0,n},tS=function(e){return(e=e.split(" "))[0]+" "+e[1]},T3=function(e,t,n){var s=Ra(t);return us(parseFloat(t)+parseFloat(jf(e,"x",n+"px",s)))+s},TK=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Nz(e,t)},eh="0deg",dg="0px",th=") ",Nz=function(e,t){var n=t||this,s=n.xPercent,r=n.yPercent,o=n.x,c=n.y,d=n.z,p=n.rotation,m=n.rotationY,g=n.rotationX,y=n.skewX,b=n.skewY,S=n.scaleX,E=n.scaleY,A=n.transformPerspective,M=n.force3D,D=n.target,R=n.zOrigin,L="",z=M==="auto"&&e&&e!==1||M===!0;if(R&&(g!==eh||m!==eh)){var U=parseFloat(m)*Fm,I=Math.sin(U),F=Math.cos(U),P;U=parseFloat(g)*Fm,P=Math.cos(U),o=T3(D,o,I*P*-R),c=T3(D,c,-Math.sin(U)*-R),d=T3(D,d,F*P*-R+R)}A!==dg&&(L+="perspective("+A+th),(s||r)&&(L+="translate("+s+"%, "+r+"%) "),(z||o!==dg||c!==dg||d!==dg)&&(L+=d!==dg||z?"translate3d("+o+", "+c+", "+d+") ":"translate("+o+", "+c+th),p!==eh&&(L+="rotate("+p+th),m!==eh&&(L+="rotateY("+m+th),g!==eh&&(L+="rotateX("+g+th),(y!==eh||b!==eh)&&(L+="skew("+y+", "+b+th),(S!==1||E!==1)&&(L+="scale("+S+", "+E+th),D.style[Wi]=L||"translate(0, 0)"},wK=function(e,t){var n=t||this,s=n.xPercent,r=n.yPercent,o=n.x,c=n.y,d=n.rotation,p=n.skewX,m=n.skewY,g=n.scaleX,y=n.scaleY,b=n.target,S=n.xOrigin,E=n.yOrigin,A=n.xOffset,M=n.yOffset,D=n.forceCSS,R=parseFloat(o),L=parseFloat(c),z,U,I,F,P;d=parseFloat(d),p=parseFloat(p),m=parseFloat(m),m&&(m=parseFloat(m),p+=m,d+=m),d||p?(d*=Fm,p*=Fm,z=Math.cos(d)*g,U=Math.sin(d)*g,I=Math.sin(d-p)*-y,F=Math.cos(d-p)*y,p&&(m*=Fm,P=Math.tan(p-m),P=Math.sqrt(1+P*P),I*=P,F*=P,m&&(P=Math.tan(m),P=Math.sqrt(1+P*P),z*=P,U*=P)),z=us(z),U=us(U),I=us(I),F=us(F)):(z=g,F=y,U=I=0),(R&&!~(o+"").indexOf("px")||L&&!~(c+"").indexOf("px"))&&(R=jf(b,"x",o,"px"),L=jf(b,"y",c,"px")),(S||E||A||M)&&(R=us(R+S-(S*z+E*I)+A),L=us(L+E-(S*U+E*F)+M)),(s||r)&&(P=b.getBBox(),R=us(R+s/100*P.width),L=us(L+r/100*P.height)),P="matrix("+z+","+U+","+I+","+F+","+R+","+L+")",b.setAttribute("transform",P),D&&(b.style[Wi]=P)},EK=function(e,t,n,s,r){var o=360,c=Qs(r),d=parseFloat(r)*(c&&~r.indexOf("rad")?sh:1),p=d-s,m=s+p+"deg",g,y;return c&&(g=r.split("_")[1],g==="short"&&(p%=o,p!==p%(o/2)&&(p+=p<0?o:-o)),g==="cw"&&p<0?p=(p+o*I4)%o-~~(p/o)*o:g==="ccw"&&p>0&&(p=(p-o*I4)%o-~~(p/o)*o)),e._pt=y=new Pr(e._pt,t,n,s,p,cK),y.e=m,y.u="deg",e._props.push(n),y},X4=function(e,t){for(var n in t)e[n]=t[n];return e},AK=function(e,t,n){var s=X4({},n._gsap),r="perspective,force3D,transformOrigin,svgOrigin",o=n.style,c,d,p,m,g,y,b,S;s.svg?(p=n.getAttribute("transform"),n.setAttribute("transform",""),o[Wi]=t,c=Cv(n,1),Ph(n,Wi),n.setAttribute("transform",p)):(p=getComputedStyle(n)[Wi],o[Wi]=t,c=Cv(n,1),o[Wi]=p);for(d in Tu)p=s[d],m=c[d],p!==m&&r.indexOf(d)<0&&(b=Ra(p),S=Ra(m),g=b!==S?jf(n,d,p,S):parseFloat(p),y=parseFloat(m),e._pt=new Pr(e._pt,c,d,g,y-g,BT),e._pt.u=S||0,e._props.push(d));X4(c,s)};zr("padding,margin,Width,Radius",function(i,e){var t="Top",n="Right",s="Bottom",r="Left",o=(e<3?[t,n,s,r]:[t+r,t+n,s+n,s+r]).map(function(c){return e<2?i+c:"border"+c+i});eS[e>1?"border"+i:i]=function(c,d,p,m,g){var y,b;if(arguments.length<4)return y=o.map(function(S){return uu(c,S,p)}),b=y.join(" "),b.split(y[0]).length===5?y[0]:b;y=(m+"").split(" "),b={},o.forEach(function(S,E){return b[S]=y[E]=y[E]||y[(E-1)/2|0]}),c.init(d,b,g)}});var Rz={name:"css",register:jT,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,s,r){var o=this._props,c=e.style,d=n.vars.startAt,p,m,g,y,b,S,E,A,M,D,R,L,z,U,I,F;jE||jT(),this.styles=this.styles||Mz(e),F=this.styles.props,this.tween=n;for(E in t)if(E!=="autoRound"&&(m=t[E],!(no[E]&&dz(E,t,n,s,e,r)))){if(b=typeof m,S=eS[E],b==="function"&&(m=m.call(n,s,e,r),b=typeof m),b==="string"&&~m.indexOf("random(")&&(m=Tv(m)),S)S(this,e,E,m,n)&&(I=1);else if(E.substr(0,2)==="--")p=(getComputedStyle(e).getPropertyValue(E)+"").trim(),m+="",Rf.lastIndex=0,Rf.test(p)||(A=Ra(p),M=Ra(m)),M?A!==M&&(p=jf(e,E,p,M)+M):A&&(m+=A),this.add(c,"setProperty",p,m,s,r,0,0,E),o.push(E),F.push(E,0,c[E]);else if(b!=="undefined"){if(d&&E in d?(p=typeof d[E]=="function"?d[E].call(n,s,e,r):d[E],Qs(p)&&~p.indexOf("random(")&&(p=Tv(p)),Ra(p+"")||p==="auto"||(p+=co.units[E]||Ra(uu(e,E))||""),(p+"").charAt(1)==="="&&(p=uu(e,E))):p=uu(e,E),y=parseFloat(p),D=b==="string"&&m.charAt(1)==="="&&m.substr(0,2),D&&(m=m.substr(2)),g=parseFloat(m),E in xc&&(E==="autoAlpha"&&(y===1&&uu(e,"visibility")==="hidden"&&g&&(y=0),F.push("visibility",0,c.visibility),Ef(this,c,"visibility",y?"inherit":"hidden",g?"inherit":"hidden",!g)),E!=="scale"&&E!=="transform"&&(E=xc[E],~E.indexOf(",")&&(E=E.split(",")[0]))),R=E in Tu,R){if(this.styles.save(E),b==="string"&&m.substring(0,6)==="var(--"&&(m=Ho(e,m.substring(4,m.indexOf(")"))),g=parseFloat(m)),L||(z=e._gsap,z.renderTransform&&!t.parseTransform||Cv(e,t.parseTransform),U=t.smoothOrigin!==!1&&z.smooth,L=this._pt=new Pr(this._pt,c,Wi,0,1,z.renderTransform,z,0,-1),L.dep=1),E==="scale")this._pt=new Pr(this._pt,z,"scaleY",z.scaleY,(D?Im(z.scaleY,D+g):g)-z.scaleY||0,BT),this._pt.u=0,o.push("scaleY",E),E+="X";else if(E==="transformOrigin"){F.push(Br,0,c[Br]),m=SK(m),z.svg?FT(e,m,0,U,0,this):(M=parseFloat(m.split(" ")[2])||0,M!==z.zOrigin&&Ef(this,z,"zOrigin",z.zOrigin,M),Ef(this,c,E,tS(p),tS(m)));continue}else if(E==="svgOrigin"){FT(e,m,1,U,0,this);continue}else if(E in Az){EK(this,z,E,y,D?Im(y,D+m):m);continue}else if(E==="smoothOrigin"){Ef(this,z,"smooth",z.smooth,m);continue}else if(E==="force3D"){z[E]=m;continue}else if(E==="transform"){AK(this,m,e);continue}}else E in c||(E=u0(E)||E);if(R||(g||g===0)&&(y||y===0)&&!lK.test(m)&&E in c)A=(p+"").substr((y+"").length),g||(g=0),M=Ra(m)||(E in co.units?co.units[E]:A),A!==M&&(y=jf(e,E,p,M)),this._pt=new Pr(this._pt,R?z:c,E,y,(D?Im(y,D+g):g)-y,!R&&(M==="px"||E==="zIndex")&&t.autoRound!==!1?fK:BT),this._pt.u=M||0,A!==M&&M!=="%"&&(this._pt.b=p,this._pt.r=uK);else if(E in c)bK.call(this,e,E,p,D?D+m:m);else if(E in e)this.add(e,E,p||e[E],D?D+m:m,s,r);else if(E!=="parseTransform"){NE(E,m);continue}R||(E in c?F.push(E,0,c[E]):typeof e[E]=="function"?F.push(E,2,e[E]()):F.push(E,1,p||e[E])),o.push(E)}}I&&vz(this)},render:function(e,t){if(t.tween._time||!FE())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:uu,aliases:xc,getSetter:function(e,t,n){var s=xc[t];return s&&s.indexOf(",")<0&&(t=s),t in Tu&&t!==Br&&(e._gsap.x||uu(e,"x"))?n&&B4===n?t==="scale"?mK:pK:(B4=n||{})&&(t==="scale"?xK:gK):e.style&&!EE(e.style[t])?dK:~t.indexOf("-")?hK:BE(e,t)},core:{_removeProperty:Ph,_getMatrix:kE}};Ir.utils.checkPrefix=u0;Ir.core.getStyleSaver=Mz;(function(i,e,t,n){var s=zr(i+","+e+","+t,function(r){Tu[r]=1});zr(e,function(r){co.units[r]="deg",Az[r]=1}),xc[s[13]]=i+","+e,zr(n,function(r){var o=r.split(":");xc[o[1]]=s[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");zr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(i){co.units[i]="px"});Ir.registerPlugin(Rz);var Dz=Ir.registerPlugin(Rz)||Ir;Dz.core.Tween;function CK(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function NK(i,e,t){return e&&CK(i.prototype,e),i}var oa,Hb,ao,Af,Cf,Vm,Lz,ah,Hg,Oz,pu,bl,Uz,zz=function(){return oa||typeof window<"u"&&(oa=window.gsap)&&oa.registerPlugin&&oa},Pz=1,zm=[],Cn=[],Sc=[],Gg=Date.now,VT=function(e,t){return t},RK=function(){var e=Hg.core,t=e.bridge||{},n=e._scrollers,s=e._proxies;n.push.apply(n,Cn),s.push.apply(s,Sc),Cn=n,Sc=s,VT=function(o,c){return t[o](c)}},Df=function(e,t){return~Sc.indexOf(e)&&Sc[Sc.indexOf(e)+1][t]},Xg=function(e){return!!~Oz.indexOf(e)},nr=function(e,t,n,s,r){return e.addEventListener(t,n,{passive:s!==!1,capture:!!r})},tr=function(e,t,n,s){return e.removeEventListener(t,n,!!s)},mb="scrollLeft",xb="scrollTop",kT=function(){return pu&&pu.isPressed||Cn.cache++},nS=function(e,t){var n=function s(r){if(r||r===0){Pz&&(ao.history.scrollRestoration="manual");var o=pu&&pu.isPressed;r=s.v=Math.round(r)||(pu&&pu.iOS?1:0),e(r),s.cacheID=Cn.cache,o&&VT("ss",r)}else(t||Cn.cache!==s.cacheID||VT("ref"))&&(s.cacheID=Cn.cache,s.v=e());return s.v+s.offset};return n.offset=0,e&&n},cr={s:mb,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:nS(function(i){return arguments.length?ao.scrollTo(i,Us.sc()):ao.pageXOffset||Af[mb]||Cf[mb]||Vm[mb]||0})},Us={s:xb,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:cr,sc:nS(function(i){return arguments.length?ao.scrollTo(cr.sc(),i):ao.pageYOffset||Af[xb]||Cf[xb]||Vm[xb]||0})},Tr=function(e,t){return(t&&t._ctx&&t._ctx.selector||oa.utils.toArray)(e)[0]||(typeof e=="string"&&oa.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},DK=function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1},Ff=function(e,t){var n=t.s,s=t.sc;Xg(e)&&(e=Af.scrollingElement||Cf);var r=Cn.indexOf(e),o=s===Us.sc?1:2;!~r&&(r=Cn.push(e)-1),Cn[r+o]||nr(e,"scroll",kT);var c=Cn[r+o],d=c||(Cn[r+o]=nS(Df(e,n),!0)||(Xg(e)?s:nS(function(p){return arguments.length?e[n]=p:e[n]})));return d.target=e,c||(d.smooth=oa.getProperty(e,"scrollBehavior")==="smooth"),d},HT=function(e,t,n){var s=e,r=e,o=Gg(),c=o,d=t||50,p=Math.max(500,d*3),m=function(S,E){var A=Gg();E||A-o>d?(r=s,s=S,c=o,o=A):n?s+=S:s=r+(S-r)/(A-c)*(o-c)},g=function(){r=s=n?0:s,c=o=0},y=function(S){var E=c,A=r,M=Gg();return(S||S===0)&&S!==s&&m(S),o===c||M-c>p?0:(s+(n?A:-A))/((n?M:o)-E)*1e3};return{update:m,reset:g,getVelocity:y}},hg=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},q4=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},Bz=function(){Hg=oa.core.globals().ScrollTrigger,Hg&&Hg.core&&RK()},Iz=function(e){return oa=e||zz(),!Hb&&oa&&typeof document<"u"&&document.body&&(ao=window,Af=document,Cf=Af.documentElement,Vm=Af.body,Oz=[ao,Af,Cf,Vm],oa.utils.clamp,Uz=oa.core.context||function(){},ah="onpointerenter"in Vm?"pointer":"mouse",Lz=ds.isTouch=ao.matchMedia&&ao.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in ao||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,bl=ds.eventTypes=("ontouchstart"in Cf?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Cf?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return Pz=0},500),Bz(),Hb=1),Hb};cr.op=Us;Cn.cache=0;var ds=(function(){function i(t){this.init(t)}var e=i.prototype;return e.init=function(n){Hb||Iz(oa)||console.warn("Please gsap.registerPlugin(Observer)"),Hg||Bz();var s=n.tolerance,r=n.dragMinimum,o=n.type,c=n.target,d=n.lineHeight,p=n.debounce,m=n.preventDefault,g=n.onStop,y=n.onStopDelay,b=n.ignore,S=n.wheelSpeed,E=n.event,A=n.onDragStart,M=n.onDragEnd,D=n.onDrag,R=n.onPress,L=n.onRelease,z=n.onRight,U=n.onLeft,I=n.onUp,F=n.onDown,P=n.onChangeX,B=n.onChangeY,H=n.onChange,Q=n.onToggleX,ie=n.onToggleY,ue=n.onHover,fe=n.onHoverEnd,V=n.onMove,X=n.ignoreCheck,K=n.isNormalizer,ce=n.onGestureStart,Y=n.onGestureEnd,W=n.onWheel,ae=n.onEnable,he=n.onDisable,ye=n.onClick,Pe=n.scrollSpeed,pe=n.capture,_e=n.allowClicks,We=n.lockAxis,tt=n.onLockAxis;this.target=c=Tr(c)||Cf,this.vars=n,b&&(b=oa.utils.toArray(b)),s=s||1e-9,r=r||0,S=S||1,Pe=Pe||1,o=o||"wheel,touch,pointer",p=p!==!1,d||(d=parseFloat(ao.getComputedStyle(Vm).lineHeight)||22);var pt,vt,Gt,et,Ce,J,Ve,re=this,Qe=0,Xe=0,at=n.passive||!m&&n.passive!==!1,Ye=Ff(c,cr),ct=Ff(c,Us),$=Ye(),k=ct(),xe=~o.indexOf("touch")&&!~o.indexOf("pointer")&&bl[0]==="pointerdown",Ue=Xg(c),Be=c.ownerDocument||Af,Re=[0,0,0],ft=[0,0,0],nt=0,wt=function(){return nt=Gg()},ee=function(Et,en){return(re.event=Et)&&b&&DK(Et.target,b)||en&&xe&&Et.pointerType!=="touch"||X&&X(Et,en)},Ae=function(){re._vx.reset(),re._vy.reset(),vt.pause(),g&&g(re)},je=function(){var Et=re.deltaX=q4(Re),en=re.deltaY=q4(ft),dt=Math.abs(Et)>=s,Xt=Math.abs(en)>=s;H&&(dt||Xt)&&H(re,Et,en,Re,ft),dt&&(z&&re.deltaX>0&&z(re),U&&re.deltaX<0&&U(re),P&&P(re),Q&&re.deltaX<0!=Qe<0&&Q(re),Qe=re.deltaX,Re[0]=Re[1]=Re[2]=0),Xt&&(F&&re.deltaY>0&&F(re),I&&re.deltaY<0&&I(re),B&&B(re),ie&&re.deltaY<0!=Xe<0&&ie(re),Xe=re.deltaY,ft[0]=ft[1]=ft[2]=0),(et||Gt)&&(V&&V(re),Gt&&(A&&Gt===1&&A(re),D&&D(re),Gt=0),et=!1),J&&!(J=!1)&&tt&&tt(re),Ce&&(W(re),Ce=!1),pt=0},mt=function(Et,en,dt){Re[dt]+=Et,ft[dt]+=en,re._vx.update(Et),re._vy.update(en),p?pt||(pt=requestAnimationFrame(je)):je()},ut=function(Et,en){We&&!Ve&&(re.axis=Ve=Math.abs(Et)>Math.abs(en)?"x":"y",J=!0),Ve!=="y"&&(Re[2]+=Et,re._vx.update(Et,!0)),Ve!=="x"&&(ft[2]+=en,re._vy.update(en,!0)),p?pt||(pt=requestAnimationFrame(je)):je()},ot=function(Et){if(!ee(Et,1)){Et=hg(Et,m);var en=Et.clientX,dt=Et.clientY,Xt=en-re.x,Ut=dt-re.y,Lt=re.isDragging;re.x=en,re.y=dt,(Lt||(Xt||Ut)&&(Math.abs(re.startX-en)>=r||Math.abs(re.startY-dt)>=r))&&(Gt=Lt?2:1,Lt||(re.isDragging=!0),ut(Xt,Ut))}},Dt=re.onPress=function(gt){ee(gt,1)||gt&&gt.button||(re.axis=Ve=null,vt.pause(),re.isPressed=!0,gt=hg(gt),Qe=Xe=0,re.startX=re.x=gt.clientX,re.startY=re.y=gt.clientY,re._vx.reset(),re._vy.reset(),nr(K?c:Be,bl[1],ot,at,!0),re.deltaX=re.deltaY=0,R&&R(re))},ne=re.onRelease=function(gt){if(!ee(gt,1)){tr(K?c:Be,bl[1],ot,!0);var Et=!isNaN(re.y-re.startY),en=re.isDragging,dt=en&&(Math.abs(re.x-re.startX)>3||Math.abs(re.y-re.startY)>3),Xt=hg(gt);!dt&&Et&&(re._vx.reset(),re._vy.reset(),m&&_e&&oa.delayedCall(.08,function(){if(Gg()-nt>300&&!gt.defaultPrevented){if(gt.target.click)gt.target.click();else if(Be.createEvent){var Ut=Be.createEvent("MouseEvents");Ut.initMouseEvent("click",!0,!0,ao,1,Xt.screenX,Xt.screenY,Xt.clientX,Xt.clientY,!1,!1,!1,!1,0,null),gt.target.dispatchEvent(Ut)}}})),re.isDragging=re.isGesturing=re.isPressed=!1,g&&en&&!K&&vt.restart(!0),Gt&&je(),M&&en&&M(re),L&&L(re,dt)}},st=function(Et){return Et.touches&&Et.touches.length>1&&(re.isGesturing=!0)&&ce(Et,re.isDragging)},Je=function(){return(re.isGesturing=!1)||Y(re)},Ze=function(Et){if(!ee(Et)){var en=Ye(),dt=ct();mt((en-$)*Pe,(dt-k)*Pe,1),$=en,k=dt,g&&vt.restart(!0)}},He=function(Et){if(!ee(Et)){Et=hg(Et,m),W&&(Ce=!0);var en=(Et.deltaMode===1?d:Et.deltaMode===2?ao.innerHeight:1)*S;mt(Et.deltaX*en,Et.deltaY*en,0),g&&!K&&vt.restart(!0)}},Ie=function(Et){if(!ee(Et)){var en=Et.clientX,dt=Et.clientY,Xt=en-re.x,Ut=dt-re.y;re.x=en,re.y=dt,et=!0,g&&vt.restart(!0),(Xt||Ut)&&ut(Xt,Ut)}},xt=function(Et){re.event=Et,ue(re)},zt=function(Et){re.event=Et,fe(re)},yn=function(Et){return ee(Et)||hg(Et,m)&&ye(re)};vt=re._dc=oa.delayedCall(y||.25,Ae).pause(),re.deltaX=re.deltaY=0,re._vx=HT(0,50,!0),re._vy=HT(0,50,!0),re.scrollX=Ye,re.scrollY=ct,re.isDragging=re.isGesturing=re.isPressed=!1,Uz(this),re.enable=function(gt){return re.isEnabled||(nr(Ue?Be:c,"scroll",kT),o.indexOf("scroll")>=0&&nr(Ue?Be:c,"scroll",Ze,at,pe),o.indexOf("wheel")>=0&&nr(c,"wheel",He,at,pe),(o.indexOf("touch")>=0&&Lz||o.indexOf("pointer")>=0)&&(nr(c,bl[0],Dt,at,pe),nr(Be,bl[2],ne),nr(Be,bl[3],ne),_e&&nr(c,"click",wt,!0,!0),ye&&nr(c,"click",yn),ce&&nr(Be,"gesturestart",st),Y&&nr(Be,"gestureend",Je),ue&&nr(c,ah+"enter",xt),fe&&nr(c,ah+"leave",zt),V&&nr(c,ah+"move",Ie)),re.isEnabled=!0,re.isDragging=re.isGesturing=re.isPressed=et=Gt=!1,re._vx.reset(),re._vy.reset(),$=Ye(),k=ct(),gt&&gt.type&&Dt(gt),ae&&ae(re)),re},re.disable=function(){re.isEnabled&&(zm.filter(function(gt){return gt!==re&&Xg(gt.target)}).length||tr(Ue?Be:c,"scroll",kT),re.isPressed&&(re._vx.reset(),re._vy.reset(),tr(K?c:Be,bl[1],ot,!0)),tr(Ue?Be:c,"scroll",Ze,pe),tr(c,"wheel",He,pe),tr(c,bl[0],Dt,pe),tr(Be,bl[2],ne),tr(Be,bl[3],ne),tr(c,"click",wt,!0),tr(c,"click",yn),tr(Be,"gesturestart",st),tr(Be,"gestureend",Je),tr(c,ah+"enter",xt),tr(c,ah+"leave",zt),tr(c,ah+"move",Ie),re.isEnabled=re.isPressed=re.isDragging=!1,he&&he(re))},re.kill=re.revert=function(){re.disable();var gt=zm.indexOf(re);gt>=0&&zm.splice(gt,1),pu===re&&(pu=0)},zm.push(re),K&&Xg(c)&&(pu=re),re.enable(E)},NK(i,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),i})();ds.version="3.13.0";ds.create=function(i){return new ds(i)};ds.register=Iz;ds.getAll=function(){return zm.slice()};ds.getById=function(i){return zm.filter(function(e){return e.vars.id===i})[0]};zz()&&oa.registerPlugin(ds);var Rt,Mm,An,Ei,io,oi,HE,iS,Nv,qg,bg,gb,Ea,i2,GT,ar,W4,Y4,Tm,jz,w3,Fz,sr,XT,Vz,kz,vf,qT,GE,km,XE,sS,WT,E3,vb=1,Aa=Date.now,A3=Aa(),Xo=0,Sg=0,Z4=function(e,t,n){var s=to(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=s,s?e.substr(6,e.length-7):e},K4=function(e,t){return t&&(!to(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},LK=function i(){return Sg&&requestAnimationFrame(i)},Q4=function(){return i2=1},J4=function(){return i2=0},fc=function(e){return e},Mg=function(e){return Math.round(e*1e5)/1e5||0},Hz=function(){return typeof window<"u"},Gz=function(){return Rt||Hz()&&(Rt=window.gsap)&&Rt.registerPlugin&&Rt},Bh=function(e){return!!~HE.indexOf(e)},Xz=function(e){return(e==="Height"?XE:An["inner"+e])||io["client"+e]||oi["client"+e]},qz=function(e){return Df(e,"getBoundingClientRect")||(Bh(e)?function(){return Yb.width=An.innerWidth,Yb.height=XE,Yb}:function(){return hu(e)})},OK=function(e,t,n){var s=n.d,r=n.d2,o=n.a;return(o=Df(e,"getBoundingClientRect"))?function(){return o()[s]}:function(){return(t?Xz(r):e["client"+r])||0}},UK=function(e,t){return!t||~Sc.indexOf(e)?qz(e):function(){return Yb}},gc=function(e,t){var n=t.s,s=t.d2,r=t.d,o=t.a;return Math.max(0,(n="scroll"+s)&&(o=Df(e,n))?o()-qz(e)()[r]:Bh(e)?(io[n]||oi[n])-Xz(s):e[n]-e["offset"+s])},yb=function(e,t){for(var n=0;n<Tm.length;n+=3)(!t||~t.indexOf(Tm[n+1]))&&e(Tm[n],Tm[n+1],Tm[n+2])},to=function(e){return typeof e=="string"},Da=function(e){return typeof e=="function"},Tg=function(e){return typeof e=="number"},rh=function(e){return typeof e=="object"},pg=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},C3=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},bm=Math.abs,Wz="left",Yz="top",qE="right",WE="bottom",Ah="width",Ch="height",Wg="Right",Yg="Left",Zg="Top",Kg="Bottom",ys="padding",Io="margin",f0="Width",YE="Height",Ls="px",jo=function(e){return An.getComputedStyle(e)},zK=function(e){var t=jo(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},$4=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},hu=function(e,t){var n=t&&jo(e)[GT]!=="matrix(1, 0, 0, 1, 0, 0)"&&Rt.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),s=e.getBoundingClientRect();return n&&n.progress(0).kill(),s},aS=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},Zz=function(e){var t=[],n=e.labels,s=e.duration(),r;for(r in n)t.push(n[r]/s);return t},PK=function(e){return function(t){return Rt.utils.snap(Zz(e),t)}},ZE=function(e){var t=Rt.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(s,r){return s-r});return n?function(s,r,o){o===void 0&&(o=.001);var c;if(!r)return t(s);if(r>0){for(s-=o,c=0;c<n.length;c++)if(n[c]>=s)return n[c];return n[c-1]}else for(c=n.length,s+=o;c--;)if(n[c]<=s)return n[c];return n[0]}:function(s,r,o){o===void 0&&(o=.001);var c=t(s);return!r||Math.abs(c-s)<o||c-s<0==r<0?c:t(r<0?s-e:s+e)}},BK=function(e){return function(t,n){return ZE(Zz(e))(t,n.direction)}},_b=function(e,t,n,s){return n.split(",").forEach(function(r){return e(t,r,s)})},Zs=function(e,t,n,s,r){return e.addEventListener(t,n,{passive:!s,capture:!!r})},Ys=function(e,t,n,s){return e.removeEventListener(t,n,!!s)},bb=function(e,t,n){n=n&&n.wheelHandler,n&&(e(t,"wheel",n),e(t,"touchmove",n))},e5={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},Sb={toggleActions:"play",anticipatePin:0},rS={top:0,left:0,center:.5,bottom:1,right:1},Gb=function(e,t){if(to(e)){var n=e.indexOf("="),s=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(s*=t/100),e=e.substr(0,n-1)),e=s+(e in rS?rS[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},Mb=function(e,t,n,s,r,o,c,d){var p=r.startColor,m=r.endColor,g=r.fontSize,y=r.indent,b=r.fontWeight,S=Ei.createElement("div"),E=Bh(n)||Df(n,"pinType")==="fixed",A=e.indexOf("scroller")!==-1,M=E?oi:n,D=e.indexOf("start")!==-1,R=D?p:m,L="border-color:"+R+";font-size:"+g+";color:"+R+";font-weight:"+b+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return L+="position:"+((A||d)&&E?"fixed;":"absolute;"),(A||d||!E)&&(L+=(s===Us?qE:WE)+":"+(o+parseFloat(y))+"px;"),c&&(L+="box-sizing:border-box;text-align:left;width:"+c.offsetWidth+"px;"),S._isStart=D,S.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),S.style.cssText=L,S.innerText=t||t===0?e+"-"+t:e,M.children[0]?M.insertBefore(S,M.children[0]):M.appendChild(S),S._offset=S["offset"+s.op.d2],Xb(S,0,s,D),S},Xb=function(e,t,n,s){var r={display:"block"},o=n[s?"os2":"p2"],c=n[s?"p2":"os2"];e._isFlipped=s,r[n.a+"Percent"]=s?-100:0,r[n.a]=s?"1px":0,r["border"+o+f0]=1,r["border"+c+f0]=0,r[n.p]=t+"px",Rt.set(e,r)},Sn=[],YT={},Rv,t5=function(){return Aa()-Xo>34&&(Rv||(Rv=requestAnimationFrame(xu)))},Sm=function(){(!sr||!sr.isPressed||sr.startX>oi.clientWidth)&&(Cn.cache++,sr?Rv||(Rv=requestAnimationFrame(xu)):xu(),Xo||jh("scrollStart"),Xo=Aa())},N3=function(){kz=An.innerWidth,Vz=An.innerHeight},wg=function(e){Cn.cache++,(e===!0||!Ea&&!Fz&&!Ei.fullscreenElement&&!Ei.webkitFullscreenElement&&(!XT||kz!==An.innerWidth||Math.abs(An.innerHeight-Vz)>An.innerHeight*.25))&&iS.restart(!0)},Ih={},IK=[],Kz=function i(){return Ys(Ln,"scrollEnd",i)||mh(!0)},jh=function(e){return Ih[e]&&Ih[e].map(function(t){return t()})||IK},eo=[],Qz=function(e){for(var t=0;t<eo.length;t+=5)(!e||eo[t+4]&&eo[t+4].query===e)&&(eo[t].style.cssText=eo[t+1],eo[t].getBBox&&eo[t].setAttribute("transform",eo[t+2]||""),eo[t+3].uncache=1)},KE=function(e,t){var n;for(ar=0;ar<Sn.length;ar++)n=Sn[ar],n&&(!t||n._ctx===t)&&(e?n.kill(1):n.revert(!0,!0));sS=!0,t&&Qz(t),t||jh("revert")},Jz=function(e,t){Cn.cache++,(t||!rr)&&Cn.forEach(function(n){return Da(n)&&n.cacheID++&&(n.rec=0)}),to(e)&&(An.history.scrollRestoration=GE=e)},rr,Nh=0,n5,jK=function(){if(n5!==Nh){var e=n5=Nh;requestAnimationFrame(function(){return e===Nh&&mh(!0)})}},$z=function(){oi.appendChild(km),XE=!sr&&km.offsetHeight||An.innerHeight,oi.removeChild(km)},i5=function(e){return Nv(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},mh=function(e,t){if(io=Ei.documentElement,oi=Ei.body,HE=[An,Ei,io,oi],Xo&&!e&&!sS){Zs(Ln,"scrollEnd",Kz);return}$z(),rr=Ln.isRefreshing=!0,Cn.forEach(function(s){return Da(s)&&++s.cacheID&&(s.rec=s())});var n=jh("refreshInit");jz&&Ln.sort(),t||KE(),Cn.forEach(function(s){Da(s)&&(s.smooth&&(s.target.style.scrollBehavior="auto"),s(0))}),Sn.slice(0).forEach(function(s){return s.refresh()}),sS=!1,Sn.forEach(function(s){if(s._subPinOffset&&s.pin){var r=s.vars.horizontal?"offsetWidth":"offsetHeight",o=s.pin[r];s.revert(!0,1),s.adjustPinSpacing(s.pin[r]-o),s.refresh()}}),WT=1,i5(!0),Sn.forEach(function(s){var r=gc(s.scroller,s._dir),o=s.vars.end==="max"||s._endClamp&&s.end>r,c=s._startClamp&&s.start>=r;(o||c)&&s.setPositions(c?r-1:s.start,o?Math.max(c?r:s.start+1,r):s.end,!0)}),i5(!1),WT=0,n.forEach(function(s){return s&&s.render&&s.render(-1)}),Cn.forEach(function(s){Da(s)&&(s.smooth&&requestAnimationFrame(function(){return s.target.style.scrollBehavior="smooth"}),s.rec&&s(s.rec))}),Jz(GE,1),iS.pause(),Nh++,rr=2,xu(2),Sn.forEach(function(s){return Da(s.vars.onRefresh)&&s.vars.onRefresh(s)}),rr=Ln.isRefreshing=!1,jh("refresh")},ZT=0,qb=1,Qg,xu=function(e){if(e===2||!rr&&!sS){Ln.isUpdating=!0,Qg&&Qg.update(0);var t=Sn.length,n=Aa(),s=n-A3>=50,r=t&&Sn[0].scroll();if(qb=ZT>r?-1:1,rr||(ZT=r),s&&(Xo&&!i2&&n-Xo>200&&(Xo=0,jh("scrollEnd")),bg=A3,A3=n),qb<0){for(ar=t;ar-- >0;)Sn[ar]&&Sn[ar].update(0,s);qb=1}else for(ar=0;ar<t;ar++)Sn[ar]&&Sn[ar].update(0,s);Ln.isUpdating=!1}Rv=0},KT=[Wz,Yz,WE,qE,Io+Kg,Io+Wg,Io+Zg,Io+Yg,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Wb=KT.concat([Ah,Ch,"boxSizing","max"+f0,"max"+YE,"position",Io,ys,ys+Zg,ys+Wg,ys+Kg,ys+Yg]),FK=function(e,t,n){Hm(n);var s=e._gsap;if(s.spacerIsNative)Hm(s.spacerState);else if(e._gsap.swappedIn){var r=t.parentNode;r&&(r.insertBefore(e,t),r.removeChild(t))}e._gsap.swappedIn=!1},R3=function(e,t,n,s){if(!e._gsap.swappedIn){for(var r=KT.length,o=t.style,c=e.style,d;r--;)d=KT[r],o[d]=n[d];o.position=n.position==="absolute"?"absolute":"relative",n.display==="inline"&&(o.display="inline-block"),c[WE]=c[qE]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[Ah]=aS(e,cr)+Ls,o[Ch]=aS(e,Us)+Ls,o[ys]=c[Io]=c[Yz]=c[Wz]="0",Hm(s),c[Ah]=c["max"+f0]=n[Ah],c[Ch]=c["max"+YE]=n[Ch],c[ys]=n[ys],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},VK=/([A-Z])/g,Hm=function(e){if(e){var t=e.t.style,n=e.length,s=0,r,o;for((e.t._gsap||Rt.core.getCache(e.t)).uncache=1;s<n;s+=2)o=e[s+1],r=e[s],o?t[r]=o:t[r]&&t.removeProperty(r.replace(VK,"-$1").toLowerCase())}},Tb=function(e){for(var t=Wb.length,n=e.style,s=[],r=0;r<t;r++)s.push(Wb[r],n[Wb[r]]);return s.t=e,s},kK=function(e,t,n){for(var s=[],r=e.length,o=n?8:0,c;o<r;o+=2)c=e[o],s.push(c,c in t?t[c]:e[o+1]);return s.t=e.t,s},Yb={left:0,top:0},s5=function(e,t,n,s,r,o,c,d,p,m,g,y,b,S){Da(e)&&(e=e(d)),to(e)&&e.substr(0,3)==="max"&&(e=y+(e.charAt(4)==="="?Gb("0"+e.substr(3),n):0));var E=b?b.time():0,A,M,D;if(b&&b.seek(0),isNaN(e)||(e=+e),Tg(e))b&&(e=Rt.utils.mapRange(b.scrollTrigger.start,b.scrollTrigger.end,0,y,e)),c&&Xb(c,n,s,!0);else{Da(t)&&(t=t(d));var R=(e||"0").split(" "),L,z,U,I;D=Tr(t,d)||oi,L=hu(D)||{},(!L||!L.left&&!L.top)&&jo(D).display==="none"&&(I=D.style.display,D.style.display="block",L=hu(D),I?D.style.display=I:D.style.removeProperty("display")),z=Gb(R[0],L[s.d]),U=Gb(R[1]||"0",n),e=L[s.p]-p[s.p]-m+z+r-U,c&&Xb(c,U,s,n-U<20||c._isStart&&U>20),n-=n-U}if(S&&(d[S]=e||-.001,e<0&&(e=0)),o){var F=e+n,P=o._isStart;A="scroll"+s.d2,Xb(o,F,s,P&&F>20||!P&&(g?Math.max(oi[A],io[A]):o.parentNode[A])<=F+1),g&&(p=hu(c),g&&(o.style[s.op.p]=p[s.op.p]-s.op.m-o._offset+Ls))}return b&&D&&(A=hu(D),b.seek(y),M=hu(D),b._caScrollDist=A[s.p]-M[s.p],e=e/b._caScrollDist*y),b&&b.seek(E),b?e:Math.round(e)},HK=/(webkit|moz|length|cssText|inset)/i,a5=function(e,t,n,s){if(e.parentNode!==t){var r=e.style,o,c;if(t===oi){e._stOrig=r.cssText,c=jo(e);for(o in c)!+o&&!HK.test(o)&&c[o]&&typeof r[o]=="string"&&o!=="0"&&(r[o]=c[o]);r.top=n,r.left=s}else r.cssText=e._stOrig;Rt.core.getCache(e).uncache=1,t.appendChild(e)}},e8=function(e,t,n){var s=t,r=s;return function(o){var c=Math.round(e());return c!==s&&c!==r&&Math.abs(c-s)>3&&Math.abs(c-r)>3&&(o=c,n&&n()),r=s,s=Math.round(o),s}},wb=function(e,t,n){var s={};s[t.p]="+="+n,Rt.set(e,s)},r5=function(e,t){var n=Ff(e,t),s="_scroll"+t.p2,r=function o(c,d,p,m,g){var y=o.tween,b=d.onComplete,S={};p=p||n();var E=e8(n,p,function(){y.kill(),o.tween=0});return g=m&&g||0,m=m||c-p,y&&y.kill(),d[s]=c,d.inherit=!1,d.modifiers=S,S[s]=function(){return E(p+m*y.ratio+g*y.ratio*y.ratio)},d.onUpdate=function(){Cn.cache++,o.tween&&xu()},d.onComplete=function(){o.tween=0,b&&b.call(y)},y=o.tween=Rt.to(e,d),y};return e[s]=n,n.wheelHandler=function(){return r.tween&&r.tween.kill()&&(r.tween=0)},Zs(e,"wheel",n.wheelHandler),Ln.isTouch&&Zs(e,"touchmove",n.wheelHandler),r},Ln=(function(){function i(t,n){Mm||i.register(Rt)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),qT(this),this.init(t,n)}var e=i.prototype;return e.init=function(n,s){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Sg){this.update=this.refresh=this.kill=fc;return}n=$4(to(n)||Tg(n)||n.nodeType?{trigger:n}:n,Sb);var r=n,o=r.onUpdate,c=r.toggleClass,d=r.id,p=r.onToggle,m=r.onRefresh,g=r.scrub,y=r.trigger,b=r.pin,S=r.pinSpacing,E=r.invalidateOnRefresh,A=r.anticipatePin,M=r.onScrubComplete,D=r.onSnapComplete,R=r.once,L=r.snap,z=r.pinReparent,U=r.pinSpacer,I=r.containerAnimation,F=r.fastScrollEnd,P=r.preventOverlaps,B=n.horizontal||n.containerAnimation&&n.horizontal!==!1?cr:Us,H=!g&&g!==0,Q=Tr(n.scroller||An),ie=Rt.core.getCache(Q),ue=Bh(Q),fe=("pinType"in n?n.pinType:Df(Q,"pinType")||ue&&"fixed")==="fixed",V=[n.onEnter,n.onLeave,n.onEnterBack,n.onLeaveBack],X=H&&n.toggleActions.split(" "),K="markers"in n?n.markers:Sb.markers,ce=ue?0:parseFloat(jo(Q)["border"+B.p2+f0])||0,Y=this,W=n.onRefreshInit&&function(){return n.onRefreshInit(Y)},ae=OK(Q,ue,B),he=UK(Q,ue),ye=0,Pe=0,pe=0,_e=Ff(Q,B),We,tt,pt,vt,Gt,et,Ce,J,Ve,re,Qe,Xe,at,Ye,ct,$,k,xe,Ue,Be,Re,ft,nt,wt,ee,Ae,je,mt,ut,ot,Dt,ne,st,Je,Ze,He,Ie,xt,zt;if(Y._startClamp=Y._endClamp=!1,Y._dir=B,A*=45,Y.scroller=Q,Y.scroll=I?I.time.bind(I):_e,vt=_e(),Y.vars=n,s=s||n.animation,"refreshPriority"in n&&(jz=1,n.refreshPriority===-9999&&(Qg=Y)),ie.tweenScroll=ie.tweenScroll||{top:r5(Q,Us),left:r5(Q,cr)},Y.tweenTo=We=ie.tweenScroll[B.p],Y.scrubDuration=function(dt){st=Tg(dt)&&dt,st?ne?ne.duration(dt):ne=Rt.to(s,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:st,paused:!0,onComplete:function(){return M&&M(Y)}}):(ne&&ne.progress(1).kill(),ne=0)},s&&(s.vars.lazy=!1,s._initted&&!Y.isReverted||s.vars.immediateRender!==!1&&n.immediateRender!==!1&&s.duration()&&s.render(0,!0,!0),Y.animation=s.pause(),s.scrollTrigger=Y,Y.scrubDuration(g),ot=0,d||(d=s.vars.id)),L&&((!rh(L)||L.push)&&(L={snapTo:L}),"scrollBehavior"in oi.style&&Rt.set(ue?[oi,io]:Q,{scrollBehavior:"auto"}),Cn.forEach(function(dt){return Da(dt)&&dt.target===(ue?Ei.scrollingElement||io:Q)&&(dt.smooth=!1)}),pt=Da(L.snapTo)?L.snapTo:L.snapTo==="labels"?PK(s):L.snapTo==="labelsDirectional"?BK(s):L.directional!==!1?function(dt,Xt){return ZE(L.snapTo)(dt,Aa()-Pe<500?0:Xt.direction)}:Rt.utils.snap(L.snapTo),Je=L.duration||{min:.1,max:2},Je=rh(Je)?qg(Je.min,Je.max):qg(Je,Je),Ze=Rt.delayedCall(L.delay||st/2||.1,function(){var dt=_e(),Xt=Aa()-Pe<500,Ut=We.tween;if((Xt||Math.abs(Y.getVelocity())<10)&&!Ut&&!i2&&ye!==dt){var Lt=(dt-et)/Ye,li=s&&!H?s.totalProgress():Lt,Zt=Xt?0:(li-Dt)/(Aa()-bg)*1e3||0,Nn=Rt.utils.clamp(-Lt,1-Lt,bm(Zt/2)*Zt/.185),jn=Lt+(L.inertia===!1?0:Nn),Ct,tn,mn=L,ns=mn.onStart,ii=mn.onInterrupt,Ms=mn.onComplete;if(Ct=pt(jn,Y),Tg(Ct)||(Ct=jn),tn=Math.max(0,Math.round(et+Ct*Ye)),dt<=Ce&&dt>=et&&tn!==dt){if(Ut&&!Ut._initted&&Ut.data<=bm(tn-dt))return;L.inertia===!1&&(Nn=Ct-Lt),We(tn,{duration:Je(bm(Math.max(bm(jn-li),bm(Ct-li))*.185/Zt/.05||0)),ease:L.ease||"power3",data:bm(tn-dt),onInterrupt:function(){return Ze.restart(!0)&&ii&&ii(Y)},onComplete:function(){Y.update(),ye=_e(),s&&!H&&(ne?ne.resetTo("totalProgress",Ct,s._tTime/s._tDur):s.progress(Ct)),ot=Dt=s&&!H?s.totalProgress():Y.progress,D&&D(Y),Ms&&Ms(Y)}},dt,Nn*Ye,tn-dt-Nn*Ye),ns&&ns(Y,We.tween)}}else Y.isActive&&ye!==dt&&Ze.restart(!0)}).pause()),d&&(YT[d]=Y),y=Y.trigger=Tr(y||b!==!0&&b),zt=y&&y._gsap&&y._gsap.stRevert,zt&&(zt=zt(Y)),b=b===!0?y:Tr(b),to(c)&&(c={targets:y,className:c}),b&&(S===!1||S===Io||(S=!S&&b.parentNode&&b.parentNode.style&&jo(b.parentNode).display==="flex"?!1:ys),Y.pin=b,tt=Rt.core.getCache(b),tt.spacer?ct=tt.pinState:(U&&(U=Tr(U),U&&!U.nodeType&&(U=U.current||U.nativeElement),tt.spacerIsNative=!!U,U&&(tt.spacerState=Tb(U))),tt.spacer=xe=U||Ei.createElement("div"),xe.classList.add("pin-spacer"),d&&xe.classList.add("pin-spacer-"+d),tt.pinState=ct=Tb(b)),n.force3D!==!1&&Rt.set(b,{force3D:!0}),Y.spacer=xe=tt.spacer,ut=jo(b),wt=ut[S+B.os2],Be=Rt.getProperty(b),Re=Rt.quickSetter(b,B.a,Ls),R3(b,xe,ut),k=Tb(b)),K){Xe=rh(K)?$4(K,e5):e5,re=Mb("scroller-start",d,Q,B,Xe,0),Qe=Mb("scroller-end",d,Q,B,Xe,0,re),Ue=re["offset"+B.op.d2];var yn=Tr(Df(Q,"content")||Q);J=this.markerStart=Mb("start",d,yn,B,Xe,Ue,0,I),Ve=this.markerEnd=Mb("end",d,yn,B,Xe,Ue,0,I),I&&(xt=Rt.quickSetter([J,Ve],B.a,Ls)),!fe&&!(Sc.length&&Df(Q,"fixedMarkers")===!0)&&(zK(ue?oi:Q),Rt.set([re,Qe],{force3D:!0}),Ae=Rt.quickSetter(re,B.a,Ls),mt=Rt.quickSetter(Qe,B.a,Ls))}if(I){var gt=I.vars.onUpdate,Et=I.vars.onUpdateParams;I.eventCallback("onUpdate",function(){Y.update(0,0,1),gt&&gt.apply(I,Et||[])})}if(Y.previous=function(){return Sn[Sn.indexOf(Y)-1]},Y.next=function(){return Sn[Sn.indexOf(Y)+1]},Y.revert=function(dt,Xt){if(!Xt)return Y.kill(!0);var Ut=dt!==!1||!Y.enabled,Lt=Ea;Ut!==Y.isReverted&&(Ut&&(He=Math.max(_e(),Y.scroll.rec||0),pe=Y.progress,Ie=s&&s.progress()),J&&[J,Ve,re,Qe].forEach(function(li){return li.style.display=Ut?"none":"block"}),Ut&&(Ea=Y,Y.update(Ut)),b&&(!z||!Y.isActive)&&(Ut?FK(b,xe,ct):R3(b,xe,jo(b),ee)),Ut||Y.update(Ut),Ea=Lt,Y.isReverted=Ut)},Y.refresh=function(dt,Xt,Ut,Lt){if(!((Ea||!Y.enabled)&&!Xt)){if(b&&dt&&Xo){Zs(i,"scrollEnd",Kz);return}!rr&&W&&W(Y),Ea=Y,We.tween&&!Ut&&(We.tween.kill(),We.tween=0),ne&&ne.pause(),E&&s&&(s.revert({kill:!1}).invalidate(),s.getChildren&&s.getChildren(!0,!0,!1).forEach(function(At){return At.vars.immediateRender&&At.render(0,!0,!0)})),Y.isReverted||Y.revert(!0,!0),Y._subPinOffset=!1;var li=ae(),Zt=he(),Nn=I?I.duration():gc(Q,B),jn=Ye<=.01||!Ye,Ct=0,tn=Lt||0,mn=rh(Ut)?Ut.end:n.end,ns=n.endTrigger||y,ii=rh(Ut)?Ut.start:n.start||(n.start===0||!y?0:b?"0 0":"0 100%"),Ms=Y.pinnedContainer=n.pinnedContainer&&Tr(n.pinnedContainer,Y),Ts=y&&Math.max(0,Sn.indexOf(Y))||0,ci=Ts,yi,_n,G,ge,Te,ve,me,it,lt,yt,ht,Pt,jt;for(K&&rh(Ut)&&(Pt=Rt.getProperty(re,B.p),jt=Rt.getProperty(Qe,B.p));ci-- >0;)ve=Sn[ci],ve.end||ve.refresh(0,1)||(Ea=Y),me=ve.pin,me&&(me===y||me===b||me===Ms)&&!ve.isReverted&&(yt||(yt=[]),yt.unshift(ve),ve.revert(!0,!0)),ve!==Sn[ci]&&(Ts--,ci--);for(Da(ii)&&(ii=ii(Y)),ii=Z4(ii,"start",Y),et=s5(ii,y,li,B,_e(),J,re,Y,Zt,ce,fe,Nn,I,Y._startClamp&&"_startClamp")||(b?-.001:0),Da(mn)&&(mn=mn(Y)),to(mn)&&!mn.indexOf("+=")&&(~mn.indexOf(" ")?mn=(to(ii)?ii.split(" ")[0]:"")+mn:(Ct=Gb(mn.substr(2),li),mn=to(ii)?ii:(I?Rt.utils.mapRange(0,I.duration(),I.scrollTrigger.start,I.scrollTrigger.end,et):et)+Ct,ns=y)),mn=Z4(mn,"end",Y),Ce=Math.max(et,s5(mn||(ns?"100% 0":Nn),ns,li,B,_e()+Ct,Ve,Qe,Y,Zt,ce,fe,Nn,I,Y._endClamp&&"_endClamp"))||-.001,Ct=0,ci=Ts;ci--;)ve=Sn[ci],me=ve.pin,me&&ve.start-ve._pinPush<=et&&!I&&ve.end>0&&(yi=ve.end-(Y._startClamp?Math.max(0,ve.start):ve.start),(me===y&&ve.start-ve._pinPush<et||me===Ms)&&isNaN(ii)&&(Ct+=yi*(1-ve.progress)),me===b&&(tn+=yi));if(et+=Ct,Ce+=Ct,Y._startClamp&&(Y._startClamp+=Ct),Y._endClamp&&!rr&&(Y._endClamp=Ce||-.001,Ce=Math.min(Ce,gc(Q,B))),Ye=Ce-et||(et-=.01)&&.001,jn&&(pe=Rt.utils.clamp(0,1,Rt.utils.normalize(et,Ce,He))),Y._pinPush=tn,J&&Ct&&(yi={},yi[B.a]="+="+Ct,Ms&&(yi[B.p]="-="+_e()),Rt.set([J,Ve],yi)),b&&!(WT&&Y.end>=gc(Q,B)))yi=jo(b),ge=B===Us,G=_e(),ft=parseFloat(Be(B.a))+tn,!Nn&&Ce>1&&(ht=(ue?Ei.scrollingElement||io:Q).style,ht={style:ht,value:ht["overflow"+B.a.toUpperCase()]},ue&&jo(oi)["overflow"+B.a.toUpperCase()]!=="scroll"&&(ht.style["overflow"+B.a.toUpperCase()]="scroll")),R3(b,xe,yi),k=Tb(b),_n=hu(b,!0),it=fe&&Ff(Q,ge?cr:Us)(),S?(ee=[S+B.os2,Ye+tn+Ls],ee.t=xe,ci=S===ys?aS(b,B)+Ye+tn:0,ci&&(ee.push(B.d,ci+Ls),xe.style.flexBasis!=="auto"&&(xe.style.flexBasis=ci+Ls)),Hm(ee),Ms&&Sn.forEach(function(At){At.pin===Ms&&At.vars.pinSpacing!==!1&&(At._subPinOffset=!0)}),fe&&_e(He)):(ci=aS(b,B),ci&&xe.style.flexBasis!=="auto"&&(xe.style.flexBasis=ci+Ls)),fe&&(Te={top:_n.top+(ge?G-et:it)+Ls,left:_n.left+(ge?it:G-et)+Ls,boxSizing:"border-box",position:"fixed"},Te[Ah]=Te["max"+f0]=Math.ceil(_n.width)+Ls,Te[Ch]=Te["max"+YE]=Math.ceil(_n.height)+Ls,Te[Io]=Te[Io+Zg]=Te[Io+Wg]=Te[Io+Kg]=Te[Io+Yg]="0",Te[ys]=yi[ys],Te[ys+Zg]=yi[ys+Zg],Te[ys+Wg]=yi[ys+Wg],Te[ys+Kg]=yi[ys+Kg],Te[ys+Yg]=yi[ys+Yg],$=kK(ct,Te,z),rr&&_e(0)),s?(lt=s._initted,w3(1),s.render(s.duration(),!0,!0),nt=Be(B.a)-ft+Ye+tn,je=Math.abs(Ye-nt)>1,fe&&je&&$.splice($.length-2,2),s.render(0,!0,!0),lt||s.invalidate(!0),s.parent||s.totalTime(s.totalTime()),w3(0)):nt=Ye,ht&&(ht.value?ht.style["overflow"+B.a.toUpperCase()]=ht.value:ht.style.removeProperty("overflow-"+B.a));else if(y&&_e()&&!I)for(_n=y.parentNode;_n&&_n!==oi;)_n._pinOffset&&(et-=_n._pinOffset,Ce-=_n._pinOffset),_n=_n.parentNode;yt&&yt.forEach(function(At){return At.revert(!1,!0)}),Y.start=et,Y.end=Ce,vt=Gt=rr?He:_e(),!I&&!rr&&(vt<He&&_e(He),Y.scroll.rec=0),Y.revert(!1,!0),Pe=Aa(),Ze&&(ye=-1,Ze.restart(!0)),Ea=0,s&&H&&(s._initted||Ie)&&s.progress()!==Ie&&s.progress(Ie||0,!0).render(s.time(),!0,!0),(jn||pe!==Y.progress||I||E||s&&!s._initted)&&(s&&!H&&(s._initted||pe||s.vars.immediateRender!==!1)&&s.totalProgress(I&&et<-.001&&!pe?Rt.utils.normalize(et,Ce,0):pe,!0),Y.progress=jn||(vt-et)/Ye===pe?0:pe),b&&S&&(xe._pinOffset=Math.round(Y.progress*nt)),ne&&ne.invalidate(),isNaN(Pt)||(Pt-=Rt.getProperty(re,B.p),jt-=Rt.getProperty(Qe,B.p),wb(re,B,Pt),wb(J,B,Pt-(Lt||0)),wb(Qe,B,jt),wb(Ve,B,jt-(Lt||0))),jn&&!rr&&Y.update(),m&&!rr&&!at&&(at=!0,m(Y),at=!1)}},Y.getVelocity=function(){return(_e()-Gt)/(Aa()-bg)*1e3||0},Y.endAnimation=function(){pg(Y.callbackAnimation),s&&(ne?ne.progress(1):s.paused()?H||pg(s,Y.direction<0,1):pg(s,s.reversed()))},Y.labelToScroll=function(dt){return s&&s.labels&&(et||Y.refresh()||et)+s.labels[dt]/s.duration()*Ye||0},Y.getTrailing=function(dt){var Xt=Sn.indexOf(Y),Ut=Y.direction>0?Sn.slice(0,Xt).reverse():Sn.slice(Xt+1);return(to(dt)?Ut.filter(function(Lt){return Lt.vars.preventOverlaps===dt}):Ut).filter(function(Lt){return Y.direction>0?Lt.end<=et:Lt.start>=Ce})},Y.update=function(dt,Xt,Ut){if(!(I&&!Ut&&!dt)){var Lt=rr===!0?He:Y.scroll(),li=dt?0:(Lt-et)/Ye,Zt=li<0?0:li>1?1:li||0,Nn=Y.progress,jn,Ct,tn,mn,ns,ii,Ms,Ts;if(Xt&&(Gt=vt,vt=I?_e():Lt,L&&(Dt=ot,ot=s&&!H?s.totalProgress():Zt)),A&&b&&!Ea&&!vb&&Xo&&(!Zt&&et<Lt+(Lt-Gt)/(Aa()-bg)*A?Zt=1e-4:Zt===1&&Ce>Lt+(Lt-Gt)/(Aa()-bg)*A&&(Zt=.9999)),Zt!==Nn&&Y.enabled){if(jn=Y.isActive=!!Zt&&Zt<1,Ct=!!Nn&&Nn<1,ii=jn!==Ct,ns=ii||!!Zt!=!!Nn,Y.direction=Zt>Nn?1:-1,Y.progress=Zt,ns&&!Ea&&(tn=Zt&&!Nn?0:Zt===1?1:Nn===1?2:3,H&&(mn=!ii&&X[tn+1]!=="none"&&X[tn+1]||X[tn],Ts=s&&(mn==="complete"||mn==="reset"||mn in s))),P&&(ii||Ts)&&(Ts||g||!s)&&(Da(P)?P(Y):Y.getTrailing(P).forEach(function(G){return G.endAnimation()})),H||(ne&&!Ea&&!vb?(ne._dp._time-ne._start!==ne._time&&ne.render(ne._dp._time-ne._start),ne.resetTo?ne.resetTo("totalProgress",Zt,s._tTime/s._tDur):(ne.vars.totalProgress=Zt,ne.invalidate().restart())):s&&s.totalProgress(Zt,!!(Ea&&(Pe||dt)))),b){if(dt&&S&&(xe.style[S+B.os2]=wt),!fe)Re(Mg(ft+nt*Zt));else if(ns){if(Ms=!dt&&Zt>Nn&&Ce+1>Lt&&Lt+1>=gc(Q,B),z)if(!dt&&(jn||Ms)){var ci=hu(b,!0),yi=Lt-et;a5(b,oi,ci.top+(B===Us?yi:0)+Ls,ci.left+(B===Us?0:yi)+Ls)}else a5(b,xe);Hm(jn||Ms?$:k),je&&Zt<1&&jn||Re(ft+(Zt===1&&!Ms?nt:0))}}L&&!We.tween&&!Ea&&!vb&&Ze.restart(!0),c&&(ii||R&&Zt&&(Zt<1||!E3))&&Nv(c.targets).forEach(function(G){return G.classList[jn||R?"add":"remove"](c.className)}),o&&!H&&!dt&&o(Y),ns&&!Ea?(H&&(Ts&&(mn==="complete"?s.pause().totalProgress(1):mn==="reset"?s.restart(!0).pause():mn==="restart"?s.restart(!0):s[mn]()),o&&o(Y)),(ii||!E3)&&(p&&ii&&C3(Y,p),V[tn]&&C3(Y,V[tn]),R&&(Zt===1?Y.kill(!1,1):V[tn]=0),ii||(tn=Zt===1?1:3,V[tn]&&C3(Y,V[tn]))),F&&!jn&&Math.abs(Y.getVelocity())>(Tg(F)?F:2500)&&(pg(Y.callbackAnimation),ne?ne.progress(1):pg(s,mn==="reverse"?1:!Zt,1))):H&&o&&!Ea&&o(Y)}if(mt){var _n=I?Lt/I.duration()*(I._caScrollDist||0):Lt;Ae(_n+(re._isFlipped?1:0)),mt(_n)}xt&&xt(-Lt/I.duration()*(I._caScrollDist||0))}},Y.enable=function(dt,Xt){Y.enabled||(Y.enabled=!0,Zs(Q,"resize",wg),ue||Zs(Q,"scroll",Sm),W&&Zs(i,"refreshInit",W),dt!==!1&&(Y.progress=pe=0,vt=Gt=ye=_e()),Xt!==!1&&Y.refresh())},Y.getTween=function(dt){return dt&&We?We.tween:ne},Y.setPositions=function(dt,Xt,Ut,Lt){if(I){var li=I.scrollTrigger,Zt=I.duration(),Nn=li.end-li.start;dt=li.start+Nn*dt/Zt,Xt=li.start+Nn*Xt/Zt}Y.refresh(!1,!1,{start:K4(dt,Ut&&!!Y._startClamp),end:K4(Xt,Ut&&!!Y._endClamp)},Lt),Y.update()},Y.adjustPinSpacing=function(dt){if(ee&&dt){var Xt=ee.indexOf(B.d)+1;ee[Xt]=parseFloat(ee[Xt])+dt+Ls,ee[1]=parseFloat(ee[1])+dt+Ls,Hm(ee)}},Y.disable=function(dt,Xt){if(Y.enabled&&(dt!==!1&&Y.revert(!0,!0),Y.enabled=Y.isActive=!1,Xt||ne&&ne.pause(),He=0,tt&&(tt.uncache=1),W&&Ys(i,"refreshInit",W),Ze&&(Ze.pause(),We.tween&&We.tween.kill()&&(We.tween=0)),!ue)){for(var Ut=Sn.length;Ut--;)if(Sn[Ut].scroller===Q&&Sn[Ut]!==Y)return;Ys(Q,"resize",wg),ue||Ys(Q,"scroll",Sm)}},Y.kill=function(dt,Xt){Y.disable(dt,Xt),ne&&!Xt&&ne.kill(),d&&delete YT[d];var Ut=Sn.indexOf(Y);Ut>=0&&Sn.splice(Ut,1),Ut===ar&&qb>0&&ar--,Ut=0,Sn.forEach(function(Lt){return Lt.scroller===Y.scroller&&(Ut=1)}),Ut||rr||(Y.scroll.rec=0),s&&(s.scrollTrigger=null,dt&&s.revert({kill:!1}),Xt||s.kill()),J&&[J,Ve,re,Qe].forEach(function(Lt){return Lt.parentNode&&Lt.parentNode.removeChild(Lt)}),Qg===Y&&(Qg=0),b&&(tt&&(tt.uncache=1),Ut=0,Sn.forEach(function(Lt){return Lt.pin===b&&Ut++}),Ut||(tt.spacer=0)),n.onKill&&n.onKill(Y)},Sn.push(Y),Y.enable(!1,!1),zt&&zt(Y),s&&s.add&&!Ye){var en=Y.update;Y.update=function(){Y.update=en,Cn.cache++,et||Ce||Y.refresh()},Rt.delayedCall(.01,Y.update),Ye=.01,et=Ce=0}else Y.refresh();b&&jK()},i.register=function(n){return Mm||(Rt=n||Gz(),Hz()&&window.document&&i.enable(),Mm=Sg),Mm},i.defaults=function(n){if(n)for(var s in n)Sb[s]=n[s];return Sb},i.disable=function(n,s){Sg=0,Sn.forEach(function(o){return o[s?"kill":"disable"](n)}),Ys(An,"wheel",Sm),Ys(Ei,"scroll",Sm),clearInterval(gb),Ys(Ei,"touchcancel",fc),Ys(oi,"touchstart",fc),_b(Ys,Ei,"pointerdown,touchstart,mousedown",Q4),_b(Ys,Ei,"pointerup,touchend,mouseup",J4),iS.kill(),yb(Ys);for(var r=0;r<Cn.length;r+=3)bb(Ys,Cn[r],Cn[r+1]),bb(Ys,Cn[r],Cn[r+2])},i.enable=function(){if(An=window,Ei=document,io=Ei.documentElement,oi=Ei.body,Rt&&(Nv=Rt.utils.toArray,qg=Rt.utils.clamp,qT=Rt.core.context||fc,w3=Rt.core.suppressOverwrites||fc,GE=An.history.scrollRestoration||"auto",ZT=An.pageYOffset||0,Rt.core.globals("ScrollTrigger",i),oi)){Sg=1,km=document.createElement("div"),km.style.height="100vh",km.style.position="absolute",$z(),LK(),ds.register(Rt),i.isTouch=ds.isTouch,vf=ds.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),XT=ds.isTouch===1,Zs(An,"wheel",Sm),HE=[An,Ei,io,oi],Rt.matchMedia?(i.matchMedia=function(p){var m=Rt.matchMedia(),g;for(g in p)m.add(g,p[g]);return m},Rt.addEventListener("matchMediaInit",function(){return KE()}),Rt.addEventListener("matchMediaRevert",function(){return Qz()}),Rt.addEventListener("matchMedia",function(){mh(0,1),jh("matchMedia")}),Rt.matchMedia().add("(orientation: portrait)",function(){return N3(),N3})):console.warn("Requires GSAP 3.11.0 or later"),N3(),Zs(Ei,"scroll",Sm);var n=oi.hasAttribute("style"),s=oi.style,r=s.borderTopStyle,o=Rt.core.Animation.prototype,c,d;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),s.borderTopStyle="solid",c=hu(oi),Us.m=Math.round(c.top+Us.sc())||0,cr.m=Math.round(c.left+cr.sc())||0,r?s.borderTopStyle=r:s.removeProperty("border-top-style"),n||(oi.setAttribute("style",""),oi.removeAttribute("style")),gb=setInterval(t5,250),Rt.delayedCall(.5,function(){return vb=0}),Zs(Ei,"touchcancel",fc),Zs(oi,"touchstart",fc),_b(Zs,Ei,"pointerdown,touchstart,mousedown",Q4),_b(Zs,Ei,"pointerup,touchend,mouseup",J4),GT=Rt.utils.checkPrefix("transform"),Wb.push(GT),Mm=Aa(),iS=Rt.delayedCall(.2,mh).pause(),Tm=[Ei,"visibilitychange",function(){var p=An.innerWidth,m=An.innerHeight;Ei.hidden?(W4=p,Y4=m):(W4!==p||Y4!==m)&&wg()},Ei,"DOMContentLoaded",mh,An,"load",mh,An,"resize",wg],yb(Zs),Sn.forEach(function(p){return p.enable(0,1)}),d=0;d<Cn.length;d+=3)bb(Ys,Cn[d],Cn[d+1]),bb(Ys,Cn[d],Cn[d+2])}},i.config=function(n){"limitCallbacks"in n&&(E3=!!n.limitCallbacks);var s=n.syncInterval;s&&clearInterval(gb)||(gb=s)&&setInterval(t5,s),"ignoreMobileResize"in n&&(XT=i.isTouch===1&&n.ignoreMobileResize),"autoRefreshEvents"in n&&(yb(Ys)||yb(Zs,n.autoRefreshEvents||"none"),Fz=(n.autoRefreshEvents+"").indexOf("resize")===-1)},i.scrollerProxy=function(n,s){var r=Tr(n),o=Cn.indexOf(r),c=Bh(r);~o&&Cn.splice(o,c?6:2),s&&(c?Sc.unshift(An,s,oi,s,io,s):Sc.unshift(r,s))},i.clearMatchMedia=function(n){Sn.forEach(function(s){return s._ctx&&s._ctx.query===n&&s._ctx.kill(!0,!0)})},i.isInViewport=function(n,s,r){var o=(to(n)?Tr(n):n).getBoundingClientRect(),c=o[r?Ah:Ch]*s||0;return r?o.right-c>0&&o.left+c<An.innerWidth:o.bottom-c>0&&o.top+c<An.innerHeight},i.positionInViewport=function(n,s,r){to(n)&&(n=Tr(n));var o=n.getBoundingClientRect(),c=o[r?Ah:Ch],d=s==null?c/2:s in rS?rS[s]*c:~s.indexOf("%")?parseFloat(s)*c/100:parseFloat(s)||0;return r?(o.left+d)/An.innerWidth:(o.top+d)/An.innerHeight},i.killAll=function(n){if(Sn.slice(0).forEach(function(r){return r.vars.id!=="ScrollSmoother"&&r.kill()}),n!==!0){var s=Ih.killAll||[];Ih={},s.forEach(function(r){return r()})}},i})();Ln.version="3.13.0";Ln.saveStyles=function(i){return i?Nv(i).forEach(function(e){if(e&&e.style){var t=eo.indexOf(e);t>=0&&eo.splice(t,5),eo.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),Rt.core.getCache(e),qT())}}):eo};Ln.revert=function(i,e){return KE(!i,e)};Ln.create=function(i,e){return new Ln(i,e)};Ln.refresh=function(i){return i?wg(!0):(Mm||Ln.register())&&mh(!0)};Ln.update=function(i){return++Cn.cache&&xu(i===!0?2:0)};Ln.clearScrollMemory=Jz;Ln.maxScroll=function(i,e){return gc(i,e?cr:Us)};Ln.getScrollFunc=function(i,e){return Ff(Tr(i),e?cr:Us)};Ln.getById=function(i){return YT[i]};Ln.getAll=function(){return Sn.filter(function(i){return i.vars.id!=="ScrollSmoother"})};Ln.isScrolling=function(){return!!Xo};Ln.snapDirectional=ZE;Ln.addEventListener=function(i,e){var t=Ih[i]||(Ih[i]=[]);~t.indexOf(e)||t.push(e)};Ln.removeEventListener=function(i,e){var t=Ih[i],n=t&&t.indexOf(e);n>=0&&t.splice(n,1)};Ln.batch=function(i,e){var t=[],n={},s=e.interval||.016,r=e.batchMax||1e9,o=function(p,m){var g=[],y=[],b=Rt.delayedCall(s,function(){m(g,y),g=[],y=[]}).pause();return function(S){g.length||b.restart(!0),g.push(S.trigger),y.push(S),r<=g.length&&b.progress(1)}},c;for(c in e)n[c]=c.substr(0,2)==="on"&&Da(e[c])&&c!=="onRefreshInit"?o(c,e[c]):e[c];return Da(r)&&(r=r(),Zs(Ln,"refresh",function(){return r=e.batchMax()})),Nv(i).forEach(function(d){var p={};for(c in n)p[c]=n[c];p.trigger=d,t.push(Ln.create(p))}),t};var o5=function(e,t,n,s){return t>s?e(s):t<0&&e(0),n>s?(s-t)/(n-t):n<0?t/(t-n):1},D3=function i(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(ds.isTouch?" pinch-zoom":""):"none",e===io&&i(oi,t)},Eb={auto:1,scroll:1},GK=function(e){var t=e.event,n=e.target,s=e.axis,r=(t.changedTouches?t.changedTouches[0]:t).target,o=r._gsap||Rt.core.getCache(r),c=Aa(),d;if(!o._isScrollT||c-o._isScrollT>2e3){for(;r&&r!==oi&&(r.scrollHeight<=r.clientHeight&&r.scrollWidth<=r.clientWidth||!(Eb[(d=jo(r)).overflowY]||Eb[d.overflowX]));)r=r.parentNode;o._isScroll=r&&r!==n&&!Bh(r)&&(Eb[(d=jo(r)).overflowY]||Eb[d.overflowX]),o._isScrollT=c}(o._isScroll||s==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},t8=function(e,t,n,s){return ds.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:s=s&&GK,onPress:s,onDrag:s,onScroll:s,onEnable:function(){return n&&Zs(Ei,ds.eventTypes[0],c5,!1,!0)},onDisable:function(){return Ys(Ei,ds.eventTypes[0],c5,!0)}})},XK=/(input|label|select|textarea)/i,l5,c5=function(e){var t=XK.test(e.target.tagName);(t||l5)&&(e._gsapAllow=!0,l5=t)},qK=function(e){rh(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,n=t.normalizeScrollX,s=t.momentum,r=t.allowNestedScroll,o=t.onRelease,c,d,p=Tr(e.target)||io,m=Rt.core.globals().ScrollSmoother,g=m&&m.get(),y=vf&&(e.content&&Tr(e.content)||g&&e.content!==!1&&!g.smooth()&&g.content()),b=Ff(p,Us),S=Ff(p,cr),E=1,A=(ds.isTouch&&An.visualViewport?An.visualViewport.scale*An.visualViewport.width:An.outerWidth)/An.innerWidth,M=0,D=Da(s)?function(){return s(c)}:function(){return s||2.8},R,L,z=t8(p,e.type,!0,r),U=function(){return L=!1},I=fc,F=fc,P=function(){d=gc(p,Us),F=qg(vf?1:0,d),n&&(I=qg(0,gc(p,cr))),R=Nh},B=function(){y._gsap.y=Mg(parseFloat(y._gsap.y)+b.offset)+"px",y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(y._gsap.y)+", 0, 1)",b.offset=b.cacheID=0},H=function(){if(L){requestAnimationFrame(U);var K=Mg(c.deltaY/2),ce=F(b.v-K);if(y&&ce!==b.v+b.offset){b.offset=ce-b.v;var Y=Mg((parseFloat(y&&y._gsap.y)||0)-b.offset);y.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+Y+", 0, 1)",y._gsap.y=Y+"px",b.cacheID=Cn.cache,xu()}return!0}b.offset&&B(),L=!0},Q,ie,ue,fe,V=function(){P(),Q.isActive()&&Q.vars.scrollY>d&&(b()>d?Q.progress(1)&&b(d):Q.resetTo("scrollY",d))};return y&&Rt.set(y,{y:"+=0"}),e.ignoreCheck=function(X){return vf&&X.type==="touchmove"&&H()||E>1.05&&X.type!=="touchstart"||c.isGesturing||X.touches&&X.touches.length>1},e.onPress=function(){L=!1;var X=E;E=Mg((An.visualViewport&&An.visualViewport.scale||1)/A),Q.pause(),X!==E&&D3(p,E>1.01?!0:n?!1:"x"),ie=S(),ue=b(),P(),R=Nh},e.onRelease=e.onGestureStart=function(X,K){if(b.offset&&B(),!K)fe.restart(!0);else{Cn.cache++;var ce=D(),Y,W;n&&(Y=S(),W=Y+ce*.05*-X.velocityX/.227,ce*=o5(S,Y,W,gc(p,cr)),Q.vars.scrollX=I(W)),Y=b(),W=Y+ce*.05*-X.velocityY/.227,ce*=o5(b,Y,W,gc(p,Us)),Q.vars.scrollY=F(W),Q.invalidate().duration(ce).play(.01),(vf&&Q.vars.scrollY>=d||Y>=d-1)&&Rt.to({},{onUpdate:V,duration:ce})}o&&o(X)},e.onWheel=function(){Q._ts&&Q.pause(),Aa()-M>1e3&&(R=0,M=Aa())},e.onChange=function(X,K,ce,Y,W){if(Nh!==R&&P(),K&&n&&S(I(Y[2]===K?ie+(X.startX-X.x):S()+K-Y[1])),ce){b.offset&&B();var ae=W[2]===ce,he=ae?ue+X.startY-X.y:b()+ce-W[1],ye=F(he);ae&&he!==ye&&(ue+=ye-he),b(ye)}(ce||K)&&xu()},e.onEnable=function(){D3(p,n?!1:"x"),Ln.addEventListener("refresh",V),Zs(An,"resize",V),b.smooth&&(b.target.style.scrollBehavior="auto",b.smooth=S.smooth=!1),z.enable()},e.onDisable=function(){D3(p,!0),Ys(An,"resize",V),Ln.removeEventListener("refresh",V),z.kill()},e.lockAxis=e.lockAxis!==!1,c=new ds(e),c.iOS=vf,vf&&!b()&&b(1),vf&&Rt.ticker.add(fc),fe=c._dc,Q=Rt.to(c,{ease:"power4",paused:!0,inherit:!1,scrollX:n?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:e8(b,b(),function(){return Q.pause()})},onUpdate:xu,onComplete:fe.vars.onComplete}),c};Ln.sort=function(i){if(Da(i))return Sn.sort(i);var e=An.pageYOffset||0;return Ln.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+An.innerHeight}),Sn.sort(i||function(t,n){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((n.vars.containerAnimation?1e6:n._sortY)+(n.vars.refreshPriority||0)*-1e6)})};Ln.observe=function(i){return new ds(i)};Ln.normalizeScroll=function(i){if(typeof i>"u")return sr;if(i===!0&&sr)return sr.enable();if(i===!1){sr&&sr.kill(),sr=i;return}var e=i instanceof ds?i:qK(i);return sr&&sr.target===e.target&&sr.kill(),Bh(e.target)&&(sr=e),e};Ln.core={_getVelocityProp:HT,_inputObserver:t8,_scrollers:Cn,_proxies:Sc,bridge:{ss:function(){Xo||jh("scrollStart"),Xo=Aa()},ref:function(){return Ea}}};Gz()&&Rt.registerPlugin(Ln);Dz.registerPlugin(Ln);const WK=i=>{const e=se.useRef(),t=se.useMemo(()=>{const n=new Float32Array(15e3);for(let s=0;s<5e3;s++){const r=1.2*Math.cbrt(Math.random()),o=Math.random()*2*Math.PI,c=Math.acos(2*Math.random()-1),d=r*Math.sin(c)*Math.cos(o),p=r*Math.sin(c)*Math.sin(o),m=r*Math.cos(c);n[s*3]=d,n[s*3+1]=p,n[s*3+2]=m}return n},[]);return JS((n,s)=>{e.current&&(e.current.rotation.x-=s/20,e.current.rotation.y-=s/15)}),_.jsx("group",{rotation:[0,0,Math.PI/4],children:_.jsx(hZ,{ref:e,positions:t,stride:3,frustumCulled:!1,...i,children:_.jsx(rZ,{transparent:!0,color:"#8b5cf6",size:.002,sizeAttenuation:!0,depthWrite:!1,opacity:.6})})})},YK=()=>_.jsx(iZ,{className:"h-full w-full",camera:{position:[0,0,1]},dpr:[1,2],children:_.jsxs("group",{rotation:[0,0,Math.PI/4],children:[_.jsx(WK,{}),_.jsx(cZ,{radius:50,depth:50,count:3e3,factor:4,saturation:1,fade:!0,speed:1})]})}),L3=({title:i,desc:e,icon:t,delay:n})=>_.jsxs(In.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n,duration:.5},className:"p-6 md:p-8 rounded-3xl bg-slate-900/50 border border-slate-700/50 backdrop-blur-sm hover:bg-slate-800/50 transition-all hover:border-blue-500/30 group flex flex-col items-center text-center shadow-lg",children:[_.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-2xl flex items-center justify-center text-3xl mb-6 group-hover:scale-110 transition-transform duration-300 shadow-inner",children:t}),_.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-4",children:i}),_.jsx("p",{className:"text-slate-400 leading-relaxed text-base md:text-lg",children:e})]}),Ab=({number:i,title:e,desc:t})=>_.jsxs("div",{className:"flex gap-6 items-start relative pb-12 last:pb-0 group",children:[_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-800 border border-slate-600 flex items-center justify-center font-bold text-white z-10 group-hover:bg-blue-600 group-hover:border-blue-500 transition-colors shadow-lg",children:i}),i!=="4"&&_.jsx("div",{className:"w-0.5 h-full bg-slate-800 absolute top-12 left-6 -translate-x-1/2 group-hover:bg-blue-900/50 transition-colors"})]}),_.jsxs("div",{className:"pt-1",children:[_.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2",children:e}),_.jsx("p",{className:"text-slate-400 text-base md:text-lg leading-relaxed max-w-xl",children:t})]})]}),ZK=({setPage:i})=>_.jsxs("div",{className:"relative h-screen w-full flex items-center overflow-hidden bg-slate-950 pt-16",children:[_.jsx("div",{className:"absolute inset-0 z-0 opacity-10 bg-[linear-gradient(rgba(255,255,255,0.05)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.05)_1px,transparent_1px)] bg-[size:4rem_4rem]"}),_.jsx("div",{className:"absolute inset-0 z-0",children:_.jsx(YK,{})}),_.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 relative z-10 h-full flex items-center",children:_.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-20 w-full items-center",children:[_.jsxs("div",{className:"text-left space-y-8 relative z-20 pt-20 md:pt-0",children:[_.jsxs(In.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-5xl sm:text-6xl md:text-7xl font-bold text-white leading-[1.1] tracking-tight",children:["Unlock Your ",_.jsx("br",{}),_.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:"True Potential."})]}),_.jsx(In.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.8},className:"text-xl text-slate-400 max-w-lg leading-relaxed",children:"Our AI analyzes your resume and simulates real interviews to help you land your dream job faster."}),_.jsxs(In.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"flex flex-col sm:flex-row gap-5 pt-4 w-full sm:w-auto",children:[_.jsxs("button",{onClick:()=>i("resume"),className:"w-full sm:w-auto px-8 py-4 bg-blue-600 hover:bg-blue-500 text-white rounded-2xl font-bold text-lg transition-all shadow-xl hover:shadow-blue-500/25 active:scale-95 flex items-center justify-center gap-2",children:[_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Analyze Resume"]}),_.jsxs("button",{onClick:()=>i("interview"),className:"w-full sm:w-auto px-8 py-4 bg-slate-800/80 hover:bg-slate-700 text-white rounded-2xl font-bold text-lg transition-all border border-slate-700 hover:border-slate-600 backdrop-blur-md active:scale-95 flex items-center justify-center gap-2",children:[_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),"Mock Interview"]})]})]}),_.jsxs(In.div,{initial:{opacity:0,scale:.8,rotateY:-10},animate:{opacity:1,scale:1,rotateY:0},transition:{delay:.4,duration:1},className:"relative hidden lg:block perspective-1000",children:[_.jsxs("div",{className:"relative w-full max-w-md mx-auto aspect-[3/4] bg-slate-900/40 backdrop-blur-md border border-slate-700/50 rounded-3xl overflow-hidden shadow-2xl transform rotate-y-12",children:[_.jsxs("div",{className:"h-14 border-b border-slate-700/50 bg-slate-800/30 flex items-center px-6 gap-3",children:[_.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500/50"}),_.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500/50"}),_.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500/50"})]}),_.jsxs("div",{className:"p-8 space-y-6 opacity-40",children:[_.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-600 mb-6"}),_.jsx("div",{className:"h-4 bg-slate-600 rounded w-3/4"}),_.jsx("div",{className:"h-4 bg-slate-600 rounded w-1/2"}),_.jsxs("div",{className:"space-y-3 pt-6",children:[_.jsx("div",{className:"h-2 bg-slate-700 rounded w-full"}),_.jsx("div",{className:"h-2 bg-slate-700 rounded w-full"}),_.jsx("div",{className:"h-2 bg-slate-700 rounded w-5/6"})]})]}),_.jsx(In.div,{animate:{top:["0%","100%","0%"]},transition:{duration:4,repeat:1/0,ease:"linear"},className:"absolute left-0 right-0 h-1 bg-blue-500 shadow-[0_0_20px_rgba(59,130,246,0.8)] z-10",children:_.jsx("div",{className:"absolute inset-0 bg-blue-400 blur-sm"})}),_.jsx(In.div,{animate:{opacity:[0,1,0],y:[20,-20]},transition:{duration:2,repeat:1/0,delay:.5},className:"absolute top-1/4 right-10 bg-green-500/20 border border-green-500/50 text-green-300 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-md",children:"React Mastery: 98%"}),_.jsx(In.div,{animate:{opacity:[0,1,0],y:[20,-20]},transition:{duration:2.5,repeat:1/0,delay:1.5},className:"absolute top-1/2 left-10 bg-purple-500/20 border border-purple-500/50 text-purple-300 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-md",children:"Leadership Detected"}),_.jsx(In.div,{animate:{opacity:[0,1,0],y:[20,-20]},transition:{duration:2.2,repeat:1/0,delay:2.5},className:"absolute bottom-1/4 right-16 bg-blue-500/20 border border-blue-500/50 text-blue-300 px-3 py-1 rounded-full text-xs font-bold backdrop-blur-md",children:"ATS Score: High"})]}),_.jsx("div",{className:"absolute -inset-10 bg-gradient-to-tr from-blue-600/20 to-purple-600/20 blur-[60px] -z-10 rounded-full"})]})]})})]}),KK=()=>_.jsx("div",{className:"py-16 md:py-32 bg-slate-950 relative overflow-hidden",children:_.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24",children:[_.jsxs("div",{className:"mb-12 md:mb-20 text-center max-w-3xl mx-auto",children:[_.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6 leading-tight",children:"Why traditional prep fails?"}),_.jsx("p",{className:"text-lg md:text-xl text-slate-400 leading-relaxed",children:"Top companies receive thousands of resumes. 75% are rejected by automated ATS before a human ever sees them. We fix that."})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8",children:[_.jsx(L3,{delay:.2,title:"ATS Optimization",icon:"",desc:"Our algorithm mimics Fortune 500 hiring systems to flag missing keywords, formatting issues, and readability scores instantly."}),_.jsx(L3,{delay:.4,title:"Smart Question Bank",icon:"",desc:"Stop memorizing random leetcode. Get curated questions based on the specific job description and role requirements."}),_.jsx(L3,{delay:.6,title:"Instant Feedback",icon:"",desc:"Get detailed explanations for every wrong answer. Learn the 'why' behind the logic, not just the solution."})]})]})}),QK=()=>_.jsx("div",{className:"py-20 md:py-32 bg-slate-900 border-y border-slate-800",children:_.jsxs("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 grid lg:grid-cols-2 gap-20 items-center",children:[_.jsxs("div",{className:"relative order-2 lg:order-1 pt-10 lg:pt-0",children:[_.jsx("div",{className:"absolute inset-0 bg-blue-500/20 blur-[100px] rounded-full"}),_.jsx("div",{className:"relative bg-slate-950 border border-slate-800 rounded-3xl p-6 md:p-8 shadow-2xl",children:_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex gap-4",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex-shrink-0"}),_.jsx("div",{className:"bg-slate-800 p-4 rounded-2xl rounded-tl-none text-slate-300 text-sm leading-relaxed",children:"I found 3 critical issues in your React hooks implementation. Here's how to fix them..."})]}),_.jsxs("div",{className:"flex gap-4 flex-row-reverse",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-500 flex-shrink-0"}),_.jsx("div",{className:"bg-purple-900/20 border border-purple-500/20 p-4 rounded-2xl rounded-tr-none text-white text-sm leading-relaxed",children:"Wow, I didn't know that about useEffect! Thanks."})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-600 flex-shrink-0"}),_.jsx("div",{className:"bg-slate-800 p-4 rounded-2xl rounded-tl-none text-slate-300 text-sm leading-relaxed",children:"Now let's try a system design question. How would you design a rate limiter?"})]})]})})]}),_.jsxs("div",{className:"order-1 lg:order-2",children:[_.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-12",children:"Your path to hired."}),_.jsxs("div",{className:"pl-4",children:[_.jsx(Ab,{number:"1",title:"Upload Resume",desc:"Drag and drop your PDF. Our secure engine parses your skills, experience, and projects in seconds."}),_.jsx(Ab,{number:"2",title:"Get Matched",desc:"We cross-reference your profile with live job market data to find roles you're actually qualified for."}),_.jsx(Ab,{number:"3",title:"Prep & Practice",desc:"Enter the simulation. Take timed technical quizzes and logic tests designed to mimic the real pressure."}),_.jsx(Ab,{number:"4",title:"Apply with Confidence",desc:"Use our insights to tweak your application and walk into the interview room ready to dominate."})]})]})]})}),JK=({user:i,setPage:e})=>{const[t,n]=se.useState(""),[s,r]=se.useState(""),[o,c]=se.useState(!1),[d,p]=se.useState(""),[m,g]=se.useState(""),y=async b=>{if(b.preventDefault(),!i){c(!0);return}n("sending");try{await Yt.post("/contact",{user_id:i?.id||0,user_name:i?.full_name||d,user_email:i?.email||m,content:s}),n("sent"),r("")}catch(S){console.error(S);const E=S.response?.data?.detail||S.message||"Unknown error";alert(`Failed to send message: ${E}`),n("")}};return _.jsxs("div",{className:"py-20 md:py-24 relative bg-slate-950 overflow-hidden border-t border-slate-800",children:[_.jsx(wr,{children:o&&_.jsx(In.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-50 flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-sm",onClick:()=>c(!1),children:_.jsxs(In.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-900 border border-slate-700 p-8 rounded-2xl shadow-2xl max-w-sm w-full text-center relative overflow-hidden",onClick:b=>b.stopPropagation(),children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 to-purple-500"}),_.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-6",children:_.jsx("svg",{className:"w-8 h-8 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),_.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Authentication Required"}),_.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"Please sign in to your account to send direct messages to our support team."}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>c(!1),className:"flex-1 py-2.5 px-4 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-xl font-medium transition-colors text-sm",children:"Cancel"}),_.jsx("button",{onClick:()=>e("auth"),className:"flex-1 py-2.5 px-4 bg-blue-600 hover:bg-blue-500 text-white rounded-xl font-medium transition-colors text-sm shadow-lg shadow-blue-500/20",children:"Sign In"})]})]})})}),_.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-500/10 rounded-full blur-[100px] pointer-events-none"}),_.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-purple-500/10 rounded-full blur-[100px] pointer-events-none"}),_.jsx("div",{className:"container mx-auto px-6 md:px-12 lg:px-24 relative z-10",children:_.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-6",children:"Let's shape your future together."}),_.jsx("p",{className:"text-xl text-slate-400 mb-8",children:"Have questions about our AI models or enterprise pricing? Drop us a line and our team will get back to you within 24 hours."}),_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-900 border border-slate-700 flex items-center justify-center text-blue-400",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),_.jsxs("div",{children:[_.jsx("div",{className:"text-white font-semibold",children:"Email Us"}),_.jsx("div",{className:"text-slate-500",children:"support@careerlaunchpad.ai"})]})]}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-900 border border-slate-700 flex items-center justify-center text-purple-400",children:_.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),_.jsxs("div",{children:[_.jsx("div",{className:"text-white font-semibold",children:"HQ Location"}),_.jsx("div",{className:"text-slate-500",children:"Changanacherry, Kerala"})]})]})]})]}),_.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-sm border border-slate-800 p-8 rounded-3xl relative group",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-3xl opacity-0 group-hover:opacity-100 transition-opacity"}),t==="sent"?_.jsxs("div",{className:"h-[400px] flex flex-col items-center justify-center text-center animate-fade-in-up",children:[_.jsx("div",{className:"w-20 h-20 bg-green-500/20 text-green-400 rounded-full flex items-center justify-center mb-6",children:_.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),_.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Message Sent!"}),_.jsxs("p",{className:"text-slate-400",children:["We'll be in touch with you at ",_.jsx("span",{className:"text-blue-400",children:i?.email||m})," shortly."]}),_.jsx("button",{onClick:()=>n(""),className:"mt-8 text-blue-400 hover:text-blue-300 font-medium",children:"Send another"})]}):_.jsxs("form",{onSubmit:y,className:"space-y-6 relative z-10 transition-all duration-300",children:[_.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium text-slate-400",children:"Your Name"}),_.jsx("input",{value:i?i.full_name:d,onChange:b=>!i&&p(b.target.value),disabled:!!i,type:"text",className:`w-full bg-slate-950 border border-slate-800 rounded-xl px-4 py-3 text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all placeholder:text-slate-600 ${i?"opacity-70 cursor-not-allowed":""}`,placeholder:"John Doe"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium text-slate-400",children:"Email Address"}),_.jsx("input",{value:i?i.email:m,onChange:b=>!i&&g(b.target.value),disabled:!!i,type:"email",className:`w-full bg-slate-950 border border-slate-800 rounded-xl px-4 py-3 text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all placeholder:text-slate-600 ${i?"opacity-70 cursor-not-allowed":""}`,placeholder:"john@company.com"})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-sm font-medium text-slate-400",children:"Message"}),_.jsx("textarea",{value:s,onChange:b=>r(b.target.value),required:!0,rows:"4",className:"w-full bg-slate-950 border border-slate-800 rounded-xl px-4 py-3 text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all placeholder:text-slate-600",placeholder:"How can we help you?"})]}),_.jsx("button",{disabled:t==="sending",className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold py-4 rounded-xl hover:shadow-lg hover:shadow-blue-500/25 transition-all disabled:opacity-70 disabled:cursor-wait flex items-center justify-center gap-2",children:t==="sending"?_.jsxs(_.Fragment,{children:[_.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):i?"Send Message":"Login to Send"})]})]})]})})]})},$K=({setPage:i,user:e})=>_.jsxs("div",{className:"min-h-screen bg-slate-950 text-white overflow-x-hidden selection:bg-purple-500/30",children:[_.jsx(ZK,{setPage:i}),_.jsx(KK,{}),_.jsx(QK,{}),_.jsx(JK,{user:e,setPage:i})]}),eQ=({setPage:i,setUser:e})=>{const[t,n]=se.useState("login"),[s,r]=se.useState(!1),[o,c]=se.useState(""),[d,p]=se.useState(""),[m,g]=se.useState(!1),[y,b]=se.useState(!1),[S,E]=se.useState(!1),[A,M]=se.useState(""),[D,R]=se.useState(null),L=se.useRef(null);se.useEffect(()=>{S&&L.current&&L.current.focus()},[S]);const[z,U]=se.useState({email:"",password:"",full_name:"",otp:"",new_password:"",confirm_password:""});se.useEffect(()=>{c(""),t!=="reset"&&(p(""),U(H=>({...H,otp:""}))),U(H=>({...H,email:H.email,password:"",new_password:"",confirm_password:""})),(t==="login"||t==="signup")&&U({email:"",password:"",full_name:"",otp:"",new_password:"",confirm_password:""}),R(null)},[t]);const I=H=>{R({msg:H,type:"info"}),setTimeout(()=>R(null),3e3)},F=H=>{U({...z,[H.target.name]:H.target.value}),c("")},P=H=>{I(`Social login with ${H==="google"?"Google":"GitHub"} is disabled in 'Demo Mode'.`)},B=async H=>{H.preventDefault(),r(!0),c("");try{if(t==="login"){const Q=await Yt.post("/login",{email:z.email,password:z.password,secret_key:A||void 0});e(Q.data),Q.data.role==="admin"?i("admin"):i("home")}else if(t==="signup"){const Q=await Yt.post("/register",{email:z.email,password:z.password,full_name:z.full_name});p("Account created! Please sign in."),setTimeout(()=>{n("login"),p("")},2e3)}else if(t==="forgot"){const Q=await Yt.post("/auth/forgot-password",{email:z.email});p(Q.data.message),setTimeout(()=>{n("reset")},1e3)}else if(t==="reset"){if(z.new_password!==z.confirm_password)throw new Error("Passwords do not match");const Q=await Yt.post("/auth/reset-password",{email:z.email,otp:z.otp,new_password:z.new_password});p("Password reset successful! You can now login."),setTimeout(()=>{n("login")},2e3)}}catch(Q){console.error("Auth Error:",Q);const ie=Q.response?.data?.detail||Q.message||"An error occurred. Please try again.";ie==="REQUIRE_SECRET_KEY"?(E(!0),c(""),I("Admin access requires a security key.")):c(ie)}finally{r(!1)}};return _.jsxs("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-0 md:p-4 relative overflow-hidden font-sans",children:[_.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[_.jsx("div",{className:"absolute -top-[20%] -left-[10%] w-[70vw] h-[70vw] rounded-full bg-blue-900/20 blur-[120px] animate-blob mix-blend-screen"}),_.jsx("div",{className:"absolute top-[20%] -right-[10%] w-[60vw] h-[60vw] rounded-full bg-purple-900/20 blur-[120px] animate-blob animation-delay-2000 mix-blend-screen"}),_.jsx("div",{className:"absolute -bottom-[20%] left-[20%] w-[50vw] h-[50vw] rounded-full bg-indigo-900/20 blur-[120px] animate-blob animation-delay-4000 mix-blend-screen"})]}),_.jsx(wr,{children:D&&_.jsxs(In.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},className:"fixed top-8 left-1/2 transform -translate-x-1/2 z-50 flex items-center gap-4 px-6 py-4 bg-slate-900/90 backdrop-blur-xl border border-slate-700/50 text-white rounded-2xl shadow-2xl shadow-black/50 min-w-[320px]",children:[_.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg transform rotate-3",children:_.jsx("span",{className:"text-xl",children:""})}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h4",{className:"text-sm font-bold text-gray-200",children:"Feature Locked"}),_.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:D.msg})]}),_.jsx("button",{onClick:()=>R(null),className:"text-gray-500 hover:text-white transition-colors",children:_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),_.jsxs("div",{className:"w-full h-full md:h-auto md:max-w-5xl bg-slate-900/80 md:bg-slate-900/60 backdrop-blur-2xl border-0 md:border md:border-slate-700/50 md:rounded-3xl shadow-2xl relative z-10 overflow-hidden flex flex-col md:flex-row md:min-h-[650px]",children:[_.jsxs("div",{className:"hidden md:flex w-[55%] relative flex-col justify-between p-16 overflow-hidden bg-gradient-to-br from-slate-900 to-slate-950 border-r border-slate-800/50",children:[_.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150 mix-blend-overlay"}),_.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-50",children:_.jsx("svg",{className:"w-64 h-64 text-slate-800/50",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zm0 9l2.5-1.25L12 8.5l-2.5 1.25L12 11zm0 2.5l-5-2.5-5 2.5L12 22l10-8.5-5-2.5-5 2.5z"})})}),_.jsxs("div",{className:"relative z-10",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[_.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:_.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),_.jsx("span",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-200 to-indigo-200 tracking-tight",children:"LaunchPad AI"})]}),_.jsxs("h2",{className:"text-5xl font-extrabold text-white mb-6 leading-[1.15] tracking-tight",children:["Master Your ",_.jsx("br",{}),_.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-indigo-400 to-purple-400 animate-gradient-x",children:"Dream Career"})]}),_.jsx("p",{className:"text-slate-400 text-lg leading-relaxed mb-10 max-w-sm font-light",children:"The all-in-one platform for developers to prep, practice, and perform."}),_.jsx("div",{className:"space-y-5",children:[{title:"AI Resume Analysis",desc:"Get instant feedback on your CV"},{title:"Technical Mock Quizzes",desc:"Practice real-world interview/coding questions"},{title:"ATS Score Optimization",desc:"Beat the automated screening bots"}].map((H,Q)=>_.jsxs("div",{className:"flex items-start gap-4 group cursor-default",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-800/50 border border-slate-700 flex items-center justify-center mt-1 group-hover:border-blue-500/50 group-hover:bg-blue-500/10 transition-colors",children:_.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-slate-200 font-semibold text-base group-hover:text-blue-200 transition-colors",children:H.title}),_.jsx("p",{className:"text-slate-500 text-sm group-hover:text-slate-400 transition-colors",children:H.desc})]})]},Q))})]}),_.jsxs("div",{className:"relative z-10 mt-12 flex items-center gap-2 text-slate-500 text-xs font-medium uppercase tracking-widest",children:[_.jsx("span",{className:"w-8 h-[1px] bg-slate-700"}),"Trusted by devlopers"]})]}),_.jsx("div",{className:"w-full md:w-[45%] p-8 md:p-12 flex flex-col justify-center bg-transparent md:bg-slate-950/30 relative",children:_.jsxs("div",{className:"max-w-sm mx-auto w-full relative z-10",children:[_.jsxs("div",{className:"md:hidden text-center mb-10 mt-4",children:[_.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl mx-auto mb-4 flex items-center justify-center shadow-xl shadow-blue-500/20",children:_.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),_.jsx("h2",{className:"text-3xl font-bold text-white tracking-tight",children:"LaunchPad AI"}),_.jsx("p",{className:"text-slate-400 mt-2 text-sm",children:"Your personal career copilot."})]}),_.jsxs("div",{className:"text-center mb-8",children:[_.jsx("h3",{className:"text-2xl font-bold text-white",children:t==="forgot"?"Reset Password":t==="reset"?"Set New Password":t==="login"?"Sign In":"Create Account"}),_.jsx("p",{className:"text-slate-400 text-sm mt-2",children:t==="forgot"||t==="reset"?_.jsxs("button",{onClick:()=>n("login"),className:"text-blue-400 hover:text-blue-300 font-semibold transition-colors flex items-center justify-center gap-1 mx-auto",children:[_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Sign In"]}):_.jsxs(_.Fragment,{children:[t==="login"?"Don't have an account? ":"Already have an account? ",_.jsx("button",{onClick:()=>{n(t==="login"?"signup":"login"),c("")},className:"text-blue-400 hover:text-blue-300 font-semibold transition-colors",children:t==="login"?"Sign up":"Log in"})]})})]}),o&&_.jsx("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl text-red-200 text-sm text-center animate-shake",children:o}),d&&_.jsxs("div",{className:"mb-6 p-4 bg-green-500/10 border border-green-500/20 rounded-xl text-green-200 text-sm text-center",children:[_.jsx("p",{className:"font-bold mb-1",children:d}),t==="reset"&&_.jsx("p",{className:"text-xs text-green-400/70 mt-1",children:"(Note: Real email delivery will be enabled in a future update. Please use the demo code above.)"})]}),t!=="forgot"&&t!=="reset"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[_.jsxs("button",{onClick:()=>P("google"),className:"flex items-center justify-center gap-2 py-2.5 px-4 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-xl text-white transition-all text-sm font-medium group",children:[_.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",viewBox:"0 0 24 24",fill:"currentColor",children:_.jsx("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})}),"Google"]}),_.jsxs("button",{onClick:()=>P("github"),className:"flex items-center justify-center gap-2 py-2.5 px-4 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-xl text-white transition-all text-sm font-medium group",children:[_.jsx("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",viewBox:"0 0 24 24",fill:"currentColor",children:_.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})}),"GitHub"]})]}),_.jsxs("div",{className:"relative mb-6",children:[_.jsx("div",{className:"absolute inset-0 flex items-center",children:_.jsx("div",{className:"w-full border-t border-slate-800"})}),_.jsx("div",{className:"relative flex justify-center text-sm",children:_.jsx("span",{className:"px-2 bg-slate-900 text-slate-500",children:"Or continue with email"})})]})]}),_.jsx("form",{onSubmit:B,className:"space-y-4",autoComplete:"off",children:S?_.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[_.jsxs("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/30 rounded-xl flex items-center gap-3",children:[_.jsx("div",{className:"p-2 bg-yellow-500/20 rounded-lg",children:_.jsx("svg",{className:"w-6 h-6 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-yellow-200 font-bold text-sm",children:"Admin Verification"}),_.jsx("p",{className:"text-yellow-400/70 text-xs",children:"Enter your 6-digit secure passkey."})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-sm font-medium text-slate-300 ml-1",children:"Secret Key"}),_.jsx("input",{ref:L,value:A,onChange:H=>M(H.target.value),required:!0,type:"password",className:"w-full bg-slate-900 border border-slate-700 rounded-xl px-4 py-3 text-white focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500 outline-none transition-all placeholder:text-slate-600 tracking-[0.5em] text-center font-mono text-lg",placeholder:"",maxLength:6})]}),_.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-yellow-600 to-orange-600 hover:from-yellow-500 hover:to-orange-500 text-white font-bold py-3.5 rounded-xl transition-all shadow-lg shadow-yellow-500/25 mt-2 flex items-center justify-center gap-2",children:s?"Verifying...":"Authenticate Admin"}),_.jsx("button",{type:"button",onClick:()=>{E(!1),c("")},className:"w-full text-slate-400 hover:text-white text-sm py-2 transition-colors",children:"Cancel"})]}):_.jsxs(_.Fragment,{children:[t==="signup"&&_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-sm font-medium text-slate-300 ml-1",children:"Full Name"}),_.jsx("input",{name:"full_name",value:z.full_name,onChange:F,required:!0,type:"text",className:"w-full bg-slate-900 border border-slate-700 rounded-xl px-4 py-3 text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all placeholder:text-slate-600",placeholder:"John Doe"})]}),t==="reset"&&_.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[d&&d.includes("DEMO MODE")&&_.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl overflow-hidden mb-6",children:[_.jsx("div",{className:"bg-slate-900 px-4 py-2 border-b border-slate-700 flex justify-between items-center",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),_.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),_.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),_.jsx("span",{className:"ml-2 text-xs text-slate-400 font-mono",children:"Mock Email Inbox"})]})}),_.jsxs("div",{className:"p-4",children:[_.jsxs("p",{className:"text-slate-400 text-xs mb-1",children:["From: ",_.jsx("span",{className:"text-blue-400",children:"auth@launchpad.com"})]}),_.jsx("p",{className:"text-slate-400 text-xs mb-3",children:"Subject: Password Reset OTP"}),_.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900 rounded-lg border border-slate-700/50",children:[_.jsx("span",{className:"text-xl font-mono text-white tracking-widest font-bold",children:d.match(/(\d{6})/)?d.match(/(\d{6})/)[0]:"------"}),_.jsx("button",{type:"button",onClick:()=>{const H=d.match(/(\d{6})/)?d.match(/(\d{6})/)[0]:"";H&&(navigator.clipboard.writeText(H),I("OTP Copied!"),U({...z,otp:H}))},className:"text-xs bg-blue-600 hover:bg-blue-500 text-white px-3 py-1.5 rounded-lg transition-colors font-semibold",children:"Copy & Fill"})]})]})]}),_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-sm font-medium text-slate-300 ml-1",children:"OTP Code"}),_.jsx("input",{name:"otp",value:z.otp,onChange:F,required:!0,type:"text",className:"w-full bg-slate-900 border border-slate-700 rounded-xl px-4 py-3 text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all placeholder:text-slate-600 text-center tracking-widest font-mono",placeholder:"123456",maxLength:6})]}),_.jsxs("div",{className:"space-y-1 relative",children:[_.jsx("label",{className:"text-sm font-medium text-slate-300 ml-1",children:"New Password"}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{name:"new_password",value:z.new_password,onChange:F,required:!0,type:y?"text":"password",autoComplete:"new-password",className:"w-full bg-slate-900 border border-slate-700 rounded-xl px-4 py-3 text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all placeholder:text-slate-600 pr-10",placeholder:""}),_.jsx("button",{type:"button",onClick:()=>b(!y),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white transition-colors",children:y?_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):_.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),_.jsxs("div",{className:"space-y-1 relative",children:[_.jsx("label",{className:"text-sm font-medium text-slate-300 ml-1",children:"Confirm New Password"}),_.jsx("div",{className:"relative",children:_.jsx("input",{name:"confirm_password",value:z.confirm_password,onChange:F,required:!0,type:y?"text":"password",autoComplete:"new-password",className:`w-full bg-slate-900 border rounded-xl px-4 py-3 text-white focus:ring-1 outline-none transition-all placeholder:text-slate-600 pr-10 ${z.confirm_password&&z.new_password!==z.confirm_password?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-slate-700 focus:border-blue-500 focus:ring-blue-500"}`,placeholder:""})}),z.confirm_password&&z.new_password!==z.confirm_password&&_.jsxs("p",{className:"text-red-400 text-xs mt-1 ml-1 flex items-center gap-1",children:[_.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Passwords do not match"]}),z.confirm_password&&z.new_password===z.confirm_password&&_.jsxs("p",{className:"text-green-400 text-xs mt-1 ml-1 flex items-center gap-1",children:[_.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Passwords match"]})]})]}),(t==="login"||t==="signup"||t==="forgot")&&_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-sm font-medium text-slate-300 ml-1",children:"Email Address"}),_.jsx("input",{name:"email",value:z.email,onChange:F,required:!0,type:"email",autoComplete:"email",className:"w-full bg-slate-900 border border-slate-700 rounded-xl px-4 py-3 text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all placeholder:text-slate-600",placeholder:"john@company.com"})]}),t!=="forgot"&&t!=="reset"&&_.jsxs("div",{className:"space-y-1",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("label",{className:"text-sm font-medium text-slate-300 ml-1",children:"Password"}),t==="login"&&_.jsx("button",{type:"button",onClick:()=>n("forgot"),className:"text-xs text-blue-400 hover:text-blue-300 transition-colors",children:"Forgot?"})]}),_.jsxs("div",{className:"relative",children:[_.jsx("input",{name:"password",value:z.password,onChange:F,required:!0,type:m?"text":"password",autoComplete:"current-password",className:"w-full bg-slate-900 border border-slate-700 rounded-xl px-4 py-3 text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all placeholder:text-slate-600 pr-10",placeholder:""}),_.jsx("button",{type:"button",onClick:()=>g(!m),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white transition-colors",children:m?_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):_.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),_.jsxs("button",{disabled:s,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white font-bold py-3.5 rounded-xl transition-all shadow-lg shadow-blue-500/25 mt-2 flex items-center justify-center gap-2",children:[s&&_.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s?"Processing...":t==="forgot"?"Send Reset Link":t==="reset"?"Set New Password":t==="login"?"Sign In":"Create Account"]})]})})]})})]}),_.jsxs("button",{onClick:()=>i("home"),className:"absolute top-8 left-8 text-slate-400 hover:text-white flex items-center gap-2 transition-colors z-20",children:[_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]})]})},tQ=({user:i,setPage:e,setUser:t})=>{const[n,s]=se.useState({total_users:0,active_users:0,total_resumes:0}),[r,o]=se.useState([]),[c,d]=se.useState([]),[p,m]=se.useState([]),[g,y]=se.useState({resume_uploads:0,ats_checks:0,interviews_attended:0,recent_activities:[]}),[b,S]=se.useState(!0),[E,A]=se.useState("overview"),[M,D]=se.useState(""),[R,L]=se.useState(!1),[z,U]=se.useState(null),[I,F]=se.useState({title:"",company:"",location:"",description:"",skills_required:"",contract_type:"full_time",url:"",date_posted:""}),[P,B]=se.useState({open:!1,id:null,name:""}),[H,Q]=se.useState({open:!1,id:null,name:""}),[ie,ue]=se.useState(!1),[fe,V]=se.useState({open:!1,id:null}),[X,K]=se.useState({open:!1,id:null,title:""}),[ce,Y]=se.useState([]),[W,ae]=se.useState([]),[he,ye]=se.useState(""),[Pe,pe]=se.useState({open:!1,msgId:null,userEmail:null,userName:null}),[_e,We]=se.useState({subject:"",content:""}),[tt,pt]=se.useState("");se.useEffect(()=>{if(!i||i.role!=="admin"){e("home");return}vt();const ee=setInterval(vt,5e3);return()=>clearInterval(ee)},[i]);const vt=async()=>{try{const[ee,Ae,je,mt,ut,ot,Dt]=await Promise.all([Yt.get("/admin/stats"),Yt.get("/admin/users"),Yt.get("/admin/users/deleted"),Yt.get("/admin/jobs"),Yt.get("/admin/logs"),Yt.get("/admin/messages"),Yt.get("/admin/analytics")]),ne=Ze=>{if(!Ze)return"Never";const He=Ze.endsWith("Z")?Ze:`${Ze}Z`;return new Date(He).toLocaleString("en-IN",{timeZone:"Asia/Kolkata",month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})},st=Ze=>Ze.map(Ie=>({...Ie,is_online:Ie.last_active&&new Date-new Date(Ie.last_active.endsWith("Z")?Ie.last_active:Ie.last_active+"Z")<6e4})).sort((Ie,xt)=>Ie.is_online===xt.is_online?new Date(xt.last_active||0)-new Date(Ie.last_active||0):Ie.is_online?-1:1);s(ee.data),o(st(Ae.data));const Je=[...je.data].sort((Ze,He)=>new Date(He.deleted_at||0)-new Date(Ze.deleted_at||0));return d(Je),m(mt.data),Y(ut.data),ae(ot.data),y(Dt.data),{formatDate:ne}}catch(ee){console.error("Admin Fetch Error",ee)}finally{S(!1)}},Gt=async()=>{if(window.confirm("WARNING: This will delete ALL Analytics data (uploads, interviews, scans). This cannot be undone."))try{await Yt.delete("/admin/analytics"),alert("Analytics data reset successfully."),vt()}catch(ee){console.error(ee),alert("Failed to reset data.")}},et=ee=>{if(!ee)return"Never";const Ae=ee.endsWith("Z")?ee:`${ee}Z`;return new Date(Ae).toLocaleString("en-IN",{timeZone:"Asia/Kolkata",month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})},Ce=(ee,Ae="success")=>{D({msg:ee,type:Ae}),setTimeout(()=>D(""),3e3)},J=async ee=>{ee.preventDefault();try{z?(await Yt.put(`/admin/jobs/${z}`,I),Ce("Job updated successfully."),U(null)):(await Yt.post("/admin/jobs",I),Ce("Job posted successfully.")),L(!1),F({title:"",company:"",location:"",description:"",skills_required:"",contract_type:"full_time",url:"",date_posted:""}),vt()}catch(Ae){console.error(Ae);const je=Ae.response?.data?.detail||"Failed to save job.";Ce(je,"error")}},Ve=async()=>{if(X.id)try{await Yt.delete(`/admin/jobs/${X.id}`),Ce("Job deleted successfully."),vt(),K({open:!1,id:null,title:""})}catch(ee){console.error(ee),Ce("Failed to delete job.","error")}},[re,Qe]=se.useState(""),[Xe,at]=se.useState(""),Ye=async()=>{if(!re.trim()){at("Reason is compulsory!"),setTimeout(()=>at(""),2e3);return}try{await Yt.post(`/admin/users/${P.id}/delete`,{reason:re}),Ce("User deleted."),B({open:!1,id:null,name:""}),Qe(""),vt()}catch(ee){console.error(ee),Ce("Failed to delete user.","error")}},ct=async ee=>{try{await Yt.post(`/admin/users/${ee}/restore`),Ce("User restored."),vt()}catch(Ae){console.error(Ae),Ce("Failed to restore user.","error")}},$=async()=>{if(H.id)try{await Yt.delete(`/admin/users/${H.id}/permanent`),Ce("User PERMANENTLY deleted."),Q({open:!1,id:null,name:""}),vt()}catch(ee){console.error(ee),Ce("Failed to delete user permanently.","error")}},k=async()=>{ue(!1);try{await Yt.delete("/admin/logs"),Ce("Logs cleared."),vt()}catch(ee){console.error(ee),Ce("Failed to clear logs.","error")}},xe=ee=>{V({open:!0,id:ee})},Ue=async()=>{if(fe.id)try{await Yt.delete(`/admin/messages/${fe.id}`),Ce("Message deleted."),ae(W.filter(ee=>ee.id!==fe.id)),V({open:!1,id:null})}catch(ee){console.error(ee),Ce("Failed to delete message.","error")}},Be=ee=>{pe({open:!0,msgId:ee.id,userEmail:ee.user_email,userName:ee.user_name}),We({subject:`Re: Inquiry from ${ee.user_name}`,content:`Hi ${ee.user_name},

Thank you for reaching out.

Best regards,
CareerLaunchpad Team`}),pt("")},Re=async ee=>{ee.preventDefault(),pt("sending");try{const Ae=await Yt.post("/admin/reply",{user_email:Pe.userEmail,subject:_e.subject,content:_e.content,original_message_id:Pe.msgId});Ae.data.message&&(Ae.data.message.includes("Mocked")||Ae.data.message.includes("requires SMTP"))?(Ce("Opening Gmail...","warning"),setTimeout(()=>{const je=`https://mail.google.com/mail/?view=cm&fs=1&to=${encodeURIComponent(Pe.userEmail)}&su=${encodeURIComponent(_e.subject)}&body=${encodeURIComponent(_e.content)}`;window.open(je,"_blank")},500)):Ce(`Reply sent to ${Pe.userEmail}`),pe({open:!1,msgId:null,userEmail:null,userName:null}),vt()}catch(Ae){console.error(Ae),pt("error"),Ce("Email failed. Opening Gmail...","warning"),setTimeout(()=>{const je=`https://mail.google.com/mail/?view=cm&fs=1&to=${encodeURIComponent(Pe.userEmail)}&su=${encodeURIComponent(_e.subject)}&body=${encodeURIComponent(_e.content)}`;window.open(je,"_blank")},1e3)}},ft=r.filter(ee=>ee.role!=="admin"&&(ee.email.toLowerCase().includes(he.toLowerCase())||ee.full_name?.toLowerCase().includes(he.toLowerCase()))),nt=W.filter(ee=>!ee.is_replied).sort((ee,Ae)=>new Date(Ae.timestamp)-new Date(ee.timestamp)),wt=W.filter(ee=>ee.is_replied).sort((ee,Ae)=>new Date(Ae.timestamp)-new Date(ee.timestamp));return b?_.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center text-white",children:_.jsxs("svg",{className:"animate-spin h-10 w-10 text-blue-500",fill:"none",viewBox:"0 0 24 24",children:[_.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),_.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):_.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-50 font-sans selection:bg-blue-500/30 relative pb-20 md:pb-0",children:[_.jsx(wr,{children:M&&_.jsxs(In.div,{initial:{opacity:0,y:50,x:"-50%"},animate:{opacity:1,y:0,x:"-50%"},exit:{opacity:0,y:50,x:"-50%"},className:`fixed bottom-8 left-1/2 transform -translate-x-1/2 border px-6 py-4 rounded-xl shadow-2xl z-[100] flex items-center gap-3 ${M.type==="error"?"bg-red-900/90 border-red-500/50 text-white":M.type==="warning"?"bg-yellow-900/90 border-yellow-500/50 text-white":"bg-slate-800/90 border-slate-600/50 text-white"}`,children:[_.jsx("span",{className:`text-xl ${M.type==="error"?"text-red-400":M.type==="warning"?"text-yellow-400":"text-green-400"}`,children:M.type==="error"?"":M.type==="warning"?"!":""}),_.jsx("span",{className:"font-medium text-sm md:text-base whitespace-nowrap",children:M.msg||M})]})}),_.jsx(wr,{children:H.open&&_.jsx(In.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/90 backdrop-blur-sm",onClick:()=>Q({open:!1,id:null,name:""}),children:_.jsxs(In.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"bg-slate-900 border border-red-500/40 p-8 rounded-3xl shadow-2xl max-w-md w-full relative overflow-hidden ring-4 ring-red-500/10",onClick:ee=>ee.stopPropagation(),children:[_.jsx("div",{className:"w-16 h-16 bg-red-600/20 rounded-full flex items-center justify-center mx-auto mb-6 ring-1 ring-red-500/40 animate-pulse",children:_.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),_.jsx("h3",{className:"text-2xl font-bold text-white mb-2 text-center",children:"Permanently Delete?"}),_.jsxs("p",{className:"text-slate-400 text-center mb-6",children:["User ",_.jsx("span",{className:"text-red-400 font-bold",children:H.name})," will be wiped from the database. ",_.jsx("br",{}),"This action is ",_.jsx("span",{className:"text-red-400 font-bold underline",children:"IRREVERSIBLE"}),"."]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>Q({open:!1,id:null,name:""}),className:"flex-1 py-3.5 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-xl text-sm font-medium transition-colors",children:"Cancel"}),_.jsx("button",{onClick:$,className:"flex-1 py-3.5 bg-red-600 hover:bg-red-500 text-white rounded-xl text-sm font-bold shadow-lg shadow-red-900/40 transition-all",children:"YES, DELETE FOREVER"})]})]})})}),_.jsx(wr,{children:ie&&_.jsx(In.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/90 backdrop-blur-sm",onClick:()=>ue(!1),children:_.jsxs(In.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"bg-slate-900 border border-slate-700/50 p-6 md:p-8 rounded-2xl max-w-sm w-full shadow-2xl relative",onClick:ee=>ee.stopPropagation(),children:[_.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mb-6 mx-auto ring-1 ring-red-500/20",children:_.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),_.jsx("h3",{className:"text-xl font-bold text-white mb-2 text-center",children:"Clear System Logs?"}),_.jsxs("p",{className:"text-slate-400 text-sm mb-8 text-center leading-relaxed",children:["This will permanently delete all logs history.",_.jsx("br",{}),"This action cannot be undone."]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("button",{onClick:()=>ue(!1),className:"flex-1 py-3 bg-slate-800 hover:bg-slate-700 rounded-xl text-slate-300 text-sm font-medium transition-colors",children:"Cancel"}),_.jsx("button",{onClick:k,className:"flex-1 py-3 bg-red-600 hover:bg-red-500 text-white rounded-xl text-sm font-bold shadow-lg shadow-red-900/20 transition-all",children:"Yes, Clear All"})]})]})})}),_.jsx("div",{className:"bg-slate-900 border-b border-slate-800 p-4 sticky top-0 z-40 supports-backdrop-blur:bg-slate-900/80 backdrop-blur-md",children:_.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("img",{src:"/admin-logo.png",alt:"Logo",className:"w-8 h-8 rounded-lg bg-slate-800"}),_.jsxs("h1",{className:"text-lg font-bold text-white tracking-tight",children:["Admin ",_.jsx("span",{className:"text-blue-500",children:"Panel"})]})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-slate-800 rounded-full border border-slate-700",children:[_.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),_.jsx("span",{className:"text-[10px] font-bold text-slate-300 uppercase tracking-wider",children:"Online"})]}),_.jsx("button",{onClick:()=>{localStorage.removeItem("user"),t(null),e("home")},className:"p-2 text-slate-400 hover:text-white bg-slate-800 rounded-lg md:hidden",children:_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),_.jsx("button",{onClick:()=>{localStorage.removeItem("user"),t(null),e("home")},className:"hidden md:block text-sm text-slate-400 hover:text-white transition-colors",children:"Log Out"})]})]})}),_.jsxs("main",{className:"max-w-7xl mx-auto p-4 md:p-8 space-y-6 md:space-y-8 animate-fade-in-up",children:[_.jsx("div",{className:"flex gap-2 md:gap-4 border-b border-slate-800 pb-1 overflow-x-auto no-scrollbar mask-linear",children:["overview","analytics","jobs","deleted_users","messages","logs"].map(ee=>_.jsx("button",{onClick:()=>A(ee),className:`px-3 py-2 text-xs md:text-sm font-bold uppercase tracking-wider transition-colors whitespace-nowrap flex-shrink-0 ${E===ee?"text-blue-400 border-b-2 border-blue-400":"text-slate-500 hover:text-white"}`,children:ee.replace("_"," ")},ee))}),E==="overview"&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[_.jsx(O3,{title:"Total Users",value:n.total_users,icon:_.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),color:"blue"}),_.jsx(O3,{title:"Active Now",value:n.active_users,icon:_.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5.636 18.364a9 9 0 010-12.728m12.728 0a9 9 0 010 12.728m-9.9-2.829a5 5 0 010-7.07m7.072 0a5 5 0 010 7.07M13 12a1 1 0 11-2 0 1 1 0 012 0z"})}),color:"green"}),_.jsx(O3,{title:"Active Jobs",value:p.length,icon:_.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),color:"purple"})]}),_.jsx(wr,{children:P.open&&_.jsx(In.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/90 backdrop-blur-sm",onClick:()=>B({open:!1,id:null,name:""}),children:_.jsxs(In.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",duration:.5},className:"bg-slate-900 border border-red-500/20 p-8 rounded-3xl shadow-2xl max-w-md w-full relative overflow-hidden",onClick:ee=>ee.stopPropagation(),children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-red-600 via-orange-500 to-red-600"}),_.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mx-auto mb-6 ring-1 ring-red-500/20",children:_.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),_.jsxs("div",{className:"text-center mb-6",children:[_.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Delete User?"}),_.jsxs("p",{className:"text-slate-400",children:["Are you sure you want to delete ",_.jsx("span",{className:"text-white font-bold",children:P.name}),"?"]})]}),_.jsxs("div",{className:"mb-8 relative",children:[_.jsx("label",{className:"block text-xs text-slate-500 uppercase font-bold tracking-wider mb-2 text-left",children:"Reason (Required)"}),_.jsx("textarea",{value:re,onChange:ee=>{Qe(ee.target.value),at("")},className:`w-full bg-slate-950 border ${Xe?"border-red-500":"border-slate-800"} rounded-2xl p-4 text-white text-sm focus:border-red-500 focus:ring-1 focus:ring-red-500 outline-none resize-none transition-all placeholder:text-slate-600`,rows:"3",placeholder:"e.g. Violation of terms...",autoFocus:!0}),Xe&&_.jsxs(In.span,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-xs text-red-500 absolute -bottom-6 left-0 flex items-center gap-1",children:[_.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),Xe]})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>B({open:!1,id:null,name:""}),className:"flex-1 py-3.5 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-xl text-sm font-medium transition-colors",children:"Cancel"}),_.jsx("button",{onClick:Ye,className:"flex-1 py-3.5 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-500 hover:to-red-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-red-900/20 transition-all",children:"Delete User"})]})]})})}),_.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden shadow-xl",children:[_.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-800 flex flex-col md:flex-row justify-between items-center gap-4 bg-slate-800/30",children:[_.jsx("h2",{className:"text-lg md:text-xl font-bold text-white",children:"User Management"}),_.jsxs("div",{className:"relative group w-full md:w-auto",children:[_.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:_.jsx("svg",{className:"h-4 w-4 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),_.jsx("input",{value:he,onChange:ee=>ye(ee.target.value),type:"text",placeholder:"Search users...",className:"block w-full md:w-64 pl-9 pr-3 py-2 border border-slate-700 rounded-xl leading-5 bg-slate-950 text-slate-300 text-sm focus:outline-none focus:border-blue-500 transition-all"})]})]}),_.jsx("div",{className:"hidden md:block overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[_.jsx("thead",{className:"bg-slate-950 text-slate-200 uppercase text-xs font-bold tracking-wider",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-4",children:"User"}),_.jsx("th",{className:"px-6 py-4",children:"Role"}),_.jsx("th",{className:"px-6 py-4",children:"Status"}),_.jsx("th",{className:"px-6 py-4",children:"Last Active"}),_.jsx("th",{className:"px-6 py-4",children:"Action"})]})}),_.jsx("tbody",{className:"divide-y divide-slate-800",children:ft.length>0?ft.map(ee=>_.jsxs("tr",{className:"hover:bg-slate-800/50 transition-colors",children:[_.jsx("td",{className:"px-6 py-4",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-white",children:ee.full_name?.charAt(0)||"U"}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium text-white",children:ee.full_name}),_.jsx("p",{className:"text-xs text-slate-500",children:ee.email})]})]})}),_.jsx("td",{className:"px-6 py-4",children:_.jsx("span",{className:"px-2 py-1 rounded bg-slate-700/50 text-slate-300 border border-slate-600/50 text-xs font-bold uppercase",children:"User"})}),_.jsx("td",{className:"px-6 py-4",children:ee.is_online?_.jsxs("span",{className:"inline-flex items-center gap-1.5 text-green-400 font-medium",children:[_.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),"Online"]}):_.jsxs("span",{className:"inline-flex items-center gap-1.5 text-slate-500",children:[_.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-500"}),"Offline"]})}),_.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:et(ee.last_active)}),_.jsx("td",{className:"px-6 py-4",children:_.jsx("button",{onClick:()=>B({open:!0,id:ee.id,name:ee.full_name}),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Delete",children:_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},ee.id)):_.jsx("tr",{children:_.jsx("td",{colSpan:"5",className:"px-6 py-8 text-center text-slate-500",children:"No users found"})})})]})}),_.jsx("div",{className:"md:hidden space-y-2 p-3",children:ft.length>0?ft.map(ee=>_.jsxs("div",{className:"bg-slate-950 p-4 rounded-xl border border-slate-800 flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-sm font-bold text-white",children:ee.full_name?.charAt(0)||"U"}),ee.is_online&&_.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-slate-950 rounded-full"})]}),_.jsxs("div",{children:[_.jsx("p",{className:"font-bold text-white text-sm",children:ee.full_name}),_.jsx("p",{className:"text-xs text-slate-500",children:ee.email}),_.jsx("p",{className:"text-[10px] text-slate-600 mt-0.5",children:ee.last_active?new Date(ee.last_active).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Never Active"})]})]}),_.jsx("button",{onClick:()=>B({open:!0,id:ee.id,name:ee.full_name}),className:"p-2 bg-slate-800 text-red-400 rounded-lg",children:_.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},ee.id)):_.jsx("div",{className:"text-center p-6 text-slate-500",children:"No users found"})})]})]}),E==="analytics"&&g&&_.jsxs("div",{className:"space-y-8",children:[_.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Detailed Analytics"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 flex flex-col items-center justify-center relative overlow-hidden",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-blue-500"}),_.jsxs("div",{className:"relative w-32 h-32 md:w-40 md:h-40 mb-4",children:[_.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[_.jsx("circle",{className:"text-slate-800",strokeWidth:"10",stroke:"currentColor",fill:"transparent",r:"56",cx:"50%",cy:"50%"}),_.jsx("circle",{className:"text-blue-500 transition-all duration-1000 ease-out",strokeWidth:"10",strokeDasharray:351,strokeDashoffset:351-351*Math.min(g.resume_uploads,100)/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"56",cx:"50%",cy:"50%"})]}),_.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center",children:[_.jsx("span",{className:"text-3xl font-bold text-white block",children:g.resume_uploads}),_.jsx("span",{className:"text-[10px] text-slate-400 uppercase tracking-widest",children:"Uploads"})]})]}),_.jsx("p",{className:"text-sm text-slate-400 text-center",children:"Resumes Uploaded (Job Search)"})]}),_.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 flex flex-col items-center justify-center relative overlow-hidden",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-purple-500"}),_.jsxs("div",{className:"relative w-32 h-32 md:w-40 md:h-40 mb-4",children:[_.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[_.jsx("circle",{className:"text-slate-800",strokeWidth:"10",stroke:"currentColor",fill:"transparent",r:"56",cx:"50%",cy:"50%"}),_.jsx("circle",{className:"text-purple-500 transition-all duration-1000 ease-out",strokeWidth:"10",strokeDasharray:351,strokeDashoffset:351-351*Math.min(g.ats_checks,100)/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"56",cx:"50%",cy:"50%"})]}),_.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center",children:[_.jsx("span",{className:"text-3xl font-bold text-white block",children:g.ats_checks}),_.jsx("span",{className:"text-[10px] text-slate-400 uppercase tracking-widest",children:"Scans"})]})]}),_.jsx("p",{className:"text-sm text-slate-400 text-center",children:"ATS Checks Performed"})]}),_.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-6 flex flex-col items-center justify-center relative overlow-hidden",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-green-500"}),_.jsxs("div",{className:"relative w-32 h-32 md:w-40 md:h-40 mb-4",children:[_.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[_.jsx("circle",{className:"text-slate-800",strokeWidth:"10",stroke:"currentColor",fill:"transparent",r:"56",cx:"50%",cy:"50%"}),_.jsx("circle",{className:"text-green-500 transition-all duration-1000 ease-out",strokeWidth:"10",strokeDasharray:351,strokeDashoffset:351-351*Math.min(g.interviews_attended,100)/100,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"56",cx:"50%",cy:"50%"})]}),_.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center",children:[_.jsx("span",{className:"text-3xl font-bold text-white block",children:g.interviews_attended}),_.jsx("span",{className:"text-[10px] text-slate-400 uppercase tracking-widest",children:"Interviews"})]})]}),_.jsx("p",{className:"text-sm text-slate-400 text-center",children:"Mock Interviews Completed"})]})]}),_.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden shadow-xl p-6",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-6",children:"Daily User Activity (Last 7 Days)"}),_.jsx("div",{className:"h-64 flex items-end justify-between gap-2 px-4 pb-4 border-b border-l border-slate-700/50 relative",children:g.daily_stats&&g.daily_stats.length>0?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"absolute inset-0 pointer-events-none flex flex-col justify-between opacity-10",children:[...Array(5)].map((ee,Ae)=>_.jsx("div",{className:"w-full h-px bg-white"},Ae))}),g.daily_stats.map((ee,Ae)=>{const je=Math.max(...g.daily_stats.map(ut=>ut.users),10),mt=ee.users/je*100;return _.jsxs("div",{className:"flex flex-col items-center gap-2 group w-full",children:[_.jsx("div",{className:"relative w-full flex justify-center h-full items-end",children:_.jsx("div",{className:"w-full max-w-[40px] bg-gradient-to-t from-blue-600 to-cyan-400 rounded-t-lg transition-all duration-1000 ease-out hover:opacity-80 relative",style:{height:`${Math.max(mt,2)}%`},children:_.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-slate-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100 transition-opacity",children:ee.users})})}),_.jsx("span",{className:"text-[10px] text-slate-500 font-mono rotate-0 whitespace-nowrap",children:new Date(ee.date).toLocaleDateString(void 0,{weekday:"short"})})]},Ae)})]}):_.jsx("p",{className:"w-full text-center text-slate-500 self-center",children:"No daily data available"})})]}),_.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden shadow-xl",children:[_.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-800 bg-slate-800/30 flex justify-between items-center",children:[_.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[_.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Resume Uploads & Files"]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:Gt,className:"text-xs text-red-500 hover:text-red-400 bg-red-500/10 px-2 py-1 rounded border border-red-500/20 transition-colors",children:"Reset Data"}),_.jsx("button",{onClick:vt,className:"text-xs text-blue-400 hover:text-white transition-colors",children:"Refresh"})]})]}),_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[_.jsx("thead",{className:"bg-slate-950 text-slate-200 uppercase text-xs font-bold tracking-wider",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-4 w-1/4",children:"User Name"}),_.jsx("th",{className:"px-6 py-4",children:"Files / History"})]})}),_.jsx("tbody",{className:"divide-y divide-slate-800",children:g.resume_details&&g.resume_details.length>0?Object.entries(g.resume_details.reduce((ee,Ae)=>((ee[Ae.user_name]=ee[Ae.user_name]||[]).push(Ae),ee),{})).map(([ee,Ae],je)=>_.jsxs("tr",{className:"hover:bg-slate-800/20 transition-colors",children:[_.jsx("td",{className:"px-6 py-4 font-bold text-white align-top border-r border-slate-800/50 bg-slate-900/50",children:_.jsxs("div",{className:"sticky top-0",children:[ee,Ae[0].user_email&&_.jsx("span",{className:"block text-[11px] text-blue-400 font-normal mt-0.5 mb-1",children:Ae[0].user_email}),_.jsxs("span",{className:"block text-[10px] text-slate-500 font-normal mt-1",children:[Ae.length," Uploads"]})]})}),_.jsx("td",{className:"p-0",children:_.jsx("table",{className:"w-full",children:_.jsx("tbody",{children:Ae.map((mt,ut)=>_.jsxs("tr",{className:ut!==Ae.length-1?"border-b border-slate-800/30":"",children:[_.jsx("td",{className:"px-6 py-3 w-1/3",children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("svg",{className:"w-4 h-4 text-red-400 shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),_.jsx("span",{className:"text-slate-300 text-sm truncate max-w-[200px]",title:mt.filename,children:mt.filename})]})}),_.jsx("td",{className:"px-6 py-3 w-1/4 text-xs font-mono text-slate-500 whitespace-nowrap",children:et(mt.date)}),_.jsx("td",{className:"px-6 py-3 text-right",children:mt.saved_path?_.jsx("a",{href:`/uploads/${mt.saved_path}`,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-600/10 hover:bg-blue-600 text-blue-400 hover:text-white border border-blue-500/50 rounded-md text-xs font-bold transition-all uppercase inline-flex items-center gap-1",children:"View"}):_.jsx("span",{className:"text-slate-600 text-xs italic",children:"N/A"})})]},ut))})})})]},je)):_.jsx("tr",{children:_.jsx("td",{colSpan:"2",className:"text-center py-8 text-slate-500",children:"No resumes uploaded recently."})})})]})})]})]}),E==="jobs"&&_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("div",{children:_.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white",children:"Job Management"})}),_.jsx("button",{onClick:()=>{R?(U(null),F({title:"",company:"",location:"",description:"",skills_required:"",contract_type:"full_time",url:"",date_posted:""}),L(!1)):(U(null),F({title:"",company:"",location:"",description:"",skills_required:"",contract_type:"full_time",url:"",date_posted:""}),L(!0))},className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-lg text-sm transition-colors flex items-center gap-2",children:R?z?"Cancel Edit":"Cancel":"+ New Job"})]}),_.jsx(wr,{children:R&&_.jsxs(In.form,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},onSubmit:J,className:"bg-slate-900 border border-slate-800 p-4 md:p-6 rounded-xl space-y-4 overflow-hidden",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:z?"Edit Job":"Create New Job"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsx("input",{value:I.title,onChange:ee=>F({...I,title:ee.target.value}),placeholder:"Job Title *",required:!0,className:"bg-slate-950 border border-slate-700 rounded-lg px-4 py-2 text-white w-full"}),_.jsx("input",{value:I.company,onChange:ee=>F({...I,company:ee.target.value}),placeholder:"Company *",required:!0,className:"bg-slate-950 border border-slate-700 rounded-lg px-4 py-2 text-white w-full"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsx("input",{value:I.location,onChange:ee=>F({...I,location:ee.target.value}),placeholder:"Location *",required:!0,className:"bg-slate-950 border border-slate-700 rounded-lg px-4 py-2 text-white w-full"}),_.jsxs("select",{value:I.contract_type,onChange:ee=>F({...I,contract_type:ee.target.value}),className:"bg-slate-950 border border-slate-700 rounded-lg px-4 py-2 text-white w-full",children:[_.jsx("option",{value:"full_time",children:"Full Time"}),_.jsx("option",{value:"internship",children:"Internship"})]})]}),_.jsx("textarea",{value:I.description,onChange:ee=>F({...I,description:ee.target.value}),placeholder:"Job Description *",required:!0,className:"bg-slate-950 border border-slate-700 rounded-lg px-4 py-2 text-white w-full h-24"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsx("input",{value:I.skills_required,onChange:ee=>F({...I,skills_required:ee.target.value}),placeholder:"Skills (comma separated)",className:"bg-slate-950 border border-slate-700 rounded-lg px-4 py-2 text-white w-full"}),_.jsx("input",{value:I.url,onChange:ee=>F({...I,url:ee.target.value}),placeholder:"Application URL (Required) *",required:!0,className:"bg-slate-950 border border-slate-700 rounded-lg px-4 py-2 text-white w-full"})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.jsxs("div",{className:"flex flex-col",children:[_.jsx("label",{className:"text-xs text-gray-400 mb-1 ml-1",children:"Date Posted (Visible From)"}),_.jsx("input",{type:"date",value:I.date_posted?I.date_posted.split("T")[0]:new Date().toISOString().split("T")[0],min:new Date().toISOString().split("T")[0],onChange:ee=>F({...I,date_posted:ee.target.value}),className:"bg-slate-950 border border-slate-700 rounded-lg px-4 py-2 text-white w-full"})]})}),_.jsx("button",{type:"submit",className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-2 rounded-lg",children:z?"Update Job":"Publish Job"})]})}),_.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[p.map(ee=>_.jsxs("div",{className:"bg-slate-900 border border-slate-800 p-5 rounded-xl flex flex-col md:flex-row justify-between md:items-center gap-4 group hover:border-slate-700 transition-all",children:[_.jsxs("div",{children:[_.jsxs("h3",{className:"font-bold text-white text-lg",children:[ee.title," ",_.jsx("span",{className:`text-[10px] uppercase tracking-wide px-2 py-0.5 rounded border ml-2 ${ee.contract_type==="internship"?"bg-purple-500/10 border-purple-500/20 text-purple-400":"bg-blue-500/10 border-blue-500/20 text-blue-400"}`,children:ee.contract_type==="internship"?"Intern":"Full Time"})]}),_.jsxs("p",{className:"text-sm text-slate-400",children:[ee.company,"  ",ee.location]}),_.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Posted: ",et(ee.date_posted)]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{onClick:()=>{F({title:ee.title,company:ee.company,location:ee.location,description:ee.description,skills_required:ee.skills_required,contract_type:ee.contract_type,url:ee.url,date_posted:ee.date_posted}),U(ee.id),L(!0),window.scrollTo({top:0,behavior:"smooth"})},className:"px-3 py-2 bg-slate-800 hover:bg-slate-700 text-blue-400 rounded-lg transition-colors text-sm font-medium border border-slate-700",children:"Edit"}),_.jsx("button",{onClick:()=>K({open:!0,id:ee.id,title:ee.title}),className:"px-3 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors text-sm font-medium border border-red-500/10",children:"Delete"})]})]},ee.id)),p.length===0&&_.jsx("p",{className:"text-slate-500 text-center py-8",children:"No jobs posted yet."})]}),_.jsx(wr,{children:X.open&&_.jsx(In.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/90 backdrop-blur-sm",onClick:()=>K({open:!1,id:null,title:""}),children:_.jsxs(In.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-slate-900 border border-slate-700 p-6 rounded-2xl shadow-2xl max-w-sm w-full text-center relative",onClick:ee=>ee.stopPropagation(),children:[_.jsx("div",{className:"w-12 h-12 bg-red-500/10 rounded-full flex items-center justify-center mb-4 mx-auto ring-1 ring-red-500/20",children:_.jsx("svg",{className:"w-6 h-6 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),_.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Delete Job?"}),_.jsxs("p",{className:"text-slate-400 text-sm mb-6",children:["Are you sure you want to delete ",_.jsxs("span",{className:"text-white font-medium",children:['"',X.title,'"']}),"?"]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:()=>K({open:!1,id:null,title:""}),className:"flex-1 py-2.5 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-xl text-sm font-medium transition-colors",children:"Cancel"}),_.jsx("button",{onClick:Ve,className:"flex-1 py-2.5 bg-red-600 hover:bg-red-500 text-white rounded-xl text-sm font-bold shadow-lg shadow-red-900/20",children:"Delete"})]})]})})})]}),E==="deleted_users"&&_.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden shadow-xl",children:[_.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-800 flex justify-between items-center bg-slate-800/30",children:[_.jsx("h2",{className:"text-lg md:text-xl font-bold text-white",children:"Archives"}),_.jsxs("span",{className:"text-slate-500 text-sm",children:[c.length," total"]})]}),_.jsx("div",{className:"hidden md:block overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left text-sm text-slate-400",children:[_.jsx("thead",{className:"bg-slate-950 text-slate-200 uppercase text-xs font-bold tracking-wider",children:_.jsxs("tr",{children:[_.jsx("th",{className:"px-6 py-4",children:"User"}),_.jsx("th",{className:"px-6 py-4",children:"Reason"}),_.jsx("th",{className:"px-6 py-4",children:"Last Active"}),_.jsx("th",{className:"px-6 py-4",children:"Action"})]})}),_.jsx("tbody",{className:"divide-y divide-slate-800",children:c.length>0?c.map(ee=>_.jsxs("tr",{children:[_.jsx("td",{className:"px-6 py-4",children:_.jsxs("div",{children:[_.jsx("p",{className:"font-medium text-slate-300",children:ee.full_name}),_.jsx("p",{className:"text-xs text-slate-600",children:ee.email})]})}),_.jsx("td",{className:"px-6 py-4 flex-1 break-words max-w-xs",children:ee.deletion_reason||"No reason"}),_.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:et(ee.deleted_at)}),_.jsxs("td",{className:"px-6 py-4 flex gap-2",children:[_.jsx("button",{onClick:()=>ct(ee.id),className:"px-3 py-1 bg-green-500/10 text-green-400 rounded border border-green-500/20 text-xs font-bold uppercase hover:bg-green-500/20 transition-colors",children:"Restore"}),_.jsx("button",{onClick:()=>Q({open:!0,id:ee.id,name:ee.full_name}),className:"p-1.5 bg-red-500/10 text-red-500 rounded border border-red-500/20 hover:bg-red-500/20 transition-colors",title:"Permanently Delete",children:_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},ee.id)):_.jsx("tr",{children:_.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-slate-500",children:"No deleted users found."})})})]})}),_.jsx("div",{className:"md:hidden space-y-2 p-3",children:c.length>0?c.map(ee=>_.jsxs("div",{className:"bg-slate-950 p-4 rounded-xl border border-slate-800",children:[_.jsxs("div",{className:"flex justify-between items-start mb-2",children:[_.jsxs("div",{children:[_.jsx("p",{className:"font-bold text-slate-300 text-sm",children:ee.full_name}),_.jsx("p",{className:"text-xs text-slate-600",children:ee.email})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>ct(ee.id),className:"px-3 py-1 bg-green-500/10 text-green-400 rounded-lg border border-green-500/20 text-xs font-bold uppercase",children:"Restore"}),_.jsx("button",{onClick:()=>Q({open:!0,id:ee.id,name:ee.full_name}),className:"p-1.5 bg-red-500/10 text-red-500 rounded-lg border border-red-500/20",title:"Delete Forever",children:_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),_.jsxs("div",{className:"text-xs text-slate-500 bg-slate-900 p-2 rounded border border-slate-800 mb-2",children:[_.jsx("span",{className:"text-slate-400 font-bold",children:"Reason:"})," ",ee.deletion_reason||"No reason"]}),_.jsxs("p",{className:"text-[10px] text-slate-600 text-right",children:["Last Active: ",et(ee.deleted_at)]})]},ee.id)):_.jsx("div",{className:"text-center p-6 text-slate-500",children:"No deleted users."})})]}),E==="messages"&&_.jsxs("div",{className:"space-y-8 min-h-[600px] relative",children:[_.jsx(wr,{children:fe.open&&_.jsx(In.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/90 backdrop-blur-sm",onClick:()=>V({open:!1,id:null}),children:_.jsxs(In.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-slate-900 border border-red-500/20 p-8 rounded-3xl shadow-2xl max-w-sm w-full text-center relative",onClick:ee=>ee.stopPropagation(),children:[_.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mb-4 mx-auto ring-1 ring-red-500/20",children:_.jsx("svg",{className:"w-8 h-8 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),_.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Delete Message?"}),_.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"This message will be removed permanently."}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("button",{onClick:()=>V({open:!1,id:null}),className:"flex-1 py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-xl text-sm font-medium transition-colors",children:"Cancel"}),_.jsx("button",{onClick:Ue,className:"flex-1 py-3 bg-red-600 hover:bg-red-500 text-white rounded-xl text-sm font-bold shadow-lg shadow-red-900/20",children:"Delete"})]})]})})}),_.jsx(wr,{children:Pe.open&&_.jsx(In.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/90 backdrop-blur-sm",onClick:()=>pe({...Pe,open:!1}),children:_.jsxs(In.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-slate-900 border border-slate-700/50 p-6 md:p-8 rounded-3xl shadow-2xl max-w-lg w-full relative",onClick:ee=>ee.stopPropagation(),children:[_.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[_.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:_.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),"Reply to ",Pe.userName]}),_.jsxs("form",{onSubmit:Re,className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-slate-500 text-xs font-bold uppercase tracking-wider mb-2 block",children:"Subject"}),_.jsx("input",{value:_e.subject,onChange:ee=>We({..._e,subject:ee.target.value}),className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-3 text-white focus:border-blue-500 outline-none transition-colors"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-slate-500 text-xs font-bold uppercase tracking-wider mb-2 block",children:"Message"}),_.jsx("textarea",{value:_e.content,onChange:ee=>We({..._e,content:ee.target.value}),rows:"6",className:"w-full bg-slate-950 border border-slate-700 rounded-xl p-3 text-white focus:border-blue-500 outline-none transition-colors resize-none"})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("button",{type:"button",onClick:()=>pe({...Pe,open:!1}),className:"flex-1 py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-xl font-medium transition-colors",children:"Cancel"}),_.jsxs("button",{type:"submit",className:"flex-1 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-xl font-bold shadow-lg shadow-blue-900/20 transition-all flex items-center justify-center gap-2",children:["Send Reply ",_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})]})]})]})]})})}),_.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden shadow-xl p-4 md:p-6",children:[_.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[_.jsx("span",{className:"bg-blue-500 w-2 h-2 rounded-full animate-pulse"}),"New / Pending ",_.jsxs("span",{className:"text-slate-500 text-sm font-normal",children:["(",nt.length,")"]})]}),_.jsx("div",{className:"grid gap-4",children:nt.length>0?nt.map(ee=>_.jsx("div",{className:"bg-slate-950/40 border border-slate-800/50 p-4 md:p-6 rounded-2xl hover:border-blue-500/30 transition-all border-l-4 border-l-blue-500",children:_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[_.jsxs("div",{children:[_.jsxs("h4",{className:"font-bold text-white text-base md:text-lg",children:[ee.user_name," ",_.jsxs("span",{className:"text-xs font-normal text-slate-500 block md:inline",children:["(",ee.user_email,")"]})]}),_.jsx("p",{className:"text-sm text-slate-300 mt-2",children:ee.content}),_.jsx("span",{className:"text-xs text-slate-600 mt-2 block",children:new Date(ee.timestamp).toLocaleString()})]}),_.jsxs("div",{className:"flex gap-2 self-end md:self-start",children:[_.jsx("button",{onClick:()=>Be(ee),className:"text-xs md:text-sm bg-blue-600/20 text-blue-400 px-4 py-2 rounded-lg border border-blue-500/20 hover:bg-blue-600/30 transition-colors font-medium",children:"Reply"}),_.jsx("button",{onClick:()=>xe(ee.id),className:"text-xs md:text-sm text-red-500 px-4 py-2 bg-red-500/10 border border-red-500/20 rounded-lg hover:bg-red-500/20 transition-colors font-medium",children:"Delete"})]})]})},ee.id)):_.jsx("div",{className:"text-center py-8 text-slate-500 italic",children:"No pending messages. Good job!"})})]}),_.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden shadow-xl p-4 md:p-6 opacity-80 hover:opacity-100 transition-opacity",children:[_.jsxs("h2",{className:"text-xl font-bold text-slate-300 mb-4 flex items-center gap-2",children:[_.jsx("span",{className:"bg-green-500 w-2 h-2 rounded-full"}),"Replied History ",_.jsxs("span",{className:"text-slate-500 text-sm font-normal",children:["(",wt.length,")"]})]}),_.jsx("div",{className:"grid gap-4",children:wt.length>0?wt.map(ee=>_.jsx("div",{className:"bg-slate-950/40 border border-slate-800/50 p-4 md:p-6 rounded-2xl hover:border-slate-700 transition-all",children:_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[_.jsxs("div",{children:[_.jsxs("h4",{className:"font-bold text-slate-400 text-base md:text-lg",children:[ee.user_name," ",_.jsxs("span",{className:"text-xs font-normal text-slate-500 block md:inline",children:["(",ee.user_email,")"]})]}),_.jsx("p",{className:"text-sm text-slate-500 mt-2",children:ee.content}),_.jsx("span",{className:"text-xs text-slate-600 mt-2 block",children:new Date(ee.timestamp).toLocaleString()})]}),_.jsxs("div",{className:"flex gap-2 self-end md:self-start",children:[_.jsx("span",{className:"inline-block px-3 py-1 bg-green-500/10 text-green-500 text-xs rounded-lg border border-green-500/20 font-bold uppercase tracking-wider",children:"Replied"}),_.jsx("button",{onClick:()=>xe(ee.id),className:"text-xs md:text-sm text-slate-500 px-4 py-2 bg-slate-800 border border-slate-700 rounded-lg hover:text-red-400 hover:bg-red-900/10 transition-colors",children:"Delete"})]})]})},ee.id)):_.jsx("div",{className:"text-center py-8 text-slate-500 italic",children:"No replied messages yet."})})]})]}),E==="logs"&&_.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl overflow-hidden shadow-xl p-4 md:p-6",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:"text-lg md:text-xl font-bold text-white",children:"System Logs"}),_.jsxs("div",{className:"flex gap-3",children:[_.jsxs("button",{onClick:vt,className:"text-xs md:text-sm text-blue-400 bg-blue-500/10 hover:bg-blue-500/20 px-3 py-1.5 rounded-lg border border-blue-500/20 transition-colors flex items-center gap-2",children:[_.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),_.jsx("button",{onClick:()=>ue(!0),className:"text-xs md:text-sm text-red-500 bg-red-500/10 hover:bg-red-500/20 px-3 py-1.5 rounded-lg border border-red-500/20 transition-colors",children:"Clear All"})]})]}),_.jsx("div",{className:"space-y-2 font-mono text-xs md:text-sm max-h-[600px] overflow-y-auto custom-scrollbar",children:ce.length>0?ce.map(ee=>_.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-1 md:gap-4 text-slate-300 bg-slate-950/50 p-2 rounded border border-slate-800/50",children:[_.jsx("span",{className:"text-slate-500 text-[10px] md:text-xs min-w-[170px] flex-shrink-0",children:new Date(ee.timestamp).toLocaleString()}),_.jsx("span",{className:`font-bold text-[10px] md:text-xs min-w-[50px] flex-shrink-0 ${ee.level==="INFO"?"text-green-400":ee.level==="WARN"?"text-yellow-400":ee.level==="ERROR"?"text-red-400":"text-blue-400"}`,children:ee.level}),_.jsx("span",{className:"break-all",children:ee.message})]},ee.id)):_.jsx("div",{className:"text-center py-8 text-slate-500",children:"No logs found."})})]})]})]})},O3=({title:i,value:e,icon:t,trend:n,color:s})=>{const r={blue:"bg-blue-500/10 border-blue-500/20 text-blue-500",green:"bg-green-500/10 border-green-500/20 text-green-500",purple:"bg-purple-500/10 border-purple-500/20 text-purple-500"};return _.jsxs("div",{className:"bg-slate-900 border border-slate-800 p-6 rounded-2xl hover:border-slate-700 transition-all shadow-xl group",children:[_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsx("div",{className:`p-3 rounded-xl ${r[s]} group-hover:scale-110 transition-transform duration-300`,children:t}),n&&_.jsx("span",{className:"text-xs font-medium text-slate-400 bg-slate-950 px-2 py-1 rounded-full border border-slate-800",children:n})]}),_.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-1",children:e}),_.jsx("p",{className:"text-slate-400 text-sm font-medium",children:i})]})},nQ=({message:i})=>_.jsxs("div",{className:"fixed bottom-24 left-1/2 transform -translate-x-1/2 w-[90%] max-w-sm bg-slate-800/95 backdrop-blur-md border border-slate-600/50 text-white px-6 py-4 rounded-2xl shadow-2xl z-[60] flex items-start gap-4 animate-bounce-in",children:[_.jsx("span",{className:"text-yellow-400 text-2xl",children:""}),_.jsxs("div",{children:[_.jsx("p",{className:"font-bold text-sm mb-1",children:"Source Code Private"}),_.jsx("p",{className:"text-xs text-slate-400 leading-relaxed",children:i})]})]});function iQ(){const[i,e]=se.useState(()=>{try{const c=localStorage.getItem("user");return c?JSON.parse(c):null}catch(c){return console.error("Corrupted user data in localStorage, clearing...",c),localStorage.removeItem("user"),null}}),[t,n]=se.useState(!1),[s,r]=se.useState(()=>{const c=localStorage.getItem("currentPage");return localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).role==="admin"?c==="admin"?"admin":c||"home":c&&c!=="auth"&&c!=="admin"?c:"home":"home"});se.useEffect(()=>{s&&s!=="auth"&&localStorage.setItem("currentPage",s)},[s]);const o=()=>{n(!0),setTimeout(()=>n(!1),4e3)};return se.useEffect(()=>{const c=new URLSearchParams(window.location.search),d=c.get("token");if(d){const p=c.get("role"),m=c.get("email"),g=c.get("full_name"),y=c.get("id"),b={id:Number(y),email:m,full_name:g,role:p,avatar_id:1,token:d};e(b),localStorage.setItem("user",JSON.stringify(b)),window.history.replaceState({},document.title,window.location.pathname),r(p==="admin"?"admin":"home")}},[]),se.useEffect(()=>{if(!i)return;const c=async()=>{try{const p=await fetch(`/auth/verify/${i.id}`);!p.ok&&p.status===403&&(localStorage.removeItem("user"),e(null),r("home"))}catch(p){console.error("Heartbeat failed",p)}};c();const d=setInterval(c,3e4);return()=>clearInterval(d)},[i]),se.useEffect(()=>{["resume","ats","interview","admin"].includes(s)&&!i&&r(s==="admin"?"home":"auth"),s==="admin"&&i&&i.role!=="admin"&&r("home")},[s,i]),se.useEffect(()=>{i?localStorage.setItem("user",JSON.stringify(i)):localStorage.removeItem("user")},[i]),_.jsxs("div",{className:"min-h-screen flex flex-col bg-slate-900 text-slate-50 font-sans selection:bg-blue-500/30",children:[t&&_.jsx(nQ,{message:"Source code is private. Contact via LinkedIn for access."}),s!=="auth"&&s!=="admin"&&_.jsx(y7,{setCurrentPage:r,currentPage:s,user:i,setUser:e}),s!=="home"&&s!=="auth"&&_.jsxs("div",{className:"fixed inset-0 z-0 overflow-hidden pointer-events-none",children:[_.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-96 h-96 bg-blue-500/20 rounded-full blur-3xl"}),_.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-purple-500/20 rounded-full blur-3xl"})]}),_.jsxs("div",{className:`relative z-10 flex-1 ${["home","auth","admin"].includes(s)?"":"container mx-auto px-4 py-24"}`,children:[s==="home"&&_.jsx($K,{setPage:r,user:i}),s==="resume"&&_.jsx(f7,{}),s==="ats"&&_.jsx(d7,{}),s==="interview"&&_.jsx(x7,{setPage:r}),s==="auth"&&_.jsx(eQ,{setPage:r,setUser:e}),s==="admin"&&_.jsx(tQ,{user:i,setUser:e,setPage:r})]}),s!=="auth"&&_.jsx("footer",{className:"relative z-10 py-12 text-center text-slate-400 text-base bg-slate-900/80 border-t border-slate-800/50 backdrop-blur-md mt-auto",children:_.jsxs("div",{className:"container mx-auto px-4 flex flex-col md:flex-row justify-between items-center gap-6",children:[_.jsxs("div",{className:"flex flex-col items-center md:items-start gap-2",children:[_.jsxs("p",{className:"flex items-center gap-2 hover:text-slate-200 transition-colors cursor-default",children:[_.jsx("span",{className:"text-xl",children:""}),_.jsxs("span",{children:["Made by ",_.jsx("span",{className:"font-bold text-white text-lg",children:"Arun Suresh"})," using AI"]})]}),_.jsx("p",{className:"text-slate-500 text-sm",children:" 2025 LaunchPad. All rights reserved."})]}),_.jsxs("div",{className:"flex items-center gap-6",children:[_.jsx("a",{href:"https://www.linkedin.com/in/arun-suresh-/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-[#0077b5] hover:scale-110 transition-all duration-300","aria-label":"LinkedIn",children:_.jsx("svg",{className:"w-7 h-7",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),_.jsx("button",{onClick:o,className:"hover:text-white hover:scale-110 transition-all duration-300 focus:outline-none","aria-label":"GitHub",children:_.jsx("svg",{className:"w-7 h-7",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})}),_.jsx("a",{href:"https://arun-suresh-portfolio.netlify.app/",target:"_blank",rel:"noopener noreferrer",className:"hover:text-green-400 hover:scale-110 transition-all duration-300","aria-label":"Portfolio",children:_.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})})]})]})})]})}class sQ extends u5.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Uncaught error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?_.jsx("div",{className:"min-h-screen bg-slate-900 text-white flex flex-col items-center justify-center p-8 text-center",children:_.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 p-8 rounded-2xl max-w-2xl",children:[_.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),_.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Something went wrong."}),_.jsx("p",{className:"text-slate-300 mb-6",children:"The application encountered an unexpected error."}),_.jsxs("div",{className:"text-left bg-black/50 p-4 rounded-lg font-mono text-xs overflow-auto max-h-64 mb-6 border border-slate-700",children:[_.jsx("p",{className:"text-red-400 font-bold mb-2",children:this.state.error&&this.state.error.toString()}),_.jsx("pre",{className:"text-slate-500",children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),_.jsx("button",{onClick:()=>{localStorage.clear(),window.location.href="/"},className:"px-6 py-3 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-xl transition-colors",children:"Clear Cache & Reload"})]})}):this.props.children}}t6.createRoot(document.getElementById("root")).render(_.jsx(se.StrictMode,{children:_.jsx(sQ,{children:_.jsx(iQ,{})})}));
